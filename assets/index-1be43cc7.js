(function(){const M=document.createElement("link").relList;if(M&&M.supports&&M.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const d of R)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&C(l)}).observe(document,{childList:!0,subtree:!0});function w(R){const d={};return R.integrity&&(d.integrity=R.integrity),R.referrerPolicy&&(d.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?d.credentials="include":R.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function C(R){if(R.ep)return;R.ep=!0;const d=w(R);fetch(R.href,d)}})();var xr=function(){function E(l,a){if(!R[l]){R[l]={};for(var t=0;t<l.length;t++)R[l][l.charAt(t)]=t}return R[l][a]}var M=String.fromCharCode,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",R={},d={compressToBase64:function(l){if(l==null)return"";var a=d._compress(l,6,function(t){return w.charAt(t)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:d._decompress(l.length,32,function(a){return E(w,l.charAt(a))})},compressToUTF16:function(l){return l==null?"":d._compress(l,15,function(a){return M(a+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:d._decompress(l.length,16384,function(a){return l.charCodeAt(a)-32})},compressToUint8Array:function(l){for(var a=d.compress(l),t=new Uint8Array(2*a.length),e=0,n=a.length;n>e;e++){var r=a.charCodeAt(e);t[2*e]=r>>>8,t[2*e+1]=r%256}return t},decompressFromUint8Array:function(l){if(l==null)return d.decompress(l);for(var a=new Array(l.length/2),t=0,e=a.length;e>t;t++)a[t]=256*l[2*t]+l[2*t+1];var n=[];return a.forEach(function(r){n.push(M(r))}),d.decompress(n.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":d._compress(l,6,function(a){return C.charAt(a)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),d._decompress(l.length,32,function(a){return E(C,l.charAt(a))}))},compress:function(l){return d._compress(l,16,function(a){return M(a)})},_compress:function(l,a,t){if(l==null)return"";var e,n,r,i={},o={},h="",p="",y="",L=2,m=3,s=2,f=[],_=0,g=0;for(r=0;r<l.length;r+=1)if(h=l.charAt(r),Object.prototype.hasOwnProperty.call(i,h)||(i[h]=m++,o[h]=!0),p=y+h,Object.prototype.hasOwnProperty.call(i,p))y=p;else{if(Object.prototype.hasOwnProperty.call(o,y)){if(y.charCodeAt(0)<256){for(e=0;s>e;e++)_<<=1,g==a-1?(g=0,f.push(t(_)),_=0):g++;for(n=y.charCodeAt(0),e=0;8>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1}else{for(n=1,e=0;s>e;e++)_=_<<1|n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n=0;for(n=y.charCodeAt(0),e=0;16>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1}L--,L==0&&(L=Math.pow(2,s),s++),delete o[y]}else for(n=i[y],e=0;s>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1;L--,L==0&&(L=Math.pow(2,s),s++),i[p]=m++,y=String(h)}if(y!==""){if(Object.prototype.hasOwnProperty.call(o,y)){if(y.charCodeAt(0)<256){for(e=0;s>e;e++)_<<=1,g==a-1?(g=0,f.push(t(_)),_=0):g++;for(n=y.charCodeAt(0),e=0;8>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1}else{for(n=1,e=0;s>e;e++)_=_<<1|n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n=0;for(n=y.charCodeAt(0),e=0;16>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1}L--,L==0&&(L=Math.pow(2,s),s++),delete o[y]}else for(n=i[y],e=0;s>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1;L--,L==0&&(L=Math.pow(2,s),s++)}for(n=2,e=0;s>e;e++)_=_<<1|1&n,g==a-1?(g=0,f.push(t(_)),_=0):g++,n>>=1;for(;;){if(_<<=1,g==a-1){f.push(t(_));break}g++}return f.join("")},decompress:function(l){return l==null?"":l==""?null:d._decompress(l.length,32768,function(a){return l.charCodeAt(a)})},_decompress:function(l,a,t){var e,n,r,i,o,h,p,y=[],L=4,m=4,s=3,f="",_=[],g={val:t(0),position:a,index:1};for(e=0;3>e;e+=1)y[e]=e;for(r=0,o=Math.pow(2,2),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;switch(r){case 0:for(r=0,o=Math.pow(2,8),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;p=M(r);break;case 1:for(r=0,o=Math.pow(2,16),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;p=M(r);break;case 2:return""}for(y[3]=p,n=p,_.push(p);;){if(g.index>l)return"";for(r=0,o=Math.pow(2,s),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;switch(p=r){case 0:for(r=0,o=Math.pow(2,8),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;y[m++]=M(r),p=m-1,L--;break;case 1:for(r=0,o=Math.pow(2,16),h=1;h!=o;)i=g.val&g.position,g.position>>=1,g.position==0&&(g.position=a,g.val=t(g.index++)),r|=(i>0?1:0)*h,h<<=1;y[m++]=M(r),p=m-1,L--;break;case 2:return _.join("")}if(L==0&&(L=Math.pow(2,s),s++),y[p])f=y[p];else{if(p!==m)return null;f=n+n.charAt(0)}_.push(f),y[m++]=n+f.charAt(0),L--,n=f,L==0&&(L=Math.pow(2,s),s++)}}};return d}();typeof define=="function"&&define.amd?define(function(){return xr}):typeof module<"u"&&module!=null&&(module.exports=xr);/*!

JSZip v3.5.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(E){typeof exports=="object"&&typeof module<"u"?module.exports=E():typeof define=="function"&&define.amd?define([],E):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=E()})(function(){return function E(M,w,C){function R(a,t){if(!w[a]){if(!M[a]){var e=typeof require=="function"&&require;if(!t&&e)return e(a,!0);if(d)return d(a,!0);var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n}var r=w[a]={exports:{}};M[a][0].call(r.exports,function(i){var o=M[a][1][i];return R(o||i)},r,r.exports,E,M,w,C)}return w[a].exports}for(var d=typeof require=="function"&&require,l=0;l<C.length;l++)R(C[l]);return R}({1:[function(E,M,w){var C=E("./utils"),R=E("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(l){for(var a,t,e,n,r,i,o,h=[],p=0,y=l.length,L=y,m=C.getTypeOf(l)!=="string";p<l.length;)L=y-p,e=m?(a=l[p++],t=p<y?l[p++]:0,p<y?l[p++]:0):(a=l.charCodeAt(p++),t=p<y?l.charCodeAt(p++):0,p<y?l.charCodeAt(p++):0),n=a>>2,r=(3&a)<<4|t>>4,i=1<L?(15&t)<<2|e>>6:64,o=2<L?63&e:64,h.push(d.charAt(n)+d.charAt(r)+d.charAt(i)+d.charAt(o));return h.join("")},w.decode=function(l){var a,t,e,n,r,i,o=0,h=0,p="data:";if(l.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var y,L=3*(l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(l.charAt(l.length-1)===d.charAt(64)&&L--,l.charAt(l.length-2)===d.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=R.uint8array?new Uint8Array(0|L):new Array(0|L);o<l.length;)a=d.indexOf(l.charAt(o++))<<2|(n=d.indexOf(l.charAt(o++)))>>4,t=(15&n)<<4|(r=d.indexOf(l.charAt(o++)))>>2,e=(3&r)<<6|(i=d.indexOf(l.charAt(o++))),y[h++]=a,r!==64&&(y[h++]=t),i!==64&&(y[h++]=e);return y}},{"./support":30,"./utils":32}],2:[function(E,M,w){var C=E("./external"),R=E("./stream/DataWorker"),d=E("./stream/DataLengthProbe"),l=E("./stream/Crc32Probe");d=E("./stream/DataLengthProbe");function a(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var t=new R(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new R(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new l).pipe(new d("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new d("compressedSize")).withStreamInfo("compression",e)},M.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(E,M,w){var C=E("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(R){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},w.DEFLATE=E("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(E,M,w){var C=E("./utils"),R=function(){for(var d,l=[],a=0;a<256;a++){d=a;for(var t=0;t<8;t++)d=1&d?3988292384^d>>>1:d>>>1;l[a]=d}return l}();M.exports=function(d,l){return d!==void 0&&d.length?C.getTypeOf(d)!=="string"?function(a,t,e,n){var r=R,i=n+e;a^=-1;for(var o=n;o<i;o++)a=a>>>8^r[255&(a^t[o])];return-1^a}(0|l,d,d.length,0):function(a,t,e,n){var r=R,i=n+e;a^=-1;for(var o=n;o<i;o++)a=a>>>8^r[255&(a^t.charCodeAt(o))];return-1^a}(0|l,d,d.length,0):0}},{"./utils":32}],5:[function(E,M,w){w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(E,M,w){var C=null;C=typeof Promise<"u"?Promise:E("lie"),M.exports={Promise:C}},{lie:37}],7:[function(E,M,w){var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",R=E("pako"),d=E("./utils"),l=E("./stream/GenericWorker"),a=C?"uint8array":"array";function t(e,n){l.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}w.magic="\b\0",d.inherits(t,l),t.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(a,e.data),!1)},t.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},t.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},t.prototype._createPako=function(){this._pako=new R[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(n){e.push({data:n,meta:e.meta})}},w.compressWorker=function(e){return new t("Deflate",e)},w.uncompressWorker=function(){return new t("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(E,M,w){function C(r,i){var o,h="";for(o=0;o<i;o++)h+=String.fromCharCode(255&r),r>>>=8;return h}function R(r,i,o,h,p,y){var L,m,s=r.file,f=r.compression,_=y!==a.utf8encode,g=d.transformTo("string",y(s.name)),v=d.transformTo("string",a.utf8encode(s.name)),c=s.comment,b=d.transformTo("string",y(c)),k=d.transformTo("string",a.utf8encode(c)),F=v.length!==s.name.length,x=k.length!==c.length,N="",G="",q="",ne=s.dir,Z=s.date,K={crc32:0,compressedSize:0,uncompressedSize:0};i&&!o||(K.crc32=r.crc32,K.compressedSize=r.compressedSize,K.uncompressedSize=r.uncompressedSize);var X=0;i&&(X|=8),_||!F&&!x||(X|=2048);var ee=0,ie=0;ne&&(ee|=16),p==="UNIX"?(ie=798,ee|=function(ce,ye){var pe=ce;return ce||(pe=ye?16893:33204),(65535&pe)<<16}(s.unixPermissions,ne)):(ie=20,ee|=function(ce){return 63&(ce||0)}(s.dosPermissions)),L=Z.getUTCHours(),L<<=6,L|=Z.getUTCMinutes(),L<<=5,L|=Z.getUTCSeconds()/2,m=Z.getUTCFullYear()-1980,m<<=4,m|=Z.getUTCMonth()+1,m<<=5,m|=Z.getUTCDate(),F&&(G=C(1,1)+C(t(g),4)+v,N+="up"+C(G.length,2)+G),x&&(q=C(1,1)+C(t(b),4)+k,N+="uc"+C(q.length,2)+q);var le="";return le+=`
\0`,le+=C(X,2),le+=f.magic,le+=C(L,2),le+=C(m,2),le+=C(K.crc32,4),le+=C(K.compressedSize,4),le+=C(K.uncompressedSize,4),le+=C(g.length,2),le+=C(N.length,2),{fileRecord:e.LOCAL_FILE_HEADER+le+g+N,dirRecord:e.CENTRAL_FILE_HEADER+C(ie,2)+le+C(b.length,2)+"\0\0\0\0"+C(ee,4)+C(h,4)+g+N+b}}var d=E("../utils"),l=E("../stream/GenericWorker"),a=E("../utf8"),t=E("../crc32"),e=E("../signature");function n(r,i,o,h){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=i,this.zipPlatform=o,this.encodeFileName=h,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(n,l),n.prototype.push=function(r){var i=r.meta.percent||0,o=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,l.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:o?(i+100*(o-h-1))/o:100}}))},n.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var i=this.streamFiles&&!r.file.dir;if(i){var o=R(r,i,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(r){this.accumulate=!1;var i=this.streamFiles&&!r.file.dir,o=R(r,i,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),i)this.push({data:function(h){return e.DATA_DESCRIPTOR+C(h.crc32,4)+C(h.compressedSize,4)+C(h.uncompressedSize,4)}(r),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var r=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var o=this.bytesWritten-r,h=function(p,y,L,m,s){var f=d.transformTo("string",s(m));return e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(p,2)+C(p,2)+C(y,4)+C(L,4)+C(f.length,2)+f}(this.dirRecords.length,o,r,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(r){this._sources.push(r);var i=this;return r.on("data",function(o){i.processChunk(o)}),r.on("end",function(){i.closedSource(i.previous.streamInfo),i._sources.length?i.prepareNextSource():i.end()}),r.on("error",function(o){i.error(o)}),this},n.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(r){var i=this._sources;if(!l.prototype.error.call(this,r))return!1;for(var o=0;o<i.length;o++)try{i[o].error(r)}catch{}return!0},n.prototype.lock=function(){l.prototype.lock.call(this);for(var r=this._sources,i=0;i<r.length;i++)r[i].lock()},M.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(E,M,w){var C=E("../compressions"),R=E("./ZipFileWorker");w.generateWorker=function(d,l,a){var t=new R(l.streamFiles,a,l.platform,l.encodeFileName),e=0;try{d.forEach(function(n,r){e++;var i=function(y,L){var m=y||L,s=C[m];if(!s)throw new Error(m+" is not a valid compression method !");return s}(r.options.compression,l.compression),o=r.options.compressionOptions||l.compressionOptions||{},h=r.dir,p=r.date;r._compressWorker(i,o).withStreamInfo("file",{name:n,dir:h,date:p,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(t)}),t.entriesCount=e}catch(n){t.error(n)}return t}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(E,M,w){function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var R=new C;for(var d in this)typeof this[d]!="function"&&(R[d]=this[d]);return R}}(C.prototype=E("./object")).loadAsync=E("./load"),C.support=E("./support"),C.defaults=E("./defaults"),C.version="3.5.0",C.loadAsync=function(R,d){return new C().loadAsync(R,d)},C.external=E("./external"),M.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(E,M,w){var C=E("./utils"),R=E("./external"),d=E("./utf8"),l=(C=E("./utils"),E("./zipEntries")),a=E("./stream/Crc32Probe"),t=E("./nodejsUtils");function e(n){return new R.Promise(function(r,i){var o=n.decompressed.getContentWorker().pipe(new a);o.on("error",function(h){i(h)}).on("end",function(){o.streamInfo.crc32!==n.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}M.exports=function(n,r){var i=this;return r=C.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),t.isNode&&t.isStream(n)?R.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",n,!0,r.optimizedBinaryString,r.base64).then(function(o){var h=new l(r);return h.load(o),h}).then(function(o){var h=[R.Promise.resolve(o)],p=o.files;if(r.checkCRC32)for(var y=0;y<p.length;y++)h.push(e(p[y]));return R.Promise.all(h)}).then(function(o){for(var h=o.shift(),p=h.files,y=0;y<p.length;y++){var L=p[y];i.file(L.fileNameStr,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:r.createFolders})}return h.zipComment.length&&(i.comment=h.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(E,M,w){var C=E("../utils"),R=E("../stream/GenericWorker");function d(l,a){R.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(a)}C.inherits(d,R),d.prototype._bindStream=function(l){var a=this;(this._stream=l).pause(),l.on("data",function(t){a.push({data:t,meta:{percent:0}})}).on("error",function(t){a.isPaused?this.generatedError=t:a.error(t)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},d.prototype.pause=function(){return!!R.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},M.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(E,M,w){var C=E("readable-stream").Readable;function R(d,l,a){C.call(this,l),this._helper=d;var t=this;d.on("data",function(e,n){t.push(e)||t._helper.pause(),a&&a(n)}).on("error",function(e){t.emit("error",e)}).on("end",function(){t.push(null)})}E("../utils").inherits(R,C),R.prototype._read=function(){this._helper.resume()},M.exports=R},{"../utils":32,"readable-stream":16}],14:[function(E,M,w){M.exports={isNode:typeof Buffer<"u",newBufferFrom:function(C,R){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(C,R);if(typeof C=="number")throw new Error('The "data" argument must not be a number');return new Buffer(C,R)},allocBuffer:function(C){if(Buffer.alloc)return Buffer.alloc(C);var R=new Buffer(C);return R.fill(0),R},isBuffer:function(C){return Buffer.isBuffer(C)},isStream:function(C){return C&&typeof C.on=="function"&&typeof C.pause=="function"&&typeof C.resume=="function"}}},{}],15:[function(E,M,w){function C(s,f,_){var g,v=d.getTypeOf(f),c=d.extend(_||{},t);c.date=c.date||new Date,c.compression!==null&&(c.compression=c.compression.toUpperCase()),typeof c.unixPermissions=="string"&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(s=p(s)),c.createFolders&&(g=h(s))&&y.call(this,g,!0);var b=v==="string"&&c.binary===!1&&c.base64===!1;_&&_.binary!==void 0||(c.binary=!b),(f instanceof e&&f.uncompressedSize===0||c.dir||!f||f.length===0)&&(c.base64=!1,c.binary=!0,f="",c.compression="STORE",v="string");var k=null;k=f instanceof e||f instanceof l?f:i.isNode&&i.isStream(f)?new o(s,f):d.prepareContent(s,f,c.binary,c.optimizedBinaryString,c.base64);var F=new n(s,k,c);this.files[s]=F}var R=E("./utf8"),d=E("./utils"),l=E("./stream/GenericWorker"),a=E("./stream/StreamHelper"),t=E("./defaults"),e=E("./compressedObject"),n=E("./zipObject"),r=E("./generate"),i=E("./nodejsUtils"),o=E("./nodejs/NodejsStreamInputAdapter"),h=function(s){s.slice(-1)==="/"&&(s=s.substring(0,s.length-1));var f=s.lastIndexOf("/");return 0<f?s.substring(0,f):""},p=function(s){return s.slice(-1)!=="/"&&(s+="/"),s},y=function(s,f){return f=f!==void 0?f:t.createFolders,s=p(s),this.files[s]||C.call(this,s,null,{dir:!0,createFolders:f}),this.files[s]};function L(s){return Object.prototype.toString.call(s)==="[object RegExp]"}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(s){var f,_,g;for(f in this.files)this.files.hasOwnProperty(f)&&(g=this.files[f],(_=f.slice(this.root.length,f.length))&&f.slice(0,this.root.length)===this.root&&s(_,g))},filter:function(s){var f=[];return this.forEach(function(_,g){s(_,g)&&f.push(g)}),f},file:function(s,f,_){if(arguments.length!==1)return s=this.root+s,C.call(this,s,f,_),this;if(L(s)){var g=s;return this.filter(function(c,b){return!b.dir&&g.test(c)})}var v=this.files[this.root+s];return v&&!v.dir?v:null},folder:function(s){if(!s)return this;if(L(s))return this.filter(function(v,c){return c.dir&&s.test(v)});var f=this.root+s,_=y.call(this,f),g=this.clone();return g.root=_.name,g},remove:function(s){s=this.root+s;var f=this.files[s];if(f||(s.slice(-1)!=="/"&&(s+="/"),f=this.files[s]),f&&!f.dir)delete this.files[s];else for(var _=this.filter(function(v,c){return c.name.slice(0,s.length)===s}),g=0;g<_.length;g++)delete this.files[_[g].name];return this},generate:function(s){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(s){var f,_={};try{if((_=d.extend(s||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:R.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");d.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var g=_.comment||this.comment||"";f=r.generateWorker(this,_,g)}catch(v){(f=new l("error")).error(v)}return new a(f,_.type||"string",_.mimeType)},generateAsync:function(s,f){return this.generateInternalStream(s).accumulate(f)},generateNodeStream:function(s,f){return(s=s||{}).type||(s.type="nodebuffer"),this.generateInternalStream(s).toNodejsStream(f)}};M.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(E,M,w){M.exports=E("stream")},{stream:void 0}],17:[function(E,M,w){var C=E("./DataReader");function R(d){C.call(this,d);for(var l=0;l<this.data.length;l++)d[l]=255&d[l]}E("../utils").inherits(R,C),R.prototype.byteAt=function(d){return this.data[this.zero+d]},R.prototype.lastIndexOfSignature=function(d){for(var l=d.charCodeAt(0),a=d.charCodeAt(1),t=d.charCodeAt(2),e=d.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===l&&this.data[n+1]===a&&this.data[n+2]===t&&this.data[n+3]===e)return n-this.zero;return-1},R.prototype.readAndCheckSignature=function(d){var l=d.charCodeAt(0),a=d.charCodeAt(1),t=d.charCodeAt(2),e=d.charCodeAt(3),n=this.readData(4);return l===n[0]&&a===n[1]&&t===n[2]&&e===n[3]},R.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,l},M.exports=R},{"../utils":32,"./DataReader":18}],18:[function(E,M,w){var C=E("../utils");function R(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}R.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(d){},readInt:function(d){var l,a=0;for(this.checkOffset(d),l=this.index+d-1;l>=this.index;l--)a=(a<<8)+this.byteAt(l);return this.index+=d,a},readString:function(d){return C.transformTo("string",this.readData(d))},readData:function(d){},lastIndexOfSignature:function(d){},readAndCheckSignature:function(d){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},M.exports=R},{"../utils":32}],19:[function(E,M,w){var C=E("./Uint8ArrayReader");function R(d){C.call(this,d)}E("../utils").inherits(R,C),R.prototype.readData=function(d){this.checkOffset(d);var l=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,l},M.exports=R},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(E,M,w){var C=E("./DataReader");function R(d){C.call(this,d)}E("../utils").inherits(R,C),R.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},R.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},R.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},R.prototype.readData=function(d){this.checkOffset(d);var l=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,l},M.exports=R},{"../utils":32,"./DataReader":18}],21:[function(E,M,w){var C=E("./ArrayReader");function R(d){C.call(this,d)}E("../utils").inherits(R,C),R.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,l},M.exports=R},{"../utils":32,"./ArrayReader":17}],22:[function(E,M,w){var C=E("../utils"),R=E("../support"),d=E("./ArrayReader"),l=E("./StringReader"),a=E("./NodeBufferReader"),t=E("./Uint8ArrayReader");M.exports=function(e){var n=C.getTypeOf(e);return C.checkSupport(n),n!=="string"||R.uint8array?n==="nodebuffer"?new a(e):R.uint8array?new t(C.transformTo("uint8array",e)):new d(C.transformTo("array",e)):new l(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(E,M,w){w.LOCAL_FILE_HEADER="PK",w.CENTRAL_FILE_HEADER="PK",w.CENTRAL_DIRECTORY_END="PK",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(E,M,w){var C=E("./GenericWorker"),R=E("../utils");function d(l){C.call(this,"ConvertWorker to "+l),this.destType=l}R.inherits(d,C),d.prototype.processChunk=function(l){this.push({data:R.transformTo(this.destType,l.data),meta:l.meta})},M.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(E,M,w){var C=E("./GenericWorker"),R=E("../crc32");function d(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}E("../utils").inherits(d,C),d.prototype.processChunk=function(l){this.streamInfo.crc32=R(l.data,this.streamInfo.crc32||0),this.push(l)},M.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(E,M,w){var C=E("../utils"),R=E("./GenericWorker");function d(l){R.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}C.inherits(d,R),d.prototype.processChunk=function(l){if(l){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+l.data.length}R.prototype.processChunk.call(this,l)},M.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(E,M,w){var C=E("../utils"),R=E("./GenericWorker");function d(l){R.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(t){a.dataIsReady=!0,a.data=t,a.max=t&&t.length||0,a.type=C.getTypeOf(t),a.isPaused||a._tickAndRepeat()},function(t){a.error(t)})}C.inherits(d,R),d.prototype.cleanUp=function(){R.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,a);break;case"uint8array":l=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":l=this.data.slice(this.index,a)}return this.index=a,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},M.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(E,M,w){function C(R){this.name=R||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(R){this.emit("data",R)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(R){this.emit("error",R)}return!0},error:function(R){return!this.isFinished&&(this.isPaused?this.generatedError=R:(this.isFinished=!0,this.emit("error",R),this.previous&&this.previous.error(R),this.cleanUp()),!0)},on:function(R,d){return this._listeners[R].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(R,d){if(this._listeners[R])for(var l=0;l<this._listeners[R].length;l++)this._listeners[R][l].call(this,d)},pipe:function(R){return R.registerPrevious(this)},registerPrevious:function(R){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=R.streamInfo,this.mergeStreamInfo(),this.previous=R;var d=this;return R.on("data",function(l){d.processChunk(l)}),R.on("end",function(){d.end()}),R.on("error",function(l){d.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var R=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),R=!0),this.previous&&this.previous.resume(),!R},flush:function(){},processChunk:function(R){this.push(R)},withStreamInfo:function(R,d){return this.extraStreamInfo[R]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var R in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(R)&&(this.streamInfo[R]=this.extraStreamInfo[R])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var R="Worker "+this.name;return this.previous?this.previous+" -> "+R:R}},M.exports=C},{}],29:[function(E,M,w){var C=E("../utils"),R=E("./ConvertWorker"),d=E("./GenericWorker"),l=E("../base64"),a=E("../support"),t=E("../external"),e=null;if(a.nodestream)try{e=E("../nodejs/NodejsStreamOutputAdapter")}catch{}function n(i,o){return new t.Promise(function(h,p){var y=[],L=i._internalType,m=i._outputType,s=i._mimeType;i.on("data",function(f,_){y.push(f),o&&o(_)}).on("error",function(f){y=[],p(f)}).on("end",function(){try{var f=function(_,g,v){switch(_){case"blob":return C.newBlob(C.transformTo("arraybuffer",g),v);case"base64":return l.encode(g);default:return C.transformTo(_,g)}}(m,function(_,g){var v,c=0,b=null,k=0;for(v=0;v<g.length;v++)k+=g[v].length;switch(_){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(b=new Uint8Array(k),v=0;v<g.length;v++)b.set(g[v],c),c+=g[v].length;return b;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+_+"'")}}(L,y),s);h(f)}catch(_){p(_)}y=[]}).resume()})}function r(i,o,h){var p=o;switch(o){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=o,this._mimeType=h,C.checkSupport(p),this._worker=i.pipe(new R(p)),i.lock()}catch(y){this._worker=new d("error"),this._worker.error(y)}}r.prototype={accumulate:function(i){return n(this,i)},on:function(i,o){var h=this;return i==="data"?this._worker.on(i,function(p){o.call(h,p.data,p.meta)}):this._worker.on(i,function(){C.delay(o,arguments,h)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new e(this,{objectMode:this._outputType!=="nodebuffer"},i)}},M.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(E,M,w){if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var C=new ArrayBuffer(0);try{w.blob=new Blob([C],{type:"application/zip"}).size===0}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);R.append(C),w.blob=R.getBlob("application/zip").size===0}catch{w.blob=!1}}}try{w.nodestream=!!E("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(E,M,w){for(var C=E("./utils"),R=E("./support"),d=E("./nodejsUtils"),l=E("./stream/GenericWorker"),a=new Array(256),t=0;t<256;t++)a[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;a[254]=a[254]=1;function e(){l.call(this,"utf-8 decode"),this.leftOver=null}function n(){l.call(this,"utf-8 encode")}w.utf8encode=function(r){return R.nodebuffer?d.newBufferFrom(r,"utf-8"):function(i){var o,h,p,y,L,m=i.length,s=0;for(y=0;y<m;y++)(64512&(h=i.charCodeAt(y)))==55296&&y+1<m&&(64512&(p=i.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),y++),s+=h<128?1:h<2048?2:h<65536?3:4;for(o=R.uint8array?new Uint8Array(s):new Array(s),y=L=0;L<s;y++)(64512&(h=i.charCodeAt(y)))==55296&&y+1<m&&(64512&(p=i.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),y++),h<128?o[L++]=h:(h<2048?o[L++]=192|h>>>6:(h<65536?o[L++]=224|h>>>12:(o[L++]=240|h>>>18,o[L++]=128|h>>>12&63),o[L++]=128|h>>>6&63),o[L++]=128|63&h);return o}(r)},w.utf8decode=function(r){return R.nodebuffer?C.transformTo("nodebuffer",r).toString("utf-8"):function(i){var o,h,p,y,L=i.length,m=new Array(2*L);for(o=h=0;o<L;)if((p=i[o++])<128)m[h++]=p;else if(4<(y=a[p]))m[h++]=65533,o+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&o<L;)p=p<<6|63&i[o++],y--;1<y?m[h++]=65533:p<65536?m[h++]=p:(p-=65536,m[h++]=55296|p>>10&1023,m[h++]=56320|1023&p)}return m.length!==h&&(m.subarray?m=m.subarray(0,h):m.length=h),C.applyFromCharCode(m)}(r=C.transformTo(R.uint8array?"uint8array":"array",r))},C.inherits(e,l),e.prototype.processChunk=function(r){var i=C.transformTo(R.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(R.uint8array){var o=i;(i=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),i.set(o,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var h=function(y,L){var m;for((L=L||y.length)>y.length&&(L=y.length),m=L-1;0<=m&&(192&y[m])==128;)m--;return m<0||m===0?L:m+a[y[m]]>L?m:L}(i),p=i;h!==i.length&&(R.uint8array?(p=i.subarray(0,h),this.leftOver=i.subarray(h,i.length)):(p=i.slice(0,h),this.leftOver=i.slice(h,i.length))),this.push({data:w.utf8decode(p),meta:r.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=e,C.inherits(n,l),n.prototype.processChunk=function(r){this.push({data:w.utf8encode(r.data),meta:r.meta})},w.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(E,M,w){var C=E("./support"),R=E("./base64"),d=E("./nodejsUtils"),l=E("set-immediate-shim"),a=E("./external");function t(h){return h}function e(h,p){for(var y=0;y<h.length;++y)p[y]=255&h.charCodeAt(y);return p}w.newBlob=function(h,p){w.checkSupport("blob");try{return new Blob([h],{type:p})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(h),y.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(h,p,y){var L=[],m=0,s=h.length;if(s<=y)return String.fromCharCode.apply(null,h);for(;m<s;)p==="array"||p==="nodebuffer"?L.push(String.fromCharCode.apply(null,h.slice(m,Math.min(m+y,s)))):L.push(String.fromCharCode.apply(null,h.subarray(m,Math.min(m+y,s)))),m+=y;return L.join("")},stringifyByChar:function(h){for(var p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);return p},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function r(h){var p=65536,y=w.getTypeOf(h),L=!0;if(y==="uint8array"?L=n.applyCanBeUsed.uint8array:y==="nodebuffer"&&(L=n.applyCanBeUsed.nodebuffer),L)for(;1<p;)try{return n.stringifyByChunk(h,y,p)}catch{p=Math.floor(p/2)}return n.stringifyByChar(h)}function i(h,p){for(var y=0;y<h.length;y++)p[y]=h[y];return p}w.applyFromCharCode=r;var o={};o.string={string:t,array:function(h){return e(h,new Array(h.length))},arraybuffer:function(h){return o.string.uint8array(h).buffer},uint8array:function(h){return e(h,new Uint8Array(h.length))},nodebuffer:function(h){return e(h,d.allocBuffer(h.length))}},o.array={string:r,array:t,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return d.newBufferFrom(h)}},o.arraybuffer={string:function(h){return r(new Uint8Array(h))},array:function(h){return i(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:t,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return d.newBufferFrom(new Uint8Array(h))}},o.uint8array={string:r,array:function(h){return i(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:t,nodebuffer:function(h){return d.newBufferFrom(h)}},o.nodebuffer={string:r,array:function(h){return i(h,new Array(h.length))},arraybuffer:function(h){return o.nodebuffer.uint8array(h).buffer},uint8array:function(h){return i(h,new Uint8Array(h.length))},nodebuffer:t},w.transformTo=function(h,p){if(p=p||"",!h)return p;w.checkSupport(h);var y=w.getTypeOf(p);return o[y][h](p)},w.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":C.nodebuffer&&d.isBuffer(h)?"nodebuffer":C.uint8array&&h instanceof Uint8Array?"uint8array":C.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function(h){if(!C[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function(h){var p,y,L="";for(y=0;y<(h||"").length;y++)L+="\\x"+((p=h.charCodeAt(y))<16?"0":"")+p.toString(16).toUpperCase();return L},w.delay=function(h,p,y){l(function(){h.apply(y||null,p||[])})},w.inherits=function(h,p){function y(){}y.prototype=p.prototype,h.prototype=new y},w.extend=function(){var h,p,y={};for(h=0;h<arguments.length;h++)for(p in arguments[h])arguments[h].hasOwnProperty(p)&&y[p]===void 0&&(y[p]=arguments[h][p]);return y},w.prepareContent=function(h,p,y,L,m){return a.Promise.resolve(p).then(function(s){return C.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1)&&typeof FileReader<"u"?new a.Promise(function(f,_){var g=new FileReader;g.onload=function(v){f(v.target.result)},g.onerror=function(v){_(v.target.error)},g.readAsArrayBuffer(s)}):s}).then(function(s){var f=w.getTypeOf(s);return f?(f==="arraybuffer"?s=w.transformTo("uint8array",s):f==="string"&&(m?s=R.decode(s):y&&L!==!0&&(s=function(_){return e(_,C.uint8array?new Uint8Array(_.length):new Array(_.length))}(s))),s):a.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(E,M,w){var C=E("./reader/readerFor"),R=E("./utils"),d=E("./signature"),l=E("./zipEntry"),a=(E("./utf8"),E("./support"));function t(e){this.files=[],this.loadOptions=e}t.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+R.pretty(n)+", expected "+R.pretty(e)+")")}},isSignature:function(e,n){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===n;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),n=a.uint8array?"uint8array":"array",r=R.transformTo(n,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,n,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),n=this.reader.readInt(4),r=this.reader.readData(n),this.zip64ExtensibleData[e]={id:e,length:n,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,n;for(e=0;e<this.files.length;e++)n=this.files[e],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(e=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var n=e;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===R.MAX_VALUE_16BITS||this.diskWithCentralDirStart===R.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===R.MAX_VALUE_16BITS||this.centralDirRecords===R.MAX_VALUE_16BITS||this.centralDirSize===R.MAX_VALUE_32BITS||this.centralDirOffset===R.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=n-r;if(0<i)this.isSignature(n,d.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=C(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},M.exports=t},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(E,M,w){var C=E("./reader/readerFor"),R=E("./utils"),d=E("./compressedObject"),l=E("./crc32"),a=E("./utf8"),t=E("./compressions"),e=E("./support");function n(r,i){this.options=r,this.loadOptions=i}n.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var i,o;if(r.skip(22),this.fileNameLength=r.readInt(2),o=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=function(h){for(var p in t)if(t.hasOwnProperty(p)&&t[p].magic===h)return t[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+R.pretty(this.compressionMethod)+" unknown (inner file : "+R.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,i,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var i=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(i),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(r){if(this.extraFields[1]){var i=C(this.extraFields[1].value);this.uncompressedSize===R.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===R.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===R.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===R.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(r){var i,o,h,p=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<p;)i=r.readInt(2),o=r.readInt(2),h=r.readData(o),this.extraFields[i]={id:i,length:o,value:h};r.setIndex(p)},handleUTF8:function(){var r=e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var o=R.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var p=R.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var i=C(r.value);return i.readInt(1)!==1||l(this.fileName)!==i.readInt(4)?null:a.utf8decode(i.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var i=C(r.value);return i.readInt(1)!==1||l(this.fileComment)!==i.readInt(4)?null:a.utf8decode(i.readData(r.length-5))}return null}},M.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(E,M,w){function C(i,o,h){this.name=i,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=o,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var R=E("./stream/StreamHelper"),d=E("./stream/DataWorker"),l=E("./utf8"),a=E("./compressedObject"),t=E("./stream/GenericWorker");C.prototype={internalStream:function(i){var o=null,h="string";try{if(!i)throw new Error("No output type specified.");var p=(h=i.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),o=this._decompressWorker();var y=!this._dataBinary;y&&!p&&(o=o.pipe(new l.Utf8EncodeWorker)),!y&&p&&(o=o.pipe(new l.Utf8DecodeWorker))}catch(L){(o=new t("error")).error(L)}return new R(o,h,"")},async:function(i,o){return this.internalStream(i).accumulate(o)},nodeStream:function(i,o){return this.internalStream(i||"nodebuffer").toNodejsStream(o)},_compressWorker:function(i,o){if(this._data instanceof a&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new l.Utf8EncodeWorker)),a.createWorkerFrom(h,i,o)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof t?this._data:new d(this._data)}};for(var e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],n=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<e.length;r++)C.prototype[e[r]]=n;M.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(E,M,w){(function(C){var R,d,l=C.MutationObserver||C.WebKitMutationObserver;if(l){var a=0,t=new l(i),e=C.document.createTextNode("");t.observe(e,{characterData:!0}),R=function(){e.data=a=++a%2}}else if(C.setImmediate||C.MessageChannel===void 0)R="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var o=C.document.createElement("script");o.onreadystatechange=function(){i(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},C.document.documentElement.appendChild(o)}:function(){setTimeout(i,0)};else{var n=new C.MessageChannel;n.port1.onmessage=i,R=function(){n.port2.postMessage(0)}}var r=[];function i(){var o,h;d=!0;for(var p=r.length;p;){for(h=r,r=[],o=-1;++o<p;)h[o]();p=r.length}d=!1}M.exports=function(o){r.push(o)!==1||d||R()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(E,M,w){var C=E("immediate");function R(){}var d={},l=["REJECTED"],a=["FULFILLED"],t=["PENDING"];function e(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=t,this.queue=[],this.outcome=void 0,p!==R&&o(this,p)}function n(p,y,L){this.promise=p,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function r(p,y,L){C(function(){var m;try{m=y(L)}catch(s){return d.reject(p,s)}m===p?d.reject(p,new TypeError("Cannot resolve promise with itself")):d.resolve(p,m)})}function i(p){var y=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof y=="function")return function(){y.apply(p,arguments)}}function o(p,y){var L=!1;function m(_){L||(L=!0,d.reject(p,_))}function s(_){L||(L=!0,d.resolve(p,_))}var f=h(function(){y(s,m)});f.status==="error"&&m(f.value)}function h(p,y){var L={};try{L.value=p(y),L.status="success"}catch(m){L.status="error",L.value=m}return L}(M.exports=e).prototype.finally=function(p){if(typeof p!="function")return this;var y=this.constructor;return this.then(function(L){return y.resolve(p()).then(function(){return L})},function(L){return y.resolve(p()).then(function(){throw L})})},e.prototype.catch=function(p){return this.then(null,p)},e.prototype.then=function(p,y){if(typeof p!="function"&&this.state===a||typeof y!="function"&&this.state===l)return this;var L=new this.constructor(R);return this.state!==t?r(L,this.state===a?p:y,this.outcome):this.queue.push(new n(L,p,y)),L},n.prototype.callFulfilled=function(p){d.resolve(this.promise,p)},n.prototype.otherCallFulfilled=function(p){r(this.promise,this.onFulfilled,p)},n.prototype.callRejected=function(p){d.reject(this.promise,p)},n.prototype.otherCallRejected=function(p){r(this.promise,this.onRejected,p)},d.resolve=function(p,y){var L=h(i,y);if(L.status==="error")return d.reject(p,L.value);var m=L.value;if(m)o(p,m);else{p.state=a,p.outcome=y;for(var s=-1,f=p.queue.length;++s<f;)p.queue[s].callFulfilled(y)}return p},d.reject=function(p,y){p.state=l,p.outcome=y;for(var L=-1,m=p.queue.length;++L<m;)p.queue[L].callRejected(y);return p},e.resolve=function(p){return p instanceof this?p:d.resolve(new this(R),p)},e.reject=function(p){var y=new this(R);return d.reject(y,p)},e.all=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=p.length,m=!1;if(!L)return this.resolve([]);for(var s=new Array(L),f=0,_=-1,g=new this(R);++_<L;)v(p[_],_);return g;function v(c,b){y.resolve(c).then(function(k){s[b]=k,++f!==L||m||(m=!0,d.resolve(g,s))},function(k){m||(m=!0,d.reject(g,k))})}},e.race=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=p.length,m=!1;if(!L)return this.resolve([]);for(var s=-1,f=new this(R);++s<L;)_=p[s],y.resolve(_).then(function(g){m||(m=!0,d.resolve(f,g))},function(g){m||(m=!0,d.reject(f,g))});var _;return f}},{immediate:36}],38:[function(E,M,w){var C={};(0,E("./lib/utils/common").assign)(C,E("./lib/deflate"),E("./lib/inflate"),E("./lib/zlib/constants")),M.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(E,M,w){var C=E("./zlib/deflate"),R=E("./utils/common"),d=E("./utils/strings"),l=E("./zlib/messages"),a=E("./zlib/zstream"),t=Object.prototype.toString,e=0,n=-1,r=0,i=8;function o(p){if(!(this instanceof o))return new o(p);this.options=R.assign({level:n,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},p||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var L=C.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(L!==e)throw new Error(l[L]);if(y.header&&C.deflateSetHeader(this.strm,y.header),y.dictionary){var m;if(m=typeof y.dictionary=="string"?d.string2buf(y.dictionary):t.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(L=C.deflateSetDictionary(this.strm,m))!==e)throw new Error(l[L]);this._dict_set=!0}}function h(p,y){var L=new o(y);if(L.push(p,!0),L.err)throw L.msg||l[L.err];return L.result}o.prototype.push=function(p,y){var L,m,s=this.strm,f=this.options.chunkSize;if(this.ended)return!1;m=y===~~y?y:y===!0?4:0,typeof p=="string"?s.input=d.string2buf(p):t.call(p)==="[object ArrayBuffer]"?s.input=new Uint8Array(p):s.input=p,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new R.Buf8(f),s.next_out=0,s.avail_out=f),(L=C.deflate(s,m))!==1&&L!==e)return this.onEnd(L),!(this.ended=!0);s.avail_out!==0&&(s.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(R.shrinkBuf(s.output,s.next_out))):this.onData(R.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||s.avail_out===0)&&L!==1);return m===4?(L=C.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===e):m!==2||(this.onEnd(e),!(s.avail_out=0))},o.prototype.onData=function(p){this.chunks.push(p)},o.prototype.onEnd=function(p){p===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},w.Deflate=o,w.deflate=h,w.deflateRaw=function(p,y){return(y=y||{}).raw=!0,h(p,y)},w.gzip=function(p,y){return(y=y||{}).gzip=!0,h(p,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(E,M,w){var C=E("./zlib/inflate"),R=E("./utils/common"),d=E("./utils/strings"),l=E("./zlib/constants"),a=E("./zlib/messages"),t=E("./zlib/zstream"),e=E("./zlib/gzheader"),n=Object.prototype.toString;function r(o){if(!(this instanceof r))return new r(o);this.options=R.assign({chunkSize:16384,windowBits:0,to:""},o||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||o&&o.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&!(15&h.windowBits)&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var p=C.inflateInit2(this.strm,h.windowBits);if(p!==l.Z_OK)throw new Error(a[p]);this.header=new e,C.inflateGetHeader(this.strm,this.header)}function i(o,h){var p=new r(h);if(p.push(o,!0),p.err)throw p.msg||a[p.err];return p.result}r.prototype.push=function(o,h){var p,y,L,m,s,f,_=this.strm,g=this.options.chunkSize,v=this.options.dictionary,c=!1;if(this.ended)return!1;y=h===~~h?h:h===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof o=="string"?_.input=d.binstring2buf(o):n.call(o)==="[object ArrayBuffer]"?_.input=new Uint8Array(o):_.input=o,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new R.Buf8(g),_.next_out=0,_.avail_out=g),(p=C.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&v&&(f=typeof v=="string"?d.string2buf(v):n.call(v)==="[object ArrayBuffer]"?new Uint8Array(v):v,p=C.inflateSetDictionary(this.strm,f)),p===l.Z_BUF_ERROR&&c===!0&&(p=l.Z_OK,c=!1),p!==l.Z_STREAM_END&&p!==l.Z_OK)return this.onEnd(p),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&p!==l.Z_STREAM_END&&(_.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=d.utf8border(_.output,_.next_out),m=_.next_out-L,s=d.buf2string(_.output,L),_.next_out=m,_.avail_out=g-m,m&&R.arraySet(_.output,_.output,L,m,0),this.onData(s)):this.onData(R.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(c=!0)}while((0<_.avail_in||_.avail_out===0)&&p!==l.Z_STREAM_END);return p===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(p=C.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},r.prototype.onData=function(o){this.chunks.push(o)},r.prototype.onEnd=function(o){o===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},w.Inflate=r,w.inflate=i,w.inflateRaw=function(o,h){return(h=h||{}).raw=!0,i(o,h)},w.ungzip=i},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(E,M,w){var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(l){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e])}}return l},w.shrinkBuf=function(l,a){return l.length===a?l:l.subarray?l.subarray(0,a):(l.length=a,l)};var R={arraySet:function(l,a,t,e,n){if(a.subarray&&l.subarray)l.set(a.subarray(t,t+e),n);else for(var r=0;r<e;r++)l[n+r]=a[t+r]},flattenChunks:function(l){var a,t,e,n,r,i;for(a=e=0,t=l.length;a<t;a++)e+=l[a].length;for(i=new Uint8Array(e),a=n=0,t=l.length;a<t;a++)r=l[a],i.set(r,n),n+=r.length;return i}},d={arraySet:function(l,a,t,e,n){for(var r=0;r<e;r++)l[n+r]=a[t+r]},flattenChunks:function(l){return[].concat.apply([],l)}};w.setTyped=function(l){l?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,R)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,d))},w.setTyped(C)},{}],42:[function(E,M,w){var C=E("./common"),R=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{R=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var l=new C.Buf8(256),a=0;a<256;a++)l[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function t(e,n){if(n<65537&&(e.subarray&&d||!e.subarray&&R))return String.fromCharCode.apply(null,C.shrinkBuf(e,n));for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[i]);return r}l[254]=l[254]=1,w.string2buf=function(e){var n,r,i,o,h,p=e.length,y=0;for(o=0;o<p;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<p&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),y+=r<128?1:r<2048?2:r<65536?3:4;for(n=new C.Buf8(y),o=h=0;h<y;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<p&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?n[h++]=r:(r<2048?n[h++]=192|r>>>6:(r<65536?n[h++]=224|r>>>12:(n[h++]=240|r>>>18,n[h++]=128|r>>>12&63),n[h++]=128|r>>>6&63),n[h++]=128|63&r);return n},w.buf2binstring=function(e){return t(e,e.length)},w.binstring2buf=function(e){for(var n=new C.Buf8(e.length),r=0,i=n.length;r<i;r++)n[r]=e.charCodeAt(r);return n},w.buf2string=function(e,n){var r,i,o,h,p=n||e.length,y=new Array(2*p);for(r=i=0;r<p;)if((o=e[r++])<128)y[i++]=o;else if(4<(h=l[o]))y[i++]=65533,r+=h-1;else{for(o&=h===2?31:h===3?15:7;1<h&&r<p;)o=o<<6|63&e[r++],h--;1<h?y[i++]=65533:o<65536?y[i++]=o:(o-=65536,y[i++]=55296|o>>10&1023,y[i++]=56320|1023&o)}return t(y,i)},w.utf8border=function(e,n){var r;for((n=n||e.length)>e.length&&(n=e.length),r=n-1;0<=r&&(192&e[r])==128;)r--;return r<0||r===0?n:r+l[e[r]]>n?r:n}},{"./common":41}],43:[function(E,M,w){M.exports=function(C,R,d,l){for(var a=65535&C|0,t=C>>>16&65535|0,e=0;d!==0;){for(d-=e=2e3<d?2e3:d;t=t+(a=a+R[l++]|0)|0,--e;);a%=65521,t%=65521}return a|t<<16|0}},{}],44:[function(E,M,w){M.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(E,M,w){var C=function(){for(var R,d=[],l=0;l<256;l++){R=l;for(var a=0;a<8;a++)R=1&R?3988292384^R>>>1:R>>>1;d[l]=R}return d}();M.exports=function(R,d,l,a){var t=C,e=a+l;R^=-1;for(var n=a;n<e;n++)R=R>>>8^t[255&(R^d[n])];return-1^R}},{}],46:[function(E,M,w){var C,R=E("../utils/common"),d=E("./trees"),l=E("./adler32"),a=E("./crc32"),t=E("./messages"),e=0,n=4,r=0,i=-2,o=-1,h=4,p=2,y=8,L=9,m=286,s=30,f=19,_=2*m+1,g=15,v=3,c=258,b=c+v+1,k=42,F=113,x=1,N=2,G=3,q=4;function ne(I,ge){return I.msg=t[ge],ge}function Z(I){return(I<<1)-(4<I?9:0)}function K(I){for(var ge=I.length;0<=--ge;)I[ge]=0}function X(I){var ge=I.state,fe=ge.pending;fe>I.avail_out&&(fe=I.avail_out),fe!==0&&(R.arraySet(I.output,ge.pending_buf,ge.pending_out,fe,I.next_out),I.next_out+=fe,ge.pending_out+=fe,I.total_out+=fe,I.avail_out-=fe,ge.pending-=fe,ge.pending===0&&(ge.pending_out=0))}function ee(I,ge){d._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ge),I.block_start=I.strstart,X(I.strm)}function ie(I,ge){I.pending_buf[I.pending++]=ge}function le(I,ge){I.pending_buf[I.pending++]=ge>>>8&255,I.pending_buf[I.pending++]=255&ge}function ce(I,ge){var fe,te,J=I.max_chain_length,he=I.strstart,me=I.prev_length,Y=I.nice_match,re=I.strstart>I.w_size-b?I.strstart-(I.w_size-b):0,we=I.window,ke=I.w_mask,be=I.prev,xe=I.strstart+c,Pe=we[he+me-1],Re=we[he+me];I.prev_length>=I.good_match&&(J>>=2),Y>I.lookahead&&(Y=I.lookahead);do if(we[(fe=ge)+me]===Re&&we[fe+me-1]===Pe&&we[fe]===we[he]&&we[++fe]===we[he+1]){he+=2,fe++;do;while(we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&he<xe);if(te=c-(xe-he),he=xe-c,me<te){if(I.match_start=ge,Y<=(me=te))break;Pe=we[he+me-1],Re=we[he+me]}}while((ge=be[ge&ke])>re&&--J!=0);return me<=I.lookahead?me:I.lookahead}function ye(I){var ge,fe,te,J,he,me,Y,re,we,ke,be=I.w_size;do{if(J=I.window_size-I.lookahead-I.strstart,I.strstart>=be+(be-b)){for(R.arraySet(I.window,I.window,be,be,0),I.match_start-=be,I.strstart-=be,I.block_start-=be,ge=fe=I.hash_size;te=I.head[--ge],I.head[ge]=be<=te?te-be:0,--fe;);for(ge=fe=be;te=I.prev[--ge],I.prev[ge]=be<=te?te-be:0,--fe;);J+=be}if(I.strm.avail_in===0)break;if(me=I.strm,Y=I.window,re=I.strstart+I.lookahead,we=J,ke=void 0,ke=me.avail_in,we<ke&&(ke=we),fe=ke===0?0:(me.avail_in-=ke,R.arraySet(Y,me.input,me.next_in,ke,re),me.state.wrap===1?me.adler=l(me.adler,Y,ke,re):me.state.wrap===2&&(me.adler=a(me.adler,Y,ke,re)),me.next_in+=ke,me.total_in+=ke,ke),I.lookahead+=fe,I.lookahead+I.insert>=v)for(he=I.strstart-I.insert,I.ins_h=I.window[he],I.ins_h=(I.ins_h<<I.hash_shift^I.window[he+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[he+v-1])&I.hash_mask,I.prev[he&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=he,he++,I.insert--,!(I.lookahead+I.insert<v)););}while(I.lookahead<b&&I.strm.avail_in!==0)}function pe(I,ge){for(var fe,te;;){if(I.lookahead<b){if(ye(I),I.lookahead<b&&ge===e)return x;if(I.lookahead===0)break}if(fe=0,I.lookahead>=v&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),fe!==0&&I.strstart-fe<=I.w_size-b&&(I.match_length=ce(I,fe)),I.match_length>=v)if(te=d._tr_tally(I,I.strstart-I.match_start,I.match_length-v),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=v){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else te=d._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(te&&(ee(I,!1),I.strm.avail_out===0))return x}return I.insert=I.strstart<v-1?I.strstart:v-1,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?x:N}function Se(I,ge){for(var fe,te,J;;){if(I.lookahead<b){if(ye(I),I.lookahead<b&&ge===e)return x;if(I.lookahead===0)break}if(fe=0,I.lookahead>=v&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=v-1,fe!==0&&I.prev_length<I.max_lazy_match&&I.strstart-fe<=I.w_size-b&&(I.match_length=ce(I,fe),I.match_length<=5&&(I.strategy===1||I.match_length===v&&4096<I.strstart-I.match_start)&&(I.match_length=v-1)),I.prev_length>=v&&I.match_length<=I.prev_length){for(J=I.strstart+I.lookahead-v,te=d._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-v),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=J&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=v-1,I.strstart++,te&&(ee(I,!1),I.strm.avail_out===0))return x}else if(I.match_available){if((te=d._tr_tally(I,0,I.window[I.strstart-1]))&&ee(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return x}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(te=d._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<v-1?I.strstart:v-1,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?x:N}function Le(I,ge,fe,te,J){this.good_length=I,this.max_lazy=ge,this.nice_length=fe,this.max_chain=te,this.func=J}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*_),this.dyn_dtree=new R.Buf16(2*(2*s+1)),this.bl_tree=new R.Buf16(2*(2*f+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(g+1),this.heap=new R.Buf16(2*m+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*m+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(I){var ge;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=p,(ge=I.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?k:F,I.adler=ge.wrap===2?0:1,ge.last_flush=e,d._tr_init(ge),r):ne(I,i)}function Ve(I){var ge=Fe(I);return ge===r&&function(fe){fe.window_size=2*fe.w_size,K(fe.head),fe.max_lazy_match=C[fe.level].max_lazy,fe.good_match=C[fe.level].good_length,fe.nice_match=C[fe.level].nice_length,fe.max_chain_length=C[fe.level].max_chain,fe.strstart=0,fe.block_start=0,fe.lookahead=0,fe.insert=0,fe.match_length=fe.prev_length=v-1,fe.match_available=0,fe.ins_h=0}(I.state),ge}function Je(I,ge,fe,te,J,he){if(!I)return i;var me=1;if(ge===o&&(ge=6),te<0?(me=0,te=-te):15<te&&(me=2,te-=16),J<1||L<J||fe!==y||te<8||15<te||ge<0||9<ge||he<0||h<he)return ne(I,i);te===8&&(te=9);var Y=new Ee;return(I.state=Y).strm=I,Y.wrap=me,Y.gzhead=null,Y.w_bits=te,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=J+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+v-1)/v),Y.window=new R.Buf8(2*Y.w_size),Y.head=new R.Buf16(Y.hash_size),Y.prev=new R.Buf16(Y.w_size),Y.lit_bufsize=1<<J+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new R.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=ge,Y.strategy=he,Y.method=fe,Ve(I)}C=[new Le(0,0,0,0,function(I,ge){var fe=65535;for(fe>I.pending_buf_size-5&&(fe=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ye(I),I.lookahead===0&&ge===e)return x;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var te=I.block_start+fe;if((I.strstart===0||I.strstart>=te)&&(I.lookahead=I.strstart-te,I.strstart=te,ee(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-b&&(ee(I,!1),I.strm.avail_out===0))return x}return I.insert=0,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):(I.strstart>I.block_start&&(ee(I,!1),I.strm.avail_out),x)}),new Le(4,4,8,4,pe),new Le(4,5,16,8,pe),new Le(4,6,32,32,pe),new Le(4,4,16,16,Se),new Le(8,16,32,32,Se),new Le(8,16,128,128,Se),new Le(8,32,128,256,Se),new Le(32,128,258,1024,Se),new Le(32,258,258,4096,Se)],w.deflateInit=function(I,ge){return Je(I,ge,y,15,8,0)},w.deflateInit2=Je,w.deflateReset=Ve,w.deflateResetKeep=Fe,w.deflateSetHeader=function(I,ge){return I&&I.state?I.state.wrap!==2?i:(I.state.gzhead=ge,r):i},w.deflate=function(I,ge){var fe,te,J,he;if(!I||!I.state||5<ge||ge<0)return I?ne(I,i):i;if(te=I.state,!I.output||!I.input&&I.avail_in!==0||te.status===666&&ge!==n)return ne(I,I.avail_out===0?-5:i);if(te.strm=I,fe=te.last_flush,te.last_flush=ge,te.status===k)if(te.wrap===2)I.adler=0,ie(te,31),ie(te,139),ie(te,8),te.gzhead?(ie(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),ie(te,255&te.gzhead.time),ie(te,te.gzhead.time>>8&255),ie(te,te.gzhead.time>>16&255),ie(te,te.gzhead.time>>24&255),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(ie(te,255&te.gzhead.extra.length),ie(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(I.adler=a(I.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,3),te.status=F);else{var me=y+(te.w_bits-8<<4)<<8;me|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(me|=32),me+=31-me%31,te.status=F,le(te,me),te.strstart!==0&&(le(te,I.adler>>>16),le(te,65535&I.adler)),I.adler=1}if(te.status===69)if(te.gzhead.extra){for(J=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),X(I),J=te.pending,te.pending!==te.pending_buf_size));)ie(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),X(I),J=te.pending,te.pending===te.pending_buf_size)){he=1;break}he=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,ie(te,he)}while(he!==0);te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),he===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),X(I),J=te.pending,te.pending===te.pending_buf_size)){he=1;break}he=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,ie(te,he)}while(he!==0);te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),he===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&X(I),te.pending+2<=te.pending_buf_size&&(ie(te,255&I.adler),ie(te,I.adler>>8&255),I.adler=0,te.status=F)):te.status=F),te.pending!==0){if(X(I),I.avail_out===0)return te.last_flush=-1,r}else if(I.avail_in===0&&Z(ge)<=Z(fe)&&ge!==n)return ne(I,-5);if(te.status===666&&I.avail_in!==0)return ne(I,-5);if(I.avail_in!==0||te.lookahead!==0||ge!==e&&te.status!==666){var Y=te.strategy===2?function(re,we){for(var ke;;){if(re.lookahead===0&&(ye(re),re.lookahead===0)){if(we===e)return x;break}if(re.match_length=0,ke=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ke&&(ee(re,!1),re.strm.avail_out===0))return x}return re.insert=0,we===n?(ee(re,!0),re.strm.avail_out===0?G:q):re.last_lit&&(ee(re,!1),re.strm.avail_out===0)?x:N}(te,ge):te.strategy===3?function(re,we){for(var ke,be,xe,Pe,Re=re.window;;){if(re.lookahead<=c){if(ye(re),re.lookahead<=c&&we===e)return x;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=v&&0<re.strstart&&(be=Re[xe=re.strstart-1])===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]){Pe=re.strstart+c;do;while(be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&xe<Pe);re.match_length=c-(Pe-xe),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=v?(ke=d._tr_tally(re,1,re.match_length-v),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ke=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ke&&(ee(re,!1),re.strm.avail_out===0))return x}return re.insert=0,we===n?(ee(re,!0),re.strm.avail_out===0?G:q):re.last_lit&&(ee(re,!1),re.strm.avail_out===0)?x:N}(te,ge):C[te.level].func(te,ge);if(Y!==G&&Y!==q||(te.status=666),Y===x||Y===G)return I.avail_out===0&&(te.last_flush=-1),r;if(Y===N&&(ge===1?d._tr_align(te):ge!==5&&(d._tr_stored_block(te,0,0,!1),ge===3&&(K(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),X(I),I.avail_out===0))return te.last_flush=-1,r}return ge!==n?r:te.wrap<=0?1:(te.wrap===2?(ie(te,255&I.adler),ie(te,I.adler>>8&255),ie(te,I.adler>>16&255),ie(te,I.adler>>24&255),ie(te,255&I.total_in),ie(te,I.total_in>>8&255),ie(te,I.total_in>>16&255),ie(te,I.total_in>>24&255)):(le(te,I.adler>>>16),le(te,65535&I.adler)),X(I),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?r:1)},w.deflateEnd=function(I){var ge;return I&&I.state?(ge=I.state.status)!==k&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==F&&ge!==666?ne(I,i):(I.state=null,ge===F?ne(I,-3):r):i},w.deflateSetDictionary=function(I,ge){var fe,te,J,he,me,Y,re,we,ke=ge.length;if(!I||!I.state||(he=(fe=I.state).wrap)===2||he===1&&fe.status!==k||fe.lookahead)return i;for(he===1&&(I.adler=l(I.adler,ge,ke,0)),fe.wrap=0,ke>=fe.w_size&&(he===0&&(K(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),we=new R.Buf8(fe.w_size),R.arraySet(we,ge,ke-fe.w_size,fe.w_size,0),ge=we,ke=fe.w_size),me=I.avail_in,Y=I.next_in,re=I.input,I.avail_in=ke,I.next_in=0,I.input=ge,ye(fe);fe.lookahead>=v;){for(te=fe.strstart,J=fe.lookahead-(v-1);fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[te+v-1])&fe.hash_mask,fe.prev[te&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=te,te++,--J;);fe.strstart=te,fe.lookahead=v-1,ye(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=v-1,fe.match_available=0,I.next_in=Y,I.input=re,I.avail_in=me,fe.wrap=he,r},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(E,M,w){M.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(E,M,w){M.exports=function(C,R){var d,l,a,t,e,n,r,i,o,h,p,y,L,m,s,f,_,g,v,c,b,k,F,x,N;d=C.state,l=C.next_in,x=C.input,a=l+(C.avail_in-5),t=C.next_out,N=C.output,e=t-(R-C.avail_out),n=t+(C.avail_out-257),r=d.dmax,i=d.wsize,o=d.whave,h=d.wnext,p=d.window,y=d.hold,L=d.bits,m=d.lencode,s=d.distcode,f=(1<<d.lenbits)-1,_=(1<<d.distbits)-1;e:do{L<15&&(y+=x[l++]<<L,L+=8,y+=x[l++]<<L,L+=8),g=m[y&f];t:for(;;){if(y>>>=v=g>>>24,L-=v,(v=g>>>16&255)===0)N[t++]=65535&g;else{if(!(16&v)){if(!(64&v)){g=m[(65535&g)+(y&(1<<v)-1)];continue t}if(32&v){d.mode=12;break e}C.msg="invalid literal/length code",d.mode=30;break e}c=65535&g,(v&=15)&&(L<v&&(y+=x[l++]<<L,L+=8),c+=y&(1<<v)-1,y>>>=v,L-=v),L<15&&(y+=x[l++]<<L,L+=8,y+=x[l++]<<L,L+=8),g=s[y&_];r:for(;;){if(y>>>=v=g>>>24,L-=v,!(16&(v=g>>>16&255))){if(!(64&v)){g=s[(65535&g)+(y&(1<<v)-1)];continue r}C.msg="invalid distance code",d.mode=30;break e}if(b=65535&g,L<(v&=15)&&(y+=x[l++]<<L,(L+=8)<v&&(y+=x[l++]<<L,L+=8)),r<(b+=y&(1<<v)-1)){C.msg="invalid distance too far back",d.mode=30;break e}if(y>>>=v,L-=v,(v=t-e)<b){if(o<(v=b-v)&&d.sane){C.msg="invalid distance too far back",d.mode=30;break e}if(F=p,(k=0)===h){if(k+=i-v,v<c){for(c-=v;N[t++]=p[k++],--v;);k=t-b,F=N}}else if(h<v){if(k+=i+h-v,(v-=h)<c){for(c-=v;N[t++]=p[k++],--v;);if(k=0,h<c){for(c-=v=h;N[t++]=p[k++],--v;);k=t-b,F=N}}}else if(k+=h-v,v<c){for(c-=v;N[t++]=p[k++],--v;);k=t-b,F=N}for(;2<c;)N[t++]=F[k++],N[t++]=F[k++],N[t++]=F[k++],c-=3;c&&(N[t++]=F[k++],1<c&&(N[t++]=F[k++]))}else{for(k=t-b;N[t++]=N[k++],N[t++]=N[k++],N[t++]=N[k++],2<(c-=3););c&&(N[t++]=N[k++],1<c&&(N[t++]=N[k++]))}break}}break}}while(l<a&&t<n);l-=c=L>>3,y&=(1<<(L-=c<<3))-1,C.next_in=l,C.next_out=t,C.avail_in=l<a?a-l+5:5-(l-a),C.avail_out=t<n?n-t+257:257-(t-n),d.hold=y,d.bits=L}},{}],49:[function(E,M,w){var C=E("../utils/common"),R=E("./adler32"),d=E("./crc32"),l=E("./inffast"),a=E("./inftrees"),t=1,e=2,n=0,r=-2,i=1,o=852,h=592;function p(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(k){var F;return k&&k.state?(F=k.state,k.total_in=k.total_out=F.total=0,k.msg="",F.wrap&&(k.adler=1&F.wrap),F.mode=i,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new C.Buf32(o),F.distcode=F.distdyn=new C.Buf32(h),F.sane=1,F.back=-1,n):r}function m(k){var F;return k&&k.state?((F=k.state).wsize=0,F.whave=0,F.wnext=0,L(k)):r}function s(k,F){var x,N;return k&&k.state?(N=k.state,F<0?(x=0,F=-F):(x=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?r:(N.window!==null&&N.wbits!==F&&(N.window=null),N.wrap=x,N.wbits=F,m(k))):r}function f(k,F){var x,N;return k?(N=new y,(k.state=N).window=null,(x=s(k,F))!==n&&(k.state=null),x):r}var _,g,v=!0;function c(k){if(v){var F;for(_=new C.Buf32(512),g=new C.Buf32(32),F=0;F<144;)k.lens[F++]=8;for(;F<256;)k.lens[F++]=9;for(;F<280;)k.lens[F++]=7;for(;F<288;)k.lens[F++]=8;for(a(t,k.lens,0,288,_,0,k.work,{bits:9}),F=0;F<32;)k.lens[F++]=5;a(e,k.lens,0,32,g,0,k.work,{bits:5}),v=!1}k.lencode=_,k.lenbits=9,k.distcode=g,k.distbits=5}function b(k,F,x,N){var G,q=k.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new C.Buf8(q.wsize)),N>=q.wsize?(C.arraySet(q.window,F,x-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(N<(G=q.wsize-q.wnext)&&(G=N),C.arraySet(q.window,F,x-N,G,q.wnext),(N-=G)?(C.arraySet(q.window,F,x-N,N,0),q.wnext=N,q.whave=q.wsize):(q.wnext+=G,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=G))),0}w.inflateReset=m,w.inflateReset2=s,w.inflateResetKeep=L,w.inflateInit=function(k){return f(k,15)},w.inflateInit2=f,w.inflate=function(k,F){var x,N,G,q,ne,Z,K,X,ee,ie,le,ce,ye,pe,Se,Le,Ee,Fe,Ve,Je,I,ge,fe,te,J=0,he=new C.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return r;(x=k.state).mode===12&&(x.mode=13),ne=k.next_out,G=k.output,K=k.avail_out,q=k.next_in,N=k.input,Z=k.avail_in,X=x.hold,ee=x.bits,ie=Z,le=K,ge=n;e:for(;;)switch(x.mode){case i:if(x.wrap===0){x.mode=13;break}for(;ee<16;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(2&x.wrap&&X===35615){he[x.check=0]=255&X,he[1]=X>>>8&255,x.check=d(x.check,he,2,0),ee=X=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&X)<<8)+(X>>8))%31){k.msg="incorrect header check",x.mode=30;break}if((15&X)!=8){k.msg="unknown compression method",x.mode=30;break}if(ee-=4,I=8+(15&(X>>>=4)),x.wbits===0)x.wbits=I;else if(I>x.wbits){k.msg="invalid window size",x.mode=30;break}x.dmax=1<<I,k.adler=x.check=1,x.mode=512&X?10:12,ee=X=0;break;case 2:for(;ee<16;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(x.flags=X,(255&x.flags)!=8){k.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){k.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=X>>8&1),512&x.flags&&(he[0]=255&X,he[1]=X>>>8&255,x.check=d(x.check,he,2,0)),ee=X=0,x.mode=3;case 3:for(;ee<32;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.head&&(x.head.time=X),512&x.flags&&(he[0]=255&X,he[1]=X>>>8&255,he[2]=X>>>16&255,he[3]=X>>>24&255,x.check=d(x.check,he,4,0)),ee=X=0,x.mode=4;case 4:for(;ee<16;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.head&&(x.head.xflags=255&X,x.head.os=X>>8),512&x.flags&&(he[0]=255&X,he[1]=X>>>8&255,x.check=d(x.check,he,2,0)),ee=X=0,x.mode=5;case 5:if(1024&x.flags){for(;ee<16;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.length=X,x.head&&(x.head.extra_len=X),512&x.flags&&(he[0]=255&X,he[1]=X>>>8&255,x.check=d(x.check,he,2,0)),ee=X=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(Z<(ce=x.length)&&(ce=Z),ce&&(x.head&&(I=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),C.arraySet(x.head.extra,N,q,ce,I)),512&x.flags&&(x.check=d(x.check,N,ce,q)),Z-=ce,q+=ce,x.length-=ce),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(Z===0)break e;for(ce=0;I=N[q+ce++],x.head&&I&&x.length<65536&&(x.head.name+=String.fromCharCode(I)),I&&ce<Z;);if(512&x.flags&&(x.check=d(x.check,N,ce,q)),Z-=ce,q+=ce,I)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(Z===0)break e;for(ce=0;I=N[q+ce++],x.head&&I&&x.length<65536&&(x.head.comment+=String.fromCharCode(I)),I&&ce<Z;);if(512&x.flags&&(x.check=d(x.check,N,ce,q)),Z-=ce,q+=ce,I)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;ee<16;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(X!==(65535&x.check)){k.msg="header crc mismatch",x.mode=30;break}ee=X=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),k.adler=x.check=0,x.mode=12;break;case 10:for(;ee<32;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}k.adler=x.check=p(X),ee=X=0,x.mode=11;case 11:if(x.havedict===0)return k.next_out=ne,k.avail_out=K,k.next_in=q,k.avail_in=Z,x.hold=X,x.bits=ee,2;k.adler=x.check=1,x.mode=12;case 12:if(F===5||F===6)break e;case 13:if(x.last){X>>>=7&ee,ee-=7&ee,x.mode=27;break}for(;ee<3;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}switch(x.last=1&X,ee-=1,3&(X>>>=1)){case 0:x.mode=14;break;case 1:if(c(x),x.mode=20,F!==6)break;X>>>=2,ee-=2;break e;case 2:x.mode=17;break;case 3:k.msg="invalid block type",x.mode=30}X>>>=2,ee-=2;break;case 14:for(X>>>=7&ee,ee-=7&ee;ee<32;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if((65535&X)!=(X>>>16^65535)){k.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&X,ee=X=0,x.mode=15,F===6)break e;case 15:x.mode=16;case 16:if(ce=x.length){if(Z<ce&&(ce=Z),K<ce&&(ce=K),ce===0)break e;C.arraySet(G,N,q,ce,ne),Z-=ce,q+=ce,K-=ce,ne+=ce,x.length-=ce;break}x.mode=12;break;case 17:for(;ee<14;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(x.nlen=257+(31&X),X>>>=5,ee-=5,x.ndist=1+(31&X),X>>>=5,ee-=5,x.ncode=4+(15&X),X>>>=4,ee-=4,286<x.nlen||30<x.ndist){k.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;ee<3;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.lens[me[x.have++]]=7&X,X>>>=3,ee-=3}for(;x.have<19;)x.lens[me[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,fe={bits:x.lenbits},ge=a(0,x.lens,0,19,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ge){k.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Le=(J=x.lencode[X&(1<<x.lenbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(Ee<16)X>>>=Se,ee-=Se,x.lens[x.have++]=Ee;else{if(Ee===16){for(te=Se+2;ee<te;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(X>>>=Se,ee-=Se,x.have===0){k.msg="invalid bit length repeat",x.mode=30;break}I=x.lens[x.have-1],ce=3+(3&X),X>>>=2,ee-=2}else if(Ee===17){for(te=Se+3;ee<te;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}ee-=Se,I=0,ce=3+(7&(X>>>=Se)),X>>>=3,ee-=3}else{for(te=Se+7;ee<te;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}ee-=Se,I=0,ce=11+(127&(X>>>=Se)),X>>>=7,ee-=7}if(x.have+ce>x.nlen+x.ndist){k.msg="invalid bit length repeat",x.mode=30;break}for(;ce--;)x.lens[x.have++]=I}}if(x.mode===30)break;if(x.lens[256]===0){k.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,fe={bits:x.lenbits},ge=a(t,x.lens,0,x.nlen,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ge){k.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,fe={bits:x.distbits},ge=a(e,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,fe),x.distbits=fe.bits,ge){k.msg="invalid distances set",x.mode=30;break}if(x.mode=20,F===6)break e;case 20:x.mode=21;case 21:if(6<=Z&&258<=K){k.next_out=ne,k.avail_out=K,k.next_in=q,k.avail_in=Z,x.hold=X,x.bits=ee,l(k,le),ne=k.next_out,G=k.output,K=k.avail_out,q=k.next_in,N=k.input,Z=k.avail_in,X=x.hold,ee=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Le=(J=x.lencode[X&(1<<x.lenbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(Le&&!(240&Le)){for(Fe=Se,Ve=Le,Je=Ee;Le=(J=x.lencode[Je+((X&(1<<Fe+Ve)-1)>>Fe)])>>>16&255,Ee=65535&J,!(Fe+(Se=J>>>24)<=ee);){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}X>>>=Fe,ee-=Fe,x.back+=Fe}if(X>>>=Se,ee-=Se,x.back+=Se,x.length=Ee,Le===0){x.mode=26;break}if(32&Le){x.back=-1,x.mode=12;break}if(64&Le){k.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Le,x.mode=22;case 22:if(x.extra){for(te=x.extra;ee<te;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.length+=X&(1<<x.extra)-1,X>>>=x.extra,ee-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Le=(J=x.distcode[X&(1<<x.distbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(!(240&Le)){for(Fe=Se,Ve=Le,Je=Ee;Le=(J=x.distcode[Je+((X&(1<<Fe+Ve)-1)>>Fe)])>>>16&255,Ee=65535&J,!(Fe+(Se=J>>>24)<=ee);){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}X>>>=Fe,ee-=Fe,x.back+=Fe}if(X>>>=Se,ee-=Se,x.back+=Se,64&Le){k.msg="invalid distance code",x.mode=30;break}x.offset=Ee,x.extra=15&Le,x.mode=24;case 24:if(x.extra){for(te=x.extra;ee<te;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}x.offset+=X&(1<<x.extra)-1,X>>>=x.extra,ee-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){k.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(K===0)break e;if(ce=le-K,x.offset>ce){if((ce=x.offset-ce)>x.whave&&x.sane){k.msg="invalid distance too far back",x.mode=30;break}ye=ce>x.wnext?(ce-=x.wnext,x.wsize-ce):x.wnext-ce,ce>x.length&&(ce=x.length),pe=x.window}else pe=G,ye=ne-x.offset,ce=x.length;for(K<ce&&(ce=K),K-=ce,x.length-=ce;G[ne++]=pe[ye++],--ce;);x.length===0&&(x.mode=21);break;case 26:if(K===0)break e;G[ne++]=x.length,K--,x.mode=21;break;case 27:if(x.wrap){for(;ee<32;){if(Z===0)break e;Z--,X|=N[q++]<<ee,ee+=8}if(le-=K,k.total_out+=le,x.total+=le,le&&(k.adler=x.check=x.flags?d(x.check,G,le,ne-le):R(x.check,G,le,ne-le)),le=K,(x.flags?X:p(X))!==x.check){k.msg="incorrect data check",x.mode=30;break}ee=X=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;ee<32;){if(Z===0)break e;Z--,X+=N[q++]<<ee,ee+=8}if(X!==(4294967295&x.total)){k.msg="incorrect length check",x.mode=30;break}ee=X=0}x.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return r}return k.next_out=ne,k.avail_out=K,k.next_in=q,k.avail_in=Z,x.hold=X,x.bits=ee,(x.wsize||le!==k.avail_out&&x.mode<30&&(x.mode<27||F!==4))&&b(k,k.output,k.next_out,le-k.avail_out)?(x.mode=31,-4):(ie-=k.avail_in,le-=k.avail_out,k.total_in+=ie,k.total_out+=le,x.total+=le,x.wrap&&le&&(k.adler=x.check=x.flags?d(x.check,G,le,k.next_out-le):R(x.check,G,le,k.next_out-le)),k.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(ie==0&&le===0||F===4)&&ge===n&&(ge=-5),ge)},w.inflateEnd=function(k){if(!k||!k.state)return r;var F=k.state;return F.window&&(F.window=null),k.state=null,n},w.inflateGetHeader=function(k,F){var x;return k&&k.state&&2&(x=k.state).wrap?((x.head=F).done=!1,n):r},w.inflateSetDictionary=function(k,F){var x,N=F.length;return k&&k.state?(x=k.state).wrap!==0&&x.mode!==11?r:x.mode===11&&R(1,F,N,0)!==x.check?-3:b(k,F,N,N)?(x.mode=31,-4):(x.havedict=1,n):r},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(E,M,w){var C=E("../utils/common"),R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];M.exports=function(t,e,n,r,i,o,h,p){var y,L,m,s,f,_,g,v,c,b=p.bits,k=0,F=0,x=0,N=0,G=0,q=0,ne=0,Z=0,K=0,X=0,ee=null,ie=0,le=new C.Buf16(16),ce=new C.Buf16(16),ye=null,pe=0;for(k=0;k<=15;k++)le[k]=0;for(F=0;F<r;F++)le[e[n+F]]++;for(G=b,N=15;1<=N&&le[N]===0;N--);if(N<G&&(G=N),N===0)return i[o++]=20971520,i[o++]=20971520,p.bits=1,0;for(x=1;x<N&&le[x]===0;x++);for(G<x&&(G=x),k=Z=1;k<=15;k++)if(Z<<=1,(Z-=le[k])<0)return-1;if(0<Z&&(t===0||N!==1))return-1;for(ce[1]=0,k=1;k<15;k++)ce[k+1]=ce[k]+le[k];for(F=0;F<r;F++)e[n+F]!==0&&(h[ce[e[n+F]]++]=F);if(_=t===0?(ee=ye=h,19):t===1?(ee=R,ie-=257,ye=d,pe-=257,256):(ee=l,ye=a,-1),k=x,f=o,ne=F=X=0,m=-1,s=(K=1<<(q=G))-1,t===1&&852<K||t===2&&592<K)return 1;for(;;){for(g=k-ne,c=h[F]<_?(v=0,h[F]):h[F]>_?(v=ye[pe+h[F]],ee[ie+h[F]]):(v=96,0),y=1<<k-ne,x=L=1<<q;i[f+(X>>ne)+(L-=y)]=g<<24|v<<16|c|0,L!==0;);for(y=1<<k-1;X&y;)y>>=1;if(y!==0?(X&=y-1,X+=y):X=0,F++,--le[k]==0){if(k===N)break;k=e[n+h[F]]}if(G<k&&(X&s)!==m){for(ne===0&&(ne=G),f+=x,Z=1<<(q=k-ne);q+ne<N&&!((Z-=le[q+ne])<=0);)q++,Z<<=1;if(K+=1<<q,t===1&&852<K||t===2&&592<K)return 1;i[m=X&s]=G<<24|q<<16|f-o|0}}return X!==0&&(i[f+X]=k-ne<<24|64<<16|0),p.bits=G,0}},{"../utils/common":41}],51:[function(E,M,w){M.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(E,M,w){var C=E("../utils/common"),R=0,d=1;function l(J){for(var he=J.length;0<=--he;)J[he]=0}var a=0,t=29,e=256,n=e+1+t,r=30,i=19,o=2*n+1,h=15,p=16,y=7,L=256,m=16,s=17,f=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=new Array(2*(n+2));l(b);var k=new Array(2*r);l(k);var F=new Array(512);l(F);var x=new Array(256);l(x);var N=new Array(t);l(N);var G,q,ne,Z=new Array(r);function K(J,he,me,Y,re){this.static_tree=J,this.extra_bits=he,this.extra_base=me,this.elems=Y,this.max_length=re,this.has_stree=J&&J.length}function X(J,he){this.dyn_tree=J,this.max_code=0,this.stat_desc=he}function ee(J){return J<256?F[J]:F[256+(J>>>7)]}function ie(J,he){J.pending_buf[J.pending++]=255&he,J.pending_buf[J.pending++]=he>>>8&255}function le(J,he,me){J.bi_valid>p-me?(J.bi_buf|=he<<J.bi_valid&65535,ie(J,J.bi_buf),J.bi_buf=he>>p-J.bi_valid,J.bi_valid+=me-p):(J.bi_buf|=he<<J.bi_valid&65535,J.bi_valid+=me)}function ce(J,he,me){le(J,me[2*he],me[2*he+1])}function ye(J,he){for(var me=0;me|=1&J,J>>>=1,me<<=1,0<--he;);return me>>>1}function pe(J,he,me){var Y,re,we=new Array(h+1),ke=0;for(Y=1;Y<=h;Y++)we[Y]=ke=ke+me[Y-1]<<1;for(re=0;re<=he;re++){var be=J[2*re+1];be!==0&&(J[2*re]=ye(we[be]++,be))}}function Se(J){var he;for(he=0;he<n;he++)J.dyn_ltree[2*he]=0;for(he=0;he<r;he++)J.dyn_dtree[2*he]=0;for(he=0;he<i;he++)J.bl_tree[2*he]=0;J.dyn_ltree[2*L]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function Le(J){8<J.bi_valid?ie(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function Ee(J,he,me,Y){var re=2*he,we=2*me;return J[re]<J[we]||J[re]===J[we]&&Y[he]<=Y[me]}function Fe(J,he,me){for(var Y=J.heap[me],re=me<<1;re<=J.heap_len&&(re<J.heap_len&&Ee(he,J.heap[re+1],J.heap[re],J.depth)&&re++,!Ee(he,Y,J.heap[re],J.depth));)J.heap[me]=J.heap[re],me=re,re<<=1;J.heap[me]=Y}function Ve(J,he,me){var Y,re,we,ke,be=0;if(J.last_lit!==0)for(;Y=J.pending_buf[J.d_buf+2*be]<<8|J.pending_buf[J.d_buf+2*be+1],re=J.pending_buf[J.l_buf+be],be++,Y===0?ce(J,re,he):(ce(J,(we=x[re])+e+1,he),(ke=_[we])!==0&&le(J,re-=N[we],ke),ce(J,we=ee(--Y),me),(ke=g[we])!==0&&le(J,Y-=Z[we],ke)),be<J.last_lit;);ce(J,L,he)}function Je(J,he){var me,Y,re,we=he.dyn_tree,ke=he.stat_desc.static_tree,be=he.stat_desc.has_stree,xe=he.stat_desc.elems,Pe=-1;for(J.heap_len=0,J.heap_max=o,me=0;me<xe;me++)we[2*me]!==0?(J.heap[++J.heap_len]=Pe=me,J.depth[me]=0):we[2*me+1]=0;for(;J.heap_len<2;)we[2*(re=J.heap[++J.heap_len]=Pe<2?++Pe:0)]=1,J.depth[re]=0,J.opt_len--,be&&(J.static_len-=ke[2*re+1]);for(he.max_code=Pe,me=J.heap_len>>1;1<=me;me--)Fe(J,we,me);for(re=xe;me=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Fe(J,we,1),Y=J.heap[1],J.heap[--J.heap_max]=me,J.heap[--J.heap_max]=Y,we[2*re]=we[2*me]+we[2*Y],J.depth[re]=(J.depth[me]>=J.depth[Y]?J.depth[me]:J.depth[Y])+1,we[2*me+1]=we[2*Y+1]=re,J.heap[1]=re++,Fe(J,we,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(Re,Xe){var Ce,Qe,Me,Ke,pt,oe,_e=Xe.dyn_tree,He=Xe.max_code,et=Xe.stat_desc.static_tree,De=Xe.stat_desc.has_stree,gt=Xe.stat_desc.extra_bits,Ie=Xe.stat_desc.extra_base,vt=Xe.stat_desc.max_length,Ue=0;for(Ke=0;Ke<=h;Ke++)Re.bl_count[Ke]=0;for(_e[2*Re.heap[Re.heap_max]+1]=0,Ce=Re.heap_max+1;Ce<o;Ce++)vt<(Ke=_e[2*_e[2*(Qe=Re.heap[Ce])+1]+1]+1)&&(Ke=vt,Ue++),_e[2*Qe+1]=Ke,He<Qe||(Re.bl_count[Ke]++,pt=0,Ie<=Qe&&(pt=gt[Qe-Ie]),oe=_e[2*Qe],Re.opt_len+=oe*(Ke+pt),De&&(Re.static_len+=oe*(et[2*Qe+1]+pt)));if(Ue!==0){do{for(Ke=vt-1;Re.bl_count[Ke]===0;)Ke--;Re.bl_count[Ke]--,Re.bl_count[Ke+1]+=2,Re.bl_count[vt]--,Ue-=2}while(0<Ue);for(Ke=vt;Ke!==0;Ke--)for(Qe=Re.bl_count[Ke];Qe!==0;)He<(Me=Re.heap[--Ce])||(_e[2*Me+1]!==Ke&&(Re.opt_len+=(Ke-_e[2*Me+1])*_e[2*Me],_e[2*Me+1]=Ke),Qe--)}}(J,he),pe(we,Pe,J.bl_count)}function I(J,he,me){var Y,re,we=-1,ke=he[1],be=0,xe=7,Pe=4;for(ke===0&&(xe=138,Pe=3),he[2*(me+1)+1]=65535,Y=0;Y<=me;Y++)re=ke,ke=he[2*(Y+1)+1],++be<xe&&re===ke||(be<Pe?J.bl_tree[2*re]+=be:re!==0?(re!==we&&J.bl_tree[2*re]++,J.bl_tree[2*m]++):be<=10?J.bl_tree[2*s]++:J.bl_tree[2*f]++,we=re,Pe=(be=0)===ke?(xe=138,3):re===ke?(xe=6,3):(xe=7,4))}function ge(J,he,me){var Y,re,we=-1,ke=he[1],be=0,xe=7,Pe=4;for(ke===0&&(xe=138,Pe=3),Y=0;Y<=me;Y++)if(re=ke,ke=he[2*(Y+1)+1],!(++be<xe&&re===ke)){if(be<Pe)for(;ce(J,re,J.bl_tree),--be!=0;);else re!==0?(re!==we&&(ce(J,re,J.bl_tree),be--),ce(J,m,J.bl_tree),le(J,be-3,2)):be<=10?(ce(J,s,J.bl_tree),le(J,be-3,3)):(ce(J,f,J.bl_tree),le(J,be-11,7));we=re,Pe=(be=0)===ke?(xe=138,3):re===ke?(xe=6,3):(xe=7,4)}}l(Z);var fe=!1;function te(J,he,me,Y){le(J,(a<<1)+(Y?1:0),3),function(re,we,ke,be){Le(re),be&&(ie(re,ke),ie(re,~ke)),C.arraySet(re.pending_buf,re.window,we,ke,re.pending),re.pending+=ke}(J,he,me,!0)}w._tr_init=function(J){fe||(function(){var he,me,Y,re,we,ke=new Array(h+1);for(re=Y=0;re<t-1;re++)for(N[re]=Y,he=0;he<1<<_[re];he++)x[Y++]=re;for(x[Y-1]=re,re=we=0;re<16;re++)for(Z[re]=we,he=0;he<1<<g[re];he++)F[we++]=re;for(we>>=7;re<r;re++)for(Z[re]=we<<7,he=0;he<1<<g[re]-7;he++)F[256+we++]=re;for(me=0;me<=h;me++)ke[me]=0;for(he=0;he<=143;)b[2*he+1]=8,he++,ke[8]++;for(;he<=255;)b[2*he+1]=9,he++,ke[9]++;for(;he<=279;)b[2*he+1]=7,he++,ke[7]++;for(;he<=287;)b[2*he+1]=8,he++,ke[8]++;for(pe(b,n+1,ke),he=0;he<r;he++)k[2*he+1]=5,k[2*he]=ye(he,5);G=new K(b,_,e+1,n,h),q=new K(k,g,0,r,h),ne=new K(new Array(0),v,0,i,y)}(),fe=!0),J.l_desc=new X(J.dyn_ltree,G),J.d_desc=new X(J.dyn_dtree,q),J.bl_desc=new X(J.bl_tree,ne),J.bi_buf=0,J.bi_valid=0,Se(J)},w._tr_stored_block=te,w._tr_flush_block=function(J,he,me,Y){var re,we,ke=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(be){var xe,Pe=4093624447;for(xe=0;xe<=31;xe++,Pe>>>=1)if(1&Pe&&be.dyn_ltree[2*xe]!==0)return R;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return d;for(xe=32;xe<e;xe++)if(be.dyn_ltree[2*xe]!==0)return d;return R}(J)),Je(J,J.l_desc),Je(J,J.d_desc),ke=function(be){var xe;for(I(be,be.dyn_ltree,be.l_desc.max_code),I(be,be.dyn_dtree,be.d_desc.max_code),Je(be,be.bl_desc),xe=i-1;3<=xe&&be.bl_tree[2*c[xe]+1]===0;xe--);return be.opt_len+=3*(xe+1)+5+5+4,xe}(J),re=J.opt_len+3+7>>>3,(we=J.static_len+3+7>>>3)<=re&&(re=we)):re=we=me+5,me+4<=re&&he!==-1?te(J,he,me,Y):J.strategy===4||we===re?(le(J,2+(Y?1:0),3),Ve(J,b,k)):(le(J,4+(Y?1:0),3),function(be,xe,Pe,Re){var Xe;for(le(be,xe-257,5),le(be,Pe-1,5),le(be,Re-4,4),Xe=0;Xe<Re;Xe++)le(be,be.bl_tree[2*c[Xe]+1],3);ge(be,be.dyn_ltree,xe-1),ge(be,be.dyn_dtree,Pe-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ke+1),Ve(J,J.dyn_ltree,J.dyn_dtree)),Se(J),Y&&Le(J)},w._tr_tally=function(J,he,me){return J.pending_buf[J.d_buf+2*J.last_lit]=he>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&he,J.pending_buf[J.l_buf+J.last_lit]=255&me,J.last_lit++,he===0?J.dyn_ltree[2*me]++:(J.matches++,he--,J.dyn_ltree[2*(x[me]+e+1)]++,J.dyn_dtree[2*ee(he)]++),J.last_lit===J.lit_bufsize-1},w._tr_align=function(J){le(J,2,3),ce(J,L,b),function(he){he.bi_valid===16?(ie(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(E,M,w){M.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(E,M,w){M.exports=typeof setImmediate=="function"?setImmediate:function(){var C=[].slice.apply(arguments);C.splice(1,0,0),setTimeout.apply(null,C)}},{}]},{},[10])(10)});const _t={_HW:{description:"Start of the hardware IO registers.",value:"$FF00->$FF80"},_VRAM:{description:"VRAM Memory",value:"$8000->$9FFF"},_SCRN0:{description:"Background 0 Memory",value:"$9800->$9BFF"},_SCRN1:{description:"Background 1 Memory",value:"$9C00->$9FFF"},_SRAM:{description:"Card SRAM",value:"$A000->$BFFF"},_RAM:{description:"WRAM Memory",value:"$C000->$DFFF"},_OAMRAM:{description:"OAM Memory",value:"$FE00->$FE9F",flags:{OAMF_PRI:{value:"%10000000",description:"Flag to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMF_YFLIP:{value:"%01000000",description:"Flag to set on OAM attribute byte to make the sprite flip in the Y direction"},OAMF_XFLIP:{value:"%00100000",description:"Flag to set on OAM attribute byte to make the sprite flip in the X direction"},OAMF_PAL0:{value:"%00000000",description:"Flag to set on OAM attribute byte to make the sprite use OBP0 in DMG (non-color) mode."},OAMF_PAL1:{value:"%00010000",description:"Flag to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMF_BANK0:{value:"%00000000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 0 in GBC mode."},OAMF_BANK1:{value:"%00001000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."},OAMF_PALMASK:{value:"%00000111",description:"Mask of the color sprite palette index in the OAM attribute byte. In GBC mode."},OAMB_PRI:{value:"7",description:"Bit number to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMB_YFLIP:{value:"6",description:"Bit number to set on OAM attribute byte to make the sprite flip in the Y direction."},OAMB_XFLIP:{value:"5",description:"Bit number to set on OAM attribute byte to make the sprite flip in the X direction."},OAMB_PAL1:{value:"4",description:"Bit number to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMB_BANK1:{value:"3",description:"Bit number to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."}}},_AUD3WAVERAM:{description:"WAVE Channel Memory",value:"$FF30->$FF3F"},_HRAM:{description:"HRAM Memory",value:"$FF80->$FFFE"},rP1:{description:"Register for reading joy pad info. (R/W)",value:"$FF00",flags:{P1F_5:{value:"%00100000",description:"P15 out port, set to 0 to get buttons"},P1F_4:{value:"%00010000",description:"P14 out port, set to 0 to get dpad"},P1F_3:{value:"%00001000",description:"P13 in port"},P1F_2:{value:"%00000100",description:"P12 in port"},P1F_1:{value:"%00000010",description:"P11 in port"},P1F_0:{value:"%00000001",description:"P10 in port"},P1F_GET_DPAD:{description:"Value to load in rP1 to enable the reading of the DPad inputs."},P1F_GET_BTN:{description:"Value to load in rP1 to enable the reading of the A/B/Start/Select inputs."},P1F_GET_NONE:{description:"Value to load in rP1 to disable the reading of input buttons."}}},rSB:{description:"Serial Transfer Data (R/W)",value:"$FF01"},rSC:{description:"Serial I/O Control (R/W)",value:"$FF02"},rDIV:{description:`Divider register (R/W)
Incremented at 16384Hz or 32768Hz depending on the CPU speed.
Write any value to reset to zero.`,value:"$FF04"},rTIMA:{description:"Timer counter (R/W)",value:"$FF05"},rTMA:{description:"Timer modulo (R/W)",value:"$FF06"},rTAC:{description:"Timer control (R/W)",value:"$FF07",flags:{TACF_START:{value:"%00000100"},TACF_STOP:{value:"%00000000"},TACF_4KHZ:{value:"%00000000"},TACF_16KHZ:{value:"%00000011"},TACF_65KHZ:{value:"%00000010"},TACF_262KHZ:{value:"%00000001"}}},rIF:{description:`Interrupt Flag (R/W)
Contains the currently 'ready' interrupts, set by hardware, cleared when interrupt is executed.
Generally only written to zero to clear pending interrupts before enabling interrupts.`,value:"$FF0F",flags:"rIE"},rLCDC:{description:"LCD Control (R/W)",value:"$FF40",flags:{LCDCF_OFF:{value:"%00000000",description:"LCD Control Operation"},LCDCF_ON:{value:"%10000000",description:"LCD Control Operation"},LCDCF_WIN9800:{value:"%00000000",description:"Window Tile Map Display Select"},LCDCF_WIN9C00:{value:"%01000000",description:"Window Tile Map Display Select"},LCDCF_WINOFF:{value:"%00000000",description:"Window Display"},LCDCF_WINON:{value:"%00100000",description:"Window Display"},LCDCF_BG8800:{value:"%00000000",description:"BG & Window Tile Data Select"},LCDCF_BG8000:{value:"%00010000",description:"BG & Window Tile Data Select"},LCDCF_BG9800:{value:"%00000000",description:"BG Tile Map Display Select"},LCDCF_BG9C00:{value:"%00001000",description:"BG Tile Map Display Select"},LCDCF_OBJ8:{value:"%00000000",description:"OBJ Construction"},LCDCF_OBJ16:{value:"%00000100",description:"OBJ Construction"},LCDCF_OBJOFF:{value:"%00000000",description:"OBJ Display"},LCDCF_OBJON:{value:"%00000010",description:"OBJ Display"},LCDCF_BGOFF:{value:"%00000000",description:"BG Display"},LCDCF_BGON:{value:"%00000001",description:"BG Display"}}},rSTAT:{description:"LCDC Status (R/W)",value:"$FF41",flags:{STATF_LYC:{value:"%01000000",description:"LYC=LY Coincidence interrupt enabled (writable)"},STATF_MODE10:{value:"%00100000",description:"Mode 10 OAM STAT interrupt enabled (writable)"},STATF_MODE01:{value:"%00010000",description:"Mode 01 V-Blank STAT interrupt enabled (writable)"},STATF_MODE00:{value:"%00001000",description:"Mode 00 H-Blank STAT interrupt enabled (writable)"},STATF_LYCF:{value:"%00000100",description:"Coincidence Flag"},STATF_HB:{value:"%00000000",description:"H-Blank"},STATF_VB:{value:"%00000001",description:"V-Blank"},STATF_OAM:{value:"%00000010",description:"OAM-RAM is used by system"},STATF_LCD:{value:"%00000011",description:"Both OAM and VRAM used by system"},STATF_BUSY:{value:"%00000010",description:"When set, VRAM access is unsafe"}}},rSCY:{description:"Scroll Y (R/W)",value:"$FF42"},rSCX:{description:"Scroll X (R/W)",value:"$FF43"},rLY:{description:"LCDC Y-Coordinate (R)<br>Values range from 0->153. 144->153 is the VBlank period.",value:"$FF44"},rLYC:{description:"LY Compare (R/W)<br>When LY==LYC, STATF_LYCF will be set in STAT",value:"$FF45"},rDMA:{description:"DMA Transfer and Start Address (W)",value:"$FF46"},rBGP:{description:"BG Palette Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Intensity for %00",value:"$FF47"},rOBP0:{description:"Object Palette 0 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF48"},rOBP1:{description:"Object Palette 1 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF49"},rWY:{description:"Window Y Position (R/W)<br>0 <= WY <= 143",value:"$FF4A"},rWX:{description:"Window X Position (R/W)<br>7 <EQU WX <EQU 166",value:"$FF4B"},rKEY1:{description:"Select CPU Speed (R/W) GBC Only!<br>Bit 7 contains current speed: 1 is double speed.<br>Write bit 0 to 1 and execute a STOP instruction to switch speed.",value:"$FF4D"},rVBK:{description:"Select Video RAM Bank (R/W) GBC Only!",value:"$FF4F"},rHDMA1:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF51"},rHDMA2:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF52"},rHDMA3:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF53"},rHDMA4:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF54"},rHDMA5:{description:"Horizontal Blanking, General Purpose DMA (R/W) GBC Only!",value:"$FF55"},rRP:{description:"Infrared Communications Port (R/W) GBC Only!",value:"$FF56"},rBCPS:{description:"Background Color Palette Specification (R/W) GBC Only!",value:"$FF68"},rBCPD:{description:"Background Color Palette Data (R/W) GBC Only!",value:"$FF69"},rOCPS:{description:"Object Color Palette Specification (R/W) GBC Only!",value:"$FF6A"},rOCPD:{description:"Object Color Palette Data (R/W) GBC Only!",value:"$FF6B"},rSVBK:{description:"Select Main RAM Bank (R/W) GBC Only!",value:"$FF70"},rIE:{description:"Interrupt Enable (R/W)",value:"$FFFF",flags:{IEF_HILO:{value:"%00010000",description:"Transition from High to Low of Pin number P10-P13"},IEF_SERIAL:{value:"%00001000",description:"Serial I/O transfer end"},IEF_TIMER:{value:"%00000100",description:"Timer Overflow"},IEF_LCDC:{value:"%00000010",description:"LCDC (see STAT)"},IEF_VBLANK:{value:"%00000001",description:"V-Blank"}}},rNR50:{description:"Channel control / ON-OFF / Volume (R/W)<br>Bit 7   - Vin->SO2 ON/OFF (Vin??)<br>Bit 6-4 - SO2 output level (volume) (# 0-7)<br>Bit 3   - Vin->SO1 ON/OFF (Vin??)<br>Bit 2-0 - SO1 output level (volume) (# 0-7)",value:"$FF24",alias:"rAUDVOL"},rNR51:{description:"Selection of Sound output terminal (R/W)<br>Bit 7   - Output sound 4 to SO2 terminal<br>Bit 6   - Output sound 3 to SO2 terminal<br>Bit 5   - Output sound 2 to SO2 terminal<br>Bit 4   - Output sound 1 to SO2 terminal<br>Bit 3   - Output sound 4 to SO1 terminal<br>Bit 2   - Output sound 3 to SO1 terminal<br>Bit 1   - Output sound 2 to SO1 terminal<br>Bit 0   - Output sound 0 to SO1 terminal",value:"$FF25",alias:"rAUDTERM",flags:{AUDTERM_4_LEFT:{description:"%10000000"},AUDTERM_3_LEFT:{description:"%01000000"},AUDTERM_2_LEFT:{description:"%00100000"},AUDTERM_1_LEFT:{description:"%00010000"},AUDTERM_4_RIGHT:{description:"%00001000"},AUDTERM_3_RIGHT:{description:"%00000100"},AUDTERM_2_RIGHT:{description:"%00000010"},AUDTERM_1_RIGHT:{description:"%00000001"}}},rNR52:{description:"Sound on/off (R/W)<br>Bit 7   - All sound on/off (sets all audio regs to 0!)<br>Bit 3   - Sound 4 ON flag (read only)<br>Bit 2   - Sound 3 ON flag (read only)<br>Bit 1   - Sound 2 ON flag (read only)<br>Bit 0   - Sound 1 ON flag (read only)",value:"$FF26",alias:"rAUDENA",flags:{AUDENA_ON:{description:"%10000000"},AUDENA_OFF:{description:"%00000000  ; sets all audio regs to 0!"}}},rNR10:{description:"Sweep register (R/W)<br>Bit 6-4 - Sweep Time<br>Bit 3   - Sweep Increase/Decrease<br>&nbsp; 0: Addition<br>&nbsp; 1: Subtraction<br>Bit 2-0 - Number of sweep shift (# 0-7)<br>Sweep Time: (n*7.8ms)",value:"$FF10",alias:"rAUD1SWEEP",flags:{AUD1SWEEP_UP:{description:"%00000000"},AUD1SWEEP_DOWN:{description:"%00001000"}}},rNR11:{description:"Sound length/Wave pattern duty (R/W)<br>Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)<br>Bit 5-0 - Sound length data (# 0-63)",value:"$FF11",alias:"rAUD1LEN",flags:{AUDLEN_DUTY_12_5:{value:"%00000000",description:"12.5%"},AUDLEN_DUTY_25:{value:"%01000000",description:"25%"},AUDLEN_DUTY_50:{value:"%10000000",description:"50%"},AUDLEN_DUTY_75:{value:"%11000000",description:"75%"}}},rNR12:{description:`Envelope (R/W)
Bit 7-4 - Initial value of envelope
Bit 3   - Envelope UP/DOWN
        0: Decrease
        1: Range of increase
Bit 2-0 - Number of envelope sweep (# 0-7)`,value:"$FF12",alias:"rAUD1ENV",flags:{AUDENV_UP:{value:"%00001000"},AUDENV_DOWN:{value:"%00000000"}}},rNR13:{description:"Frequency lo (W)",value:"$FF13",alias:"rAUD1LOW"},rNR14:{description:"Frequency hi (W)",value:"$FF14",alias:"rAUD1HIGH",flags:{AUDHIGH_RESTART:{description:"%10000000"},AUDHIGH_LENGTH_ON:{description:"%01000000"},AUDHIGH_LENGTH_OFF:{description:"%00000000"}}},rNR21:{description:"Sound Length; Wave Pattern Duty (R/W)",value:"$FF16",alias:"rAUD2LEN",flags:"rAUD1LEN"},rNR22:{description:"Envelope (R/W)",value:"$FF17",alias:"rAUD2ENV",flags:"rAUD1ENV"},rNR23:{description:"Frequency lo (W)",value:"$FF18",alias:"rAUD2LOW"},rNR24:{description:"Frequency hi (W)",value:"$FF19",alias:"rAUD2HIGH",flags:"rAUD1HIGH"},rNR30:{description:"Sound on/off (R/W)",value:"$FF1A",alias:"rAUD3ENA"},rNR31:{description:"Sound length (R/W)",value:"$FF1B",alias:"rAUD3LEN"},rNR32:{description:"Select output level",value:"$FF1C",alias:"rAUD3LEVEL"},rNR33:{description:"Frequency lo (W)",value:"$FF1D",alias:"rAUD3LOW"},rNR34:{description:"Frequency hi (W)",value:"$FF1E",alias:"rAUD3HIGH",flags:"rAUD1HIGH"},rNR41:{description:"Sound length (R/W)",value:"$FF20",alias:"rAUD4LEN"},rNR42:{description:"Envelope (R/W)",value:"$FF21",alias:"rAUD4ENV",flags:"rAUD1ENV"},rNR43:{description:"Polynomial counter (R/W)",value:"$FF22",alias:"rAUD4POLY"},rNR44:{description:"",value:"$FF23",alias:"rAUD4GO"},rPCM12:{description:"Sound channel 1&2 PCM amplitude (R) GBC Only!",value:"$FF76"},rPCM34:{description:"Sound channel 3&4 PCM amplitude (R) GBC Only!",value:"$FF77"},CART_COMPATIBLE_DMG:{description:"Store at $0143 to indicate DMG cartridge. ($00)"},CART_COMPATIBLE_DMG_GBC:{description:"Store at $0143 to indicate DMG and GBC compatible cartridge. ($80)"},CART_COMPATIBLE_GBC:{description:"Store at $0143 to indicate GBC compatible cartridge. ($C0)"},CART_ROM:{description:"Store at $0147 to cart type. ($00)"},CART_ROM_MBC1:{description:"Store at $0147 to cart type. ($01)"},CART_ROM_MBC1_RAM:{description:"Store at $0147 to cart type. ($02)"},CART_ROM_MBC1_RAM_BAT:{description:"Store at $0147 to cart type. ($03)"},CART_ROM_MBC2:{description:"Store at $0147 to cart type. ($05)"},CART_ROM_MBC2_BAT:{description:"Store at $0147 to cart type. ($06)"},CART_ROM_RAM:{description:"Store at $0147 to cart type. ($08)"},CART_ROM_RAM_BAT:{description:"Store at $0147 to cart type. ($09)"},CART_ROM_MBC3_BAT_RTC:{description:"Store at $0147 to cart type. ($0F)"},CART_ROM_MBC3_RAM_BAT_RTC:{description:"Store at $0147 to cart type. ($10)"},CART_ROM_MBC3:{description:"Store at $0147 to cart type. ($11)"},CART_ROM_MBC3_RAM:{description:"Store at $0147 to cart type. ($12)"},CART_ROM_MBC3_RAM_BAT:{description:"Store at $0147 to cart type. ($13)"},CART_ROM_MBC5:{description:"Store at $0147 to cart type. ($19)"},CART_ROM_MBC5_BAT:{description:"Store at $0147 to cart type. ($1A)"},CART_ROM_MBC5_RAM_BAT:{description:"Store at $0147 to cart type. ($1B)"},CART_ROM_MBC5_RUMBLE:{description:"Store at $0147 to cart type. ($1C)"},CART_ROM_MBC5_RAM_RUMBLE:{description:"Store at $0147 to cart type. ($1D)"},CART_ROM_MBC5_RAM_BAT_RUMBLE:{description:"Store at $0147 to cart type. ($1E)"},CART_ROM_MBC7_RAM_BAT_GYRO:{description:"Store at $0147 to cart type. ($22)"},CART_ROM_POCKET_CAMERA:{description:"Store at $0147 to cart type. ($FC)"},CART_ROM_256K:{description:"Store at $0148 to indicate the number of ROM banks: 2 banks"},CART_ROM_512K:{description:"Store at $0148 to indicate the number of ROM banks: 4 banks"},CART_ROM_1M:{description:"Store at $0148 to indicate the number of ROM banks: 8 banks"},CART_ROM_2M:{description:"Store at $0148 to indicate the number of ROM banks: 16 banks"},CART_ROM_4M:{description:"Store at $0148 to indicate the number of ROM banks: 32 banks"},CART_ROM_8M:{description:"Store at $0148 to indicate the number of ROM banks: 64 banks"},CART_ROM_16M:{description:"Store at $0148 to indicate the number of ROM banks: 128 banks"},CART_ROM_32M:{description:"Store at $0148 to indicate the number of ROM banks: 256 banks"},CART_ROM_64M:{description:"Store at $0148 to indicate the number of ROM banks: 512 banks"},CART_RAM_NONE:{description:"Store at $0149 to indicate the amount of SRAM: No SRAM"},CART_RAM_16K:{description:"Store at $0149 to indicate the amount of SRAM: 2 KiloByte, 1 bank"},CART_RAM_64K:{description:"Store at $0149 to indicate the amount of SRAM: 8 KiloByte, 1 bank"},CART_RAM_256K:{description:"Store at $0149 to indicate the amount of SRAM: 32 KiloByte, 4 banks"},CART_RAM_1M:{description:"Store at $0149 to indicate the amount of SRAM: 128 KiloByte, 16 banks"},CART_RAM_ENABLE:{description:"Write this value to $0000 to enable SRAM. ($0A)"},CART_RAM_DISABLE:{description:"Write this value to $0000 to disable SRAM. ($00)"},PADF_DOWN:{description:"$80"},PADF_UP:{description:"$40"},PADF_LEFT:{description:"$20"},PADF_RIGHT:{description:"$10"},PADF_START:{description:"$08"},PADF_SELECT:{description:"$04"},PADF_B:{description:"$02"},PADF_A:{description:"$01"},PADB_DOWN:{description:"$7"},PADB_UP:{description:"$6"},PADB_LEFT:{description:"$5"},PADB_RIGHT:{description:"$4"},PADB_START:{description:"$3"},PADB_SELECT:{description:"$2"},PADB_B:{description:"$1"},PADB_A:{description:"$0"},SCRN_X:{description:"Width of screen in pixels",value:"160"},SCRN_Y:{description:"Height of screen in pixels",value:"144"},SCRN_X_B:{description:"Width of screen in bytes",value:"20"},SCRN_Y_B:{description:"Height of screen in bytes",value:"18"},SCRN_VX:{description:"Virtual width of screen in pixels",value:"256"},SCRN_VY:{description:"Virtual height of screen in pixels",value:"256"},SCRN_VX_B:{description:"Virtual width of screen in bytes",value:"32"},SCRN_VY_B:{description:"Virtual height of screen in bytes",value:"32"}};for(var Mt in _t){if(typeof _t[Mt].flags=="string"&&(_t[Mt].flags=_t[_t[Mt].flags].flags),_t[Mt].flags)for(var $r in _t[Mt].flags)_t[$r]=_t[Mt].flags[$r];_t[Mt].alias&&(_t[_t[Mt].alias]=Object.assign({},_t[Mt]),_t[_t[Mt].alias].alias=Mt)}(function(){function E(t){var e=w;t&&(w[t]||(w[t]={}),e=w[t]),(!e.define||!e.define.packaged)&&(C.original=e.define,e.define=C,e.define.packaged=!0),(!e.require||!e.require.packaged)&&(d.original=e.require,e.require=d,e.require.packaged=!0)}var M="",w=function(){return this}();if(!w&&typeof window<"u"&&(w=window),!(typeof requirejs<"u")){var C=function(t,e,n){if(typeof t!="string"){C.original?C.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=e),C.modules[t]||(C.payloads[t]=n,C.modules[t]=null)};C.modules={},C.payloads={};var R=function(t,e,n){if(typeof e=="string"){var r=a(t,e);if(r!=null)return n&&n(),r}else if(Object.prototype.toString.call(e)==="[object Array]"){for(var i=[],o=0,h=e.length;o<h;++o){var p=a(t,e[o]);if(p==null&&d.original)return;i.push(p)}return n&&n.apply(null,i)||!0}},d=function(t,e){var n=R("",t,e);return n==null&&d.original?d.original.apply(this,arguments):n},l=function(t,e){if(e.indexOf("!")!==-1){var n=e.split("!");return l(t,n[0])+"!"+l(t,n[1])}if(e.charAt(0)=="."){var r=t.split("/").slice(0,-1).join("/");for(e=r+"/"+e;e.indexOf(".")!==-1&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=l(t,e);var n=C.modules[e];if(!n){if(n=C.payloads[e],typeof n=="function"){var r={},i={id:e,uri:"",exports:r,packaged:!0},o=function(p,y){return R(e,p,y)},h=n(o,r,i);r=h||i.exports,C.modules[e]=r,delete C.payloads[e]}n=C.modules[e]=r||n}return n};E(M)}})(),define("ace/lib/fixoldbrowsers",["require","exports","module"],function(E,M,w){typeof Element<"u"&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),define("ace/lib/useragent",["require","exports","module"],function(E,M,w){M.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},M.getOS=function(){return M.isMac?M.OS.MAC:M.isLinux?M.OS.LINUX:M.OS.WINDOWS};var C=typeof navigator=="object"?navigator:{},R=(/mac|win|linux/i.exec(C.platform)||["other"])[0].toLowerCase(),d=C.userAgent||"",l=C.appName||"";M.isWin=R=="win",M.isMac=R=="mac",M.isLinux=R=="linux",M.isIE=l=="Microsoft Internet Explorer"||l.indexOf("MSAppHost")>=0?parseFloat((d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),M.isOldIE=M.isIE&&M.isIE<9,M.isGecko=M.isMozilla=d.match(/ Gecko\/\d+/),M.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",M.isWebKit=parseFloat(d.split("WebKit/")[1])||void 0,M.isChrome=parseFloat(d.split(" Chrome/")[1])||void 0,M.isEdge=parseFloat(d.split(" Edge/")[1])||void 0,M.isAIR=d.indexOf("AdobeAIR")>=0,M.isAndroid=d.indexOf("Android")>=0,M.isChromeOS=d.indexOf(" CrOS ")>=0,M.isIOS=/iPad|iPhone|iPod/.test(d)&&!window.MSStream,M.isIOS&&(M.isMac=!0),M.isMobile=M.isIOS||M.isAndroid}),define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(E,M,w){var C=E("./useragent"),R="http://www.w3.org/1999/xhtml";if(M.buildDom=function l(a,t,e){if(typeof a=="string"&&a){var n=document.createTextNode(a);return t&&t.appendChild(n),n}if(!Array.isArray(a))return a&&a.appendChild&&t&&t.appendChild(a),a;if(typeof a[0]!="string"||!a[0]){for(var r=[],i=0;i<a.length;i++){var o=l(a[i],t,e);o&&r.push(o)}return r}var h=document.createElement(a[0]),p=a[1],y=1;p&&typeof p=="object"&&!Array.isArray(p)&&(y=2);for(var i=y;i<a.length;i++)l(a[i],h,e);return y==2&&Object.keys(p).forEach(function(L){var m=p[L];L==="class"?h.className=Array.isArray(m)?m.join(" "):m:typeof m=="function"||L=="value"||L[0]=="$"?h[L]=m:L==="ref"?e&&(e[m]=h):m!=null&&h.setAttribute(L,m)}),t&&t.appendChild(h),h},M.getDocumentHead=function(l){return l||(l=document),l.head||l.getElementsByTagName("head")[0]||l.documentElement},M.createElement=function(l,a){return document.createElementNS?document.createElementNS(a||R,l):document.createElement(l)},M.removeChildren=function(l){l.innerHTML=""},M.createTextNode=function(l,a){var t=a?a.ownerDocument:document;return t.createTextNode(l)},M.createFragment=function(l){var a=l?l.ownerDocument:document;return a.createDocumentFragment()},M.hasCssClass=function(l,a){var t=(l.className+"").split(/\s+/g);return t.indexOf(a)!==-1},M.addCssClass=function(l,a){M.hasCssClass(l,a)||(l.className+=" "+a)},M.removeCssClass=function(l,a){for(var t=l.className.split(/\s+/g);;){var e=t.indexOf(a);if(e==-1)break;t.splice(e,1)}l.className=t.join(" ")},M.toggleCssClass=function(l,a){for(var t=l.className.split(/\s+/g),e=!0;;){var n=t.indexOf(a);if(n==-1)break;e=!1,t.splice(n,1)}return e&&t.push(a),l.className=t.join(" "),e},M.setCssClass=function(l,a,t){t?M.addCssClass(l,a):M.removeCssClass(l,a)},M.hasCssString=function(l,a){var t=0,e;if(a=a||document,e=a.querySelectorAll("style")){for(;t<e.length;)if(e[t++].id===l)return!0}},M.importCssString=function(l,a,t){var e=t;!t||!t.getRootNode?e=document:(e=t.getRootNode(),(!e||e==t)&&(e=document));var n=e.ownerDocument||e;if(a&&M.hasCssString(a,e))return null;a&&(l+=`
/*# sourceURL=ace/css/`+a+" */");var r=M.createElement("style");r.appendChild(n.createTextNode(l)),a&&(r.id=a),e==n&&(e=M.getDocumentHead(n)),e.insertBefore(r,e.firstChild)},M.importCssStylsheet=function(l,a){M.buildDom(["link",{rel:"stylesheet",href:l}],M.getDocumentHead(a))},M.scrollbarWidth=function(l){var a=M.createElement("ace_inner");a.style.width="100%",a.style.minWidth="0px",a.style.height="200px",a.style.display="block";var t=M.createElement("ace_outer"),e=t.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",e.display="block",t.appendChild(a);var n=l.documentElement;n.appendChild(t);var r=a.offsetWidth;e.overflow="scroll";var i=a.offsetWidth;return r==i&&(i=t.clientWidth),n.removeChild(t),r-i},typeof document>"u"&&(M.importCssString=function(){}),M.computedStyle=function(l,a){return window.getComputedStyle(l,"")||{}},M.setStyle=function(l,a,t){l[a]!==t&&(l[a]=t)},M.HAS_CSS_ANIMATION=!1,M.HAS_CSS_TRANSFORMS=!1,M.HI_DPI=C.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,typeof document<"u"){var d=document.createElement("div");M.HI_DPI&&d.style.transform!==void 0&&(M.HAS_CSS_TRANSFORMS=!0),!C.isEdge&&typeof d.style.animationName<"u"&&(M.HAS_CSS_ANIMATION=!0),d=null}M.HAS_CSS_TRANSFORMS?M.translate=function(l,a,t){l.style.transform="translate("+Math.round(a)+"px, "+Math.round(t)+"px)"}:M.translate=function(l,a,t){l.style.top=Math.round(t)+"px",l.style.left=Math.round(a)+"px"}}),define("ace/lib/oop",["require","exports","module"],function(E,M,w){M.inherits=function(C,R){C.super_=R,C.prototype=Object.create(R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})},M.mixin=function(C,R){for(var d in R)C[d]=R[d];return C},M.implement=function(C,R){M.mixin(C,R)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(E,M,w){var C=E("./oop"),R=function(){var d={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},l,a;for(a in d.FUNCTION_KEYS)l=d.FUNCTION_KEYS[a].toLowerCase(),d[l]=parseInt(a,10);for(a in d.PRINTABLE_KEYS)l=d.PRINTABLE_KEYS[a].toLowerCase(),d[l]=parseInt(a,10);return C.mixin(d,d.MODIFIER_KEYS),C.mixin(d,d.PRINTABLE_KEYS),C.mixin(d,d.FUNCTION_KEYS),d.enter=d.return,d.escape=d.esc,d.del=d.delete,d[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)d.KEY_MODS[e]=t.filter(function(n){return e&d.KEY_MODS[n]}).join("-")+"-"}(),d.KEY_MODS[0]="",d.KEY_MODS[-1]="input-",d}();C.mixin(M,R),M.keyCodeToString=function(d){var l=R[d];return typeof l!="string"&&(l=String.fromCharCode(d)),l.toLowerCase()}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(E,M,w){function C(){i=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){i={passive:!1}}})}catch{}}function R(){return i==null&&C(),i}function d(L,m,s){this.elem=L,this.type=m,this.callback=s}function l(L,m,s){var f=p(m);if(!e.isMac&&n){if(m.getModifierState&&(m.getModifierState("OS")||m.getModifierState("Win"))&&(f|=8),n.altGr){if((3&f)==3)return;n.altGr=0}if(s===18||s===17){var _="location"in m?m.location:m.keyLocation;if(s===17&&_===1)n[s]==1&&(r=m.timeStamp);else if(s===18&&f===3&&_===2){var g=m.timeStamp-r;g<50&&(n.altGr=!0)}}}if(s in t.MODIFIER_KEYS&&(s=-1),!f&&s===13){var _="location"in m?m.location:m.keyLocation;if(_===3&&(L(m,f,-s),m.defaultPrevented))return}if(e.isChromeOS&&f&8){if(L(m,f,s),m.defaultPrevented)return;f&=-9}return f||s in t.FUNCTION_KEYS||s in t.PRINTABLE_KEYS?L(m,f,s):!1}function a(){n=Object.create(null)}var t=E("./keys"),e=E("./useragent"),n=null,r=0,i;d.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var o=M.addListener=function(L,m,s,f){L.addEventListener(m,s,R()),f&&f.$toDestroy.push(new d(L,m,s))},h=M.removeListener=function(L,m,s){L.removeEventListener(m,s,R())};M.stopEvent=function(L){return M.stopPropagation(L),M.preventDefault(L),!1},M.stopPropagation=function(L){L.stopPropagation&&L.stopPropagation()},M.preventDefault=function(L){L.preventDefault&&L.preventDefault()},M.getButton=function(L){return L.type=="dblclick"?0:L.type=="contextmenu"||e.isMac&&L.ctrlKey&&!L.altKey&&!L.shiftKey?2:L.button},M.capture=function(L,m,s){function f(g){m&&m(g),s&&s(g),h(_,"mousemove",m),h(_,"mouseup",f),h(_,"dragstart",f)}var _=L&&L.ownerDocument||document;return o(_,"mousemove",m),o(_,"mouseup",f),o(_,"dragstart",f),f},M.addMouseWheelListener=function(L,m,s){"onmousewheel"in L?o(L,"mousewheel",function(f){var _=8;f.wheelDeltaX!==void 0?(f.wheelX=-f.wheelDeltaX/_,f.wheelY=-f.wheelDeltaY/_):(f.wheelX=0,f.wheelY=-f.wheelDelta/_),m(f)},s):"onwheel"in L?o(L,"wheel",function(f){var _=.35;switch(f.deltaMode){case f.DOM_DELTA_PIXEL:f.wheelX=f.deltaX*_||0,f.wheelY=f.deltaY*_||0;break;case f.DOM_DELTA_LINE:case f.DOM_DELTA_PAGE:f.wheelX=(f.deltaX||0)*5,f.wheelY=(f.deltaY||0)*5}m(f)},s):o(L,"DOMMouseScroll",function(f){f.axis&&f.axis==f.HORIZONTAL_AXIS?(f.wheelX=(f.detail||0)*5,f.wheelY=0):(f.wheelX=0,f.wheelY=(f.detail||0)*5),m(f)},s)},M.addMultiMouseDownListener=function(L,m,s,f,_){function g(x){if(M.getButton(x)!==0?v=0:x.detail>1?(v++,v>4&&(v=1)):v=1,e.isIE){var N=Math.abs(x.clientX-c)>5||Math.abs(x.clientY-b)>5;(!k||N)&&(v=1),k&&clearTimeout(k),k=setTimeout(function(){k=null},m[v-1]||600),v==1&&(c=x.clientX,b=x.clientY)}if(x._clicks=v,s[f]("mousedown",x),v>4)v=0;else if(v>1)return s[f](F[v],x)}var v=0,c,b,k,F={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(L)||(L=[L]),L.forEach(function(x){o(x,"mousedown",g,_)})};var p=function(L){return 0|(L.ctrlKey?1:0)|(L.altKey?2:0)|(L.shiftKey?4:0)|(L.metaKey?8:0)};if(M.getModifierString=function(L){return t.KEY_MODS[p(L)]},M.addCommandKeyListener=function(L,m,s){if(e.isOldGecko||e.isOpera&&!("KeyboardEvent"in window)){var f=null;o(L,"keydown",function(g){f=g.keyCode},s),o(L,"keypress",function(g){return l(m,g,f)},s)}else{var _=null;o(L,"keydown",function(g){n[g.keyCode]=(n[g.keyCode]||0)+1;var v=l(m,g,g.keyCode);return _=g.defaultPrevented,v},s),o(L,"keypress",function(g){_&&(g.ctrlKey||g.altKey||g.shiftKey||g.metaKey)&&(M.stopEvent(g),_=null)},s),o(L,"keyup",function(g){n[g.keyCode]=null},s),n||(a(),o(window,"focus",a))}},typeof window=="object"&&window.postMessage&&!e.isOldIE){var y=1;M.nextTick=function(L,m){m=m||window;var s="zero-timeout-message-"+y++,f=function(_){_.data==s&&(M.stopPropagation(_),h(m,"message",f),L())};o(m,"message",f),m.postMessage(s,"*")}}M.$idleBlocked=!1,M.onIdle=function(L,m){return setTimeout(function s(){M.$idleBlocked?setTimeout(s,100):L()},m)},M.$idleBlockId=null,M.blockIdle=function(L){M.$idleBlockId&&clearTimeout(M.$idleBlockId),M.$idleBlocked=!0,M.$idleBlockId=setTimeout(function(){M.$idleBlocked=!1},L||100)},M.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),M.nextFrame?M.nextFrame=M.nextFrame.bind(window):M.nextFrame=function(L){setTimeout(L,17)}}),define("ace/range",["require","exports","module"],function(E,M,w){var C=function(d,l){return d.row-l.row||d.column-l.column},R=function(d,l,a,t){this.start={row:d,column:l},this.end={row:a,column:t}};(function(){this.isEqual=function(d){return this.start.row===d.start.row&&this.end.row===d.end.row&&this.start.column===d.start.column&&this.end.column===d.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(d,l){return this.compare(d,l)==0},this.compareRange=function(d){var l,a=d.end,t=d.start;return l=this.compare(a.row,a.column),l==1?(l=this.compare(t.row,t.column),l==1?2:l==0?1:0):l==-1?-2:(l=this.compare(t.row,t.column),l==-1?-1:l==1?42:0)},this.comparePoint=function(d){return this.compare(d.row,d.column)},this.containsRange=function(d){return this.comparePoint(d.start)==0&&this.comparePoint(d.end)==0},this.intersects=function(d){var l=this.compareRange(d);return l==-1||l==0||l==1},this.isEnd=function(d,l){return this.end.row==d&&this.end.column==l},this.isStart=function(d,l){return this.start.row==d&&this.start.column==l},this.setStart=function(d,l){typeof d=="object"?(this.start.column=d.column,this.start.row=d.row):(this.start.row=d,this.start.column=l)},this.setEnd=function(d,l){typeof d=="object"?(this.end.column=d.column,this.end.row=d.row):(this.end.row=d,this.end.column=l)},this.inside=function(d,l){return this.compare(d,l)==0?!(this.isEnd(d,l)||this.isStart(d,l)):!1},this.insideStart=function(d,l){return this.compare(d,l)==0?!this.isEnd(d,l):!1},this.insideEnd=function(d,l){return this.compare(d,l)==0?!this.isStart(d,l):!1},this.compare=function(d,l){return!this.isMultiLine()&&d===this.start.row?l<this.start.column?-1:l>this.end.column?1:0:d<this.start.row?-1:d>this.end.row?1:this.start.row===d?l>=this.start.column?0:-1:this.end.row===d?l<=this.end.column?0:1:0},this.compareStart=function(d,l){return this.start.row==d&&this.start.column==l?-1:this.compare(d,l)},this.compareEnd=function(d,l){return this.end.row==d&&this.end.column==l?1:this.compare(d,l)},this.compareInside=function(d,l){return this.end.row==d&&this.end.column==l?1:this.start.row==d&&this.start.column==l?-1:this.compare(d,l)},this.clipRows=function(d,l){if(this.end.row>l)var a={row:l+1,column:0};else if(this.end.row<d)var a={row:d,column:0};if(this.start.row>l)var t={row:l+1,column:0};else if(this.start.row<d)var t={row:d,column:0};return R.fromPoints(t||this.start,a||this.end)},this.extend=function(d,l){var a=this.compare(d,l);if(a==0)return this;if(a==-1)var t={row:d,column:l};else var e={row:d,column:l};return R.fromPoints(t||this.start,e||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return R.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new R(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new R(this.start.row,0,this.end.row,0)},this.toScreenRange=function(d){var l=d.documentToScreenPosition(this.start),a=d.documentToScreenPosition(this.end);return new R(l.row,l.column,a.row,a.column)},this.moveBy=function(d,l){this.start.row+=d,this.start.column+=l,this.end.row+=d,this.end.column+=l}}).call(R.prototype),R.fromPoints=function(d,l){return new R(d.row,d.column,l.row,l.column)},R.comparePoints=C,R.comparePoints=function(d,l){return d.row-l.row||d.column-l.column},M.Range=R}),define("ace/lib/lang",["require","exports","module"],function(E,M,w){M.last=function(d){return d[d.length-1]},M.stringReverse=function(d){return d.split("").reverse().join("")},M.stringRepeat=function(d,l){for(var a="";l>0;)l&1&&(a+=d),(l>>=1)&&(d+=d);return a};var C=/^\s\s*/,R=/\s\s*$/;M.stringTrimLeft=function(d){return d.replace(C,"")},M.stringTrimRight=function(d){return d.replace(R,"")},M.copyObject=function(d){var l={};for(var a in d)l[a]=d[a];return l},M.copyArray=function(d){for(var l=[],a=0,t=d.length;a<t;a++)d[a]&&typeof d[a]=="object"?l[a]=this.copyObject(d[a]):l[a]=d[a];return l},M.deepCopy=function d(l){if(typeof l!="object"||!l)return l;var a;if(Array.isArray(l)){a=[];for(var t=0;t<l.length;t++)a[t]=d(l[t]);return a}if(Object.prototype.toString.call(l)!=="[object Object]")return l;a={};for(var t in l)a[t]=d(l[t]);return a},M.arrayToMap=function(d){for(var l={},a=0;a<d.length;a++)l[d[a]]=1;return l},M.createMap=function(d){var l=Object.create(null);for(var a in d)l[a]=d[a];return l},M.arrayRemove=function(d,l){for(var a=0;a<=d.length;a++)l===d[a]&&d.splice(a,1)},M.escapeRegExp=function(d){return d.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},M.escapeHTML=function(d){return(""+d).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},M.getMatchOffsets=function(d,l){var a=[];return d.replace(l,function(t){a.push({offset:arguments[arguments.length-2],length:t.length})}),a},M.deferredCall=function(d){var l=null,a=function(){l=null,d()},t=function(e){return t.cancel(),l=setTimeout(a,e||0),t};return t.schedule=t,t.call=function(){return this.cancel(),d(),t},t.cancel=function(){return clearTimeout(l),l=null,t},t.isPending=function(){return l},t},M.delayedCall=function(d,l){var a=null,t=function(){a=null,d()},e=function(n){a==null&&(a=setTimeout(t,n||l))};return e.delay=function(n){a&&clearTimeout(a),a=setTimeout(t,n||l)},e.schedule=e,e.call=function(){this.cancel(),d()},e.cancel=function(){a&&clearTimeout(a),a=null},e.isPending=function(){return a},e}}),define("ace/clipboard",["require","exports","module"],function(E,M,w){var C;w.exports={lineMode:!1,pasteCancelled:function(){return C&&C>Date.now()-50?!0:C=!1},cancel:function(){C=Date.now()}}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(E,M,w){var C=E("../lib/event"),R=E("../lib/useragent"),d=E("../lib/dom"),l=E("../lib/lang"),a=E("../clipboard"),t=R.isChrome<18,e=R.isIE,n=R.isChrome>63,r=400,i=E("../lib/keys"),o=i.KEY_MODS,h=R.isIOS,p=h?/\s/:/\n/,y=R.isMobile,L=function(m,s){function f(){q=!0,c.blur(),c.focus(),q=!1}function _(Y){Y.keyCode==27&&c.value.length<c.selectionStart&&(F||(ne=c.value),Z=K=-1,ie()),J()}function g(){clearTimeout(he),he=setTimeout(function(){N&&(c.style.cssText=N,N=""),s.renderer.$isMousePressed=!1,s.renderer.$keepTextAreaAtCursor&&s.renderer.$moveTextAreaToCursor()},0)}function v(Y,re,we){var ke=null,be=!1;we.addEventListener("keydown",function(Pe){ke&&clearTimeout(ke),be=!0},!0),we.addEventListener("keyup",function(Pe){ke=setTimeout(function(){be=!1},100)},!0);var xe=function(Pe){if(document.activeElement===we&&!(be||F||re.$mouseHandler.isMousePressed)&&!b){var Re=we.selectionStart,Xe=we.selectionEnd,Ce=null,Qe=0;if(Re==0?Ce=i.up:Re==1?Ce=i.home:Xe>K&&ne[Xe]==`
`?Ce=i.end:Re<Z&&ne[Re-1]==" "?(Ce=i.left,Qe=o.option):Re<Z||Re==Z&&K!=Z&&Re==Xe?Ce=i.left:Xe>K&&ne.slice(0,Xe).split(`
`).length>2?Ce=i.down:Xe>K&&ne[Xe-1]==" "?(Ce=i.right,Qe=o.option):(Xe>K||Xe==K&&K!=Z&&Re==Xe)&&(Ce=i.right),Re!==Xe&&(Qe|=o.shift),Ce){var Me=re.onCommandKey({},Qe,Ce);if(!Me&&re.commands){Ce=i.keyCodeToString(Ce);var Ke=re.commands.findKeyCommand(Qe,Ce);Ke&&re.execCommand(Ke)}Z=Re,K=Xe,ie("")}}};document.addEventListener("selectionchange",xe),re.on("destroy",function(){document.removeEventListener("selectionchange",xe)})}var c=d.createElement("textarea");c.className="ace_text-input",c.setAttribute("wrap","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck",!1),c.style.opacity="0",m.insertBefore(c,m.firstChild);var b=!1,k=!1,F=!1,x=!1,N="";y||(c.style.fontSize="1px");var G=!1,q=!1,ne="",Z=0,K=0,X=0;try{var ee=document.activeElement===c}catch{}C.addListener(c,"blur",function(Y){q||(s.onBlur(Y),ee=!1)},s),C.addListener(c,"focus",function(Y){if(!q){if(ee=!0,R.isEdge)try{if(!document.hasFocus())return}catch{}s.onFocus(Y),R.isEdge?setTimeout(ie):ie()}},s),this.$focusScroll=!1,this.focus=function(){if(N||n||this.$focusScroll=="browser")return c.focus({preventScroll:!0});var Y=c.style.top;c.style.position="fixed",c.style.top="0px";try{var re=c.getBoundingClientRect().top!=0}catch{return}var we=[];if(re)for(var ke=c.parentElement;ke&&ke.nodeType==1;)we.push(ke),ke.setAttribute("ace_nocontext",!0),!ke.parentElement&&ke.getRootNode?ke=ke.getRootNode().host:ke=ke.parentElement;c.focus({preventScroll:!0}),re&&we.forEach(function(be){be.removeAttribute("ace_nocontext")}),setTimeout(function(){c.style.position="",c.style.top=="0px"&&(c.style.top=Y)},0)},this.blur=function(){c.blur()},this.isFocused=function(){return ee},s.on("beforeEndOperation",function(){var Y=s.curOp,re=Y&&Y.command&&Y.command.name;if(re!="insertstring"){var we=re&&(Y.docChanged||Y.selectionChanged);F&&we&&(ne=c.value="",te()),ie()}});var ie=h?function(Y){if(!(!ee||b&&!Y||x)){Y||(Y="");var re=`
 ab`+Y+`cde fg
`;re!=c.value&&(c.value=ne=re);var we=4,ke=4+(Y.length||(s.selection.isEmpty()?0:1));(Z!=we||K!=ke)&&c.setSelectionRange(we,ke),Z=we,K=ke}}:function(){if(!(F||x)&&!(!ee&&!pe)){F=!0;var Y=0,re=0,we="";if(s.session){var ke=s.selection,be=ke.getRange(),xe=ke.cursor.row;if(Y=be.start.column,re=be.end.column,we=s.session.getLine(xe),be.start.row!=xe){var Pe=s.session.getLine(xe-1);Y=be.start.row<xe-1?0:Y,re+=Pe.length+1,we=Pe+`
`+we}else if(be.end.row!=xe){var Re=s.session.getLine(xe+1);re=be.end.row>xe+1?Re.length:re,re+=we.length+1,we=we+`
`+Re}else y&&xe>0&&(we=`
`+we,re+=1,Y+=1);we.length>r&&(Y<r&&re<r?we=we.slice(0,r):(we=`
`,Y==re?Y=re=0:(Y=0,re=1)))}var Xe=we+`

`;if(Xe!=ne&&(c.value=ne=Xe,Z=K=Xe.length),pe&&(Z=c.selectionStart,K=c.selectionEnd),K!=re||Z!=Y||c.selectionEnd!=K)try{c.setSelectionRange(Y,re),Z=Y,K=re}catch{}F=!1}};this.resetSelection=ie,ee&&s.onFocus();var le=function(Y){return Y.selectionStart===0&&Y.selectionEnd>=ne.length&&Y.value===ne&&ne&&Y.selectionEnd!==K},ce=function(Y){F||(b?b=!1:le(c)?(s.selectAll(),ie()):y&&c.selectionStart!=Z&&ie())},ye=null;this.setInputHandler=function(Y){ye=Y},this.getInputHandler=function(){return ye};var pe=!1,Se=function(Y,re){if(pe&&(pe=!1),k)return ie(),Y&&s.onPaste(Y),k=!1,"";for(var we=c.selectionStart,ke=c.selectionEnd,be=Z,xe=ne.length-K,Pe=Y,Re=Y.length-we,Xe=Y.length-ke,Ce=0;be>0&&ne[Ce]==Y[Ce];)Ce++,be--;for(Pe=Pe.slice(Ce),Ce=1;xe>0&&ne.length-Ce>Z-1&&ne[ne.length-Ce]==Y[Y.length-Ce];)Ce++,xe--;Re-=Ce-1,Xe-=Ce-1;var Qe=Pe.length-Ce+1;if(Qe<0&&(be=-Qe,Qe=0),Pe=Pe.slice(0,Qe),!re&&!Pe&&!Re&&!be&&!xe&&!Xe)return"";x=!0;var Me=!1;return R.isAndroid&&Pe==". "&&(Pe="  ",Me=!0),Pe&&!be&&!xe&&!Re&&!Xe||G?s.onTextInput(Pe):s.onTextInput(Pe,{extendLeft:be,extendRight:xe,restoreStart:Re,restoreEnd:Xe}),x=!1,ne=Y,Z=we,K=ke,X=Xe,Me?`
`:Pe},Le=function(Y){if(F)return fe();if(Y&&Y.inputType){if(Y.inputType=="historyUndo")return s.execCommand("undo");if(Y.inputType=="historyRedo")return s.execCommand("redo")}var re=c.value,we=Se(re,!0);(re.length>r+100||p.test(we)||y&&Z<1&&Z==K)&&ie()},Ee=function(Y,re,we){var ke=Y.clipboardData||window.clipboardData;if(!(!ke||t)){var be=e||we?"Text":"text/plain";try{return re?ke.setData(be,re)!==!1:ke.getData(be)}catch(xe){if(!we)return Ee(xe,re,!0)}}},Fe=function(Y,re){var we=s.getCopyText();if(!we)return C.preventDefault(Y);Ee(Y,we)?(h&&(ie(we),b=we,setTimeout(function(){b=!1},10)),re?s.onCut():s.onCopy(),C.preventDefault(Y)):(b=!0,c.value=we,c.select(),setTimeout(function(){b=!1,ie(),re?s.onCut():s.onCopy()}))},Ve=function(Y){Fe(Y,!0)},Je=function(Y){Fe(Y,!1)},I=function(Y){var re=Ee(Y);a.pasteCancelled()||(typeof re=="string"?(re&&s.onPaste(re,Y),R.isIE&&setTimeout(ie),C.preventDefault(Y)):(c.value="",k=!0))};C.addCommandKeyListener(c,s.onCommandKey.bind(s),s),C.addListener(c,"select",ce,s),C.addListener(c,"input",Le,s),C.addListener(c,"cut",Ve,s),C.addListener(c,"copy",Je,s),C.addListener(c,"paste",I,s),(!("oncut"in c)||!("oncopy"in c)||!("onpaste"in c))&&C.addListener(m,"keydown",function(Y){if(!(R.isMac&&!Y.metaKey||!Y.ctrlKey))switch(Y.keyCode){case 67:Je(Y);break;case 86:I(Y);break;case 88:Ve(Y)}},s);var ge=function(Y){if(!(F||!s.onCompositionStart||s.$readOnly)&&(F={},!G)){Y.data&&(F.useTextareaForIME=!1),setTimeout(fe,0),s._signal("compositionStart"),s.on("mousedown",f);var re=s.getSelectionRange();re.end.row=re.start.row,re.end.column=re.start.column,F.markerRange=re,F.selectionStart=Z,s.onCompositionStart(F),F.useTextareaForIME?(ne=c.value="",Z=0,K=0):(c.msGetInputContext&&(F.context=c.msGetInputContext()),c.getInputContext&&(F.context=c.getInputContext()))}},fe=function(){if(!(!F||!s.onCompositionUpdate||s.$readOnly)){if(G)return f();if(F.useTextareaForIME)s.onCompositionUpdate(c.value);else{var Y=c.value;Se(Y),F.markerRange&&(F.context&&(F.markerRange.start.column=F.selectionStart=F.context.compositionStartOffset),F.markerRange.end.column=F.markerRange.start.column+K-F.selectionStart+X)}}},te=function(Y){!s.onCompositionEnd||s.$readOnly||(F=!1,s.onCompositionEnd(),s.off("mousedown",f),Y&&Le())},J=l.delayedCall(fe,50).schedule.bind(null,null);C.addListener(c,"compositionstart",ge,s),C.addListener(c,"compositionupdate",fe,s),C.addListener(c,"keyup",_,s),C.addListener(c,"keydown",J,s),C.addListener(c,"compositionend",te,s),this.getElement=function(){return c},this.setCommandMode=function(Y){G=Y,c.readOnly=!1},this.setReadOnly=function(Y){G||(c.readOnly=Y)},this.setCopyWithEmptySelection=function(Y){},this.onContextMenu=function(Y){pe=!0,ie(),s._emit("nativecontextmenu",{target:s,domEvent:Y}),this.moveToMouse(Y,!0)},this.moveToMouse=function(Y,re){N||(N=c.style.cssText),c.style.cssText=(re?"z-index:100000;":"")+(R.isIE?"opacity:0.1;":"")+"text-indent: -"+(Z+K)*s.renderer.characterWidth*.5+"px;";var we=s.container.getBoundingClientRect(),ke=d.computedStyle(s.container),be=we.top+(parseInt(ke.borderTopWidth)||0),xe=we.left+(parseInt(we.borderLeftWidth)||0),Pe=we.bottom-be-c.clientHeight-2,Re=function(Xe){d.translate(c,Xe.clientX-xe-2,Math.min(Xe.clientY-be-2,Pe))};Re(Y),Y.type=="mousedown"&&(s.renderer.$isMousePressed=!0,clearTimeout(he),R.isWin&&C.capture(s.container,Re,g))},this.onContextMenuClose=g;var he,me=function(Y){s.textInput.onContextMenu(Y),g()};C.addListener(c,"mouseup",me,s),C.addListener(c,"mousedown",function(Y){Y.preventDefault(),g()},s),C.addListener(s.renderer.scroller,"contextmenu",me,s),C.addListener(c,"contextmenu",me,s),h&&v(m,s,c)};M.TextInput=L,M.$setUserAgentForTests=function(m,s){y=m,h=s}}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(E,M,w){function C(e){e.$clickSelection=null;var n=e.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var r=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];r.forEach(function(i){e[i]=this[i]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function R(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))}function d(e,n){if(e.start.row==e.end.row)var r=2*n.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var r=n.column-4;else var r=2*n.row-e.start.row-e.end.row;return r<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var l=E("../lib/useragent"),a=0,t=550;(function(){this.onMouseDown=function(e){var n=e.inSelection(),r=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();if(o!==0){var h=i.getSelectionRange(),p=h.isEmpty();(p||o==1)&&i.selection.moveToPosition(r),o==2&&(i.textInput.onContextMenu(e.domEvent),l.isMozilla||e.preventDefault());return}if(this.mousedownEvent.time=Date.now(),n&&!i.isFocused()&&(i.focus(),this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(e);return}return this.captureMouse(e),this.startSelect(r,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,n){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(e):n||r.selection.moveToPosition(e),n||this.select(),r.renderer.scroller.setCapture&&r.renderer.scroller.setCapture(),r.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(r);if(i==-1)e=this.$clickSelection.end;else if(i==1)e=this.$clickSelection.start;else{var o=d(this.$clickSelection,r);r=o.cursor,e=o.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var n,r=this.editor,i=r.renderer.screenToTextCoordinates(this.x,this.y),o=r.selection[e](i.row,i.column);if(this.$clickSelection){var h=this.$clickSelection.comparePoint(o.start),p=this.$clickSelection.comparePoint(o.end);if(h==-1&&p<=0)n=this.$clickSelection.end,(o.end.row!=i.row||o.end.column!=i.column)&&(i=o.start);else if(p==1&&h>=0)n=this.$clickSelection.start,(o.start.row!=i.row||o.start.column!=i.column)&&(i=o.end);else if(h==-1&&p==1)i=o.end,n=o.start;else{var y=d(this.$clickSelection,i);i=y.cursor,n=y.anchor}r.selection.setSelectionAnchor(n.row,n.column)}r.selection.selectToPosition(i),r.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=Date.now();(e>a||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var n=e.getDocumentPosition(),r=this.editor,i=r.session,o=i.getBracketRange(n);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=r.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},this.onTripleClick=function(e){var n=e.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var i=r.getSelectionRange();i.isMultiLine()&&i.contains(n.row,n.column)?(this.$clickSelection=r.selection.getLineRange(i.start.row),this.$clickSelection.end=r.selection.getLineRange(i.end.row).end):this.$clickSelection=r.selection.getLineRange(n.row),this.select()},this.onQuadClick=function(e){var n=this.editor;n.selectAll(),this.$clickSelection=n.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,i=e.domEvent.timeStamp,o=i-r.t,h=o?e.wheelX/o:r.vx,p=o?e.wheelY/o:r.vy;o<t&&(h=(h+r.vx)/2,p=(p+r.vy)/2);var y=Math.abs(h/p),L=!1;if(y>=1&&n.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(L=!0),y<=1&&n.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(L=!0),L)r.allowed=i;else if(i-r.allowed<t){var m=Math.abs(h)<=1.5*Math.abs(r.vx)&&Math.abs(p)<=1.5*Math.abs(r.vy);m?(L=!0,r.allowed=i):r.allowed=0}if(r.t=i,r.vx=h,r.vy=p,L)return n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}}).call(C.prototype),M.DefaultHandlers=C}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(E,M,w){function C(d){this.isOpen=!1,this.$element=null,this.$parentNode=d}E("./lib/oop");var R=E("./lib/dom");(function(){this.$init=function(){return this.$element=R.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(d){this.getElement().textContent=d},this.setHtml=function(d){this.getElement().innerHTML=d},this.setPosition=function(d,l){this.getElement().style.left=d+"px",this.getElement().style.top=l+"px"},this.setClassName=function(d){R.addCssClass(this.getElement(),d)},this.show=function(d,l,a){d!=null&&this.setText(d),l!=null&&a!=null&&this.setPosition(l,a),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(C.prototype),M.Tooltip=C}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(E,M,w){function C(e){function n(){var s=L.getDocumentPosition().row,f=h.$annotations[s];if(!f)return r();var _=o.session.getLength();if(s==_){var g=o.renderer.pixelToScreenCoordinates(0,L.y).row,v=L.$pos;if(g>o.session.documentToScreenRow(v.row,v.column))return r()}if(m!=f)if(m=f.text.join("<br/>"),p.setHtml(m),p.show(),o._signal("showGutterTooltip",p),o.on("mousewheel",r),e.$tooltipFollowsMouse)i(L);else{var c=L.domEvent.target,b=c.getBoundingClientRect(),k=p.getElement().style;k.left=b.right+"px",k.top=b.bottom+"px"}}function r(){y&&(y=clearTimeout(y)),m&&(p.hide(),m=null,o._signal("hideGutterTooltip",p),o.off("mousewheel",r))}function i(s){p.setPosition(s.x,s.y)}var o=e.editor,h=o.renderer.$gutterLayer,p=new R(o.container);e.editor.setDefaultHandler("guttermousedown",function(s){if(!(!o.isFocused()||s.getButton()!=0)){var f=h.getRegion(s);if(f!="foldWidgets"){var _=s.getDocumentPosition().row,g=o.session.selection;if(s.getShiftKey())g.selectTo(_,0);else{if(s.domEvent.detail==2)return o.selectAll(),s.preventDefault();e.$clickSelection=o.selection.getLineRange(_)}return e.setState("selectByLines"),e.captureMouse(s),s.preventDefault()}}});var y,L,m;e.editor.setDefaultHandler("guttermousemove",function(s){var f=s.domEvent.target||s.domEvent.srcElement;if(d.hasCssClass(f,"ace_fold-widget"))return r();m&&e.$tooltipFollowsMouse&&i(s),L=s,!y&&(y=setTimeout(function(){y=null,L&&!e.isMousePressed?n():r()},50))}),a.addListener(o.renderer.$gutter,"mouseout",function(s){L=null,!(!m||y)&&(y=setTimeout(function(){y=null,r()},50))},o),o.on("changeSession",r)}function R(e){t.call(this,e)}var d=E("../lib/dom"),l=E("../lib/oop"),a=E("../lib/event"),t=E("../tooltip").Tooltip;l.inherits(R,t),(function(){this.setPosition=function(e,n){var r=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),h=this.getHeight();e+=15,n+=15,e+o>r&&(e-=e+o-r),n+h>i&&(n-=20+h),t.prototype.setPosition.call(this,e,n)}}).call(R.prototype),M.GutterHandler=C}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(E,M,w){var C=E("../lib/event"),R=E("../lib/useragent"),d=M.MouseEvent=function(l,a){this.domEvent=l,this.editor=a,this.x=this.clientX=l.clientX,this.y=this.clientY=l.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){C.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){C.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var l=this.editor,a=l.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=a.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return C.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=R.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(d.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(E,M,w){function C(r){function i(ie,le){var ce=Date.now(),ye=!le||ie.row!=le.row,pe=!le||ie.column!=le.column;if(!K||ye||pe)f.moveCursorToPosition(ie),K=ce,X={x:b,y:k};else{var Se=R(X.x,X.y,b,k);Se>n?K=null:ce-K>=e&&(f.renderer.scrollCursorIntoView(),K=null)}}function o(ie,le){var ce=Date.now(),ye=f.renderer.layerConfig.lineHeight,pe=f.renderer.layerConfig.characterWidth,Se=f.renderer.scroller.getBoundingClientRect(),Le={x:{left:b-Se.left,right:Se.right-b},y:{top:k-Se.top,bottom:Se.bottom-k}},Ee=Math.min(Le.x.left,Le.x.right),Fe=Math.min(Le.y.top,Le.y.bottom),Ve={row:ie.row,column:ie.column};Ee/pe<=2&&(Ve.column+=Le.x.left<Le.x.right?-3:2),Fe/ye<=1&&(Ve.row+=Le.y.top<Le.y.bottom?-1:1);var Je=ie.row!=Ve.row,I=ie.column!=Ve.column,ge=!le||ie.row!=le.row;Je||I&&!ge?Z?ce-Z>=t&&f.renderer.scrollCursorIntoView(Ve):Z=ce:Z=null}function h(){var ie=N;N=f.renderer.screenToTextCoordinates(b,k),i(N,ie),o(N,ie)}function p(){x=f.selection.toOrientedRange(),c=f.session.addMarker(x,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(F),h(),F=setInterval(h,20),G=0,l.addListener(document,"mousemove",L)}function y(){clearInterval(F),f.session.removeMarker(c),c=null,f.selection.fromOrientedRange(x),f.isFocused()&&!ne&&f.$resetCursorStyle(),x=null,N=null,G=0,Z=null,K=null,l.removeListener(document,"mousemove",L)}function L(){ee==null&&(ee=setTimeout(function(){ee!=null&&c&&y()},20))}function m(ie){var le=ie.types;return!le||Array.prototype.some.call(le,function(ce){return ce=="text/plain"||ce=="Text"})}function s(ie){var le=["copy","copymove","all","uninitialized"],ce=["move","copymove","linkmove","all","uninitialized"],ye=a.isMac?ie.altKey:ie.ctrlKey,pe="uninitialized";try{pe=ie.dataTransfer.effectAllowed.toLowerCase()}catch{}var Se="none";return ye&&le.indexOf(pe)>=0?Se="copy":ce.indexOf(pe)>=0?Se="move":le.indexOf(pe)>=0&&(Se="copy"),Se}var f=r.editor,_=d.createElement("img");_.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(_.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(ie){r[ie]=this[ie]},this),f.on("mousedown",this.onMouseDown.bind(r));var v=f.container,c,b,k,F,x,N,G=0,q,ne,Z,K,X;this.onDragStart=function(ie){if(this.cancelDrag||!v.draggable){var le=this;return setTimeout(function(){le.startSelect(),le.captureMouse(ie)},0),ie.preventDefault()}x=f.getSelectionRange();var ce=ie.dataTransfer;ce.effectAllowed=f.getReadOnly()?"copy":"copyMove",a.isOpera&&(f.container.appendChild(_),_.scrollTop=0),ce.setDragImage&&ce.setDragImage(_,0,0),a.isOpera&&f.container.removeChild(_),ce.clearData(),ce.setData("Text",f.session.getTextRange()),ne=!0,this.setState("drag")},this.onDragEnd=function(ie){if(v.draggable=!1,ne=!1,this.setState(null),!f.getReadOnly()){var le=ie.dataTransfer.dropEffect;!q&&le=="move"&&f.session.remove(f.getSelectionRange()),f.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ie){if(!(f.getReadOnly()||!m(ie.dataTransfer)))return b=ie.clientX,k=ie.clientY,c||p(),G++,ie.dataTransfer.dropEffect=q=s(ie),l.preventDefault(ie)},this.onDragOver=function(ie){if(!(f.getReadOnly()||!m(ie.dataTransfer)))return b=ie.clientX,k=ie.clientY,c||(p(),G++),ee!==null&&(ee=null),ie.dataTransfer.dropEffect=q=s(ie),l.preventDefault(ie)},this.onDragLeave=function(ie){if(G--,G<=0&&c)return y(),q=null,l.preventDefault(ie)},this.onDrop=function(ie){if(N){var le=ie.dataTransfer;if(ne)switch(q){case"move":x.contains(N.row,N.column)?x={start:N,end:N}:x=f.moveText(x,N);break;case"copy":x=f.moveText(x,N,!0)}else{var ce=le.getData("Text");x={start:N,end:f.session.insert(N,ce)},f.focus(),q=null}return y(),l.preventDefault(ie)}},l.addListener(v,"dragstart",this.onDragStart.bind(r),f),l.addListener(v,"dragend",this.onDragEnd.bind(r),f),l.addListener(v,"dragenter",this.onDragEnter.bind(r),f),l.addListener(v,"dragover",this.onDragOver.bind(r),f),l.addListener(v,"dragleave",this.onDragLeave.bind(r),f),l.addListener(v,"drop",this.onDrop.bind(r),f);var ee=null}function R(r,i,o,h){return Math.sqrt(Math.pow(o-r,2)+Math.pow(h-i,2))}var d=E("../lib/dom"),l=E("../lib/event"),a=E("../lib/useragent"),t=200,e=200,n=5;(function(){this.dragWait=function(){var r=Date.now()-this.mousedownEvent.time;r>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var r=this.editor.container;r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(r){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var r=this.editor,i=r.container;i.draggable=!0,r.renderer.$cursorLayer.setBlinking(!1),r.setStyle("ace_dragging");var o=a.isWin?"default":"move";r.renderer.setCursorStyle(o),this.setState("dragReady")},this.onMouseDrag=function(r){var i=this.editor.container;if(a.isIE&&this.state=="dragReady"){var o=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>3&&i.dragDrop()}if(this.state==="dragWait"){var o=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>0&&(i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(r){if(this.$dragEnabled){this.mousedownEvent=r;var i=this.editor,o=r.inSelection(),h=r.getButton(),p=r.domEvent.detail||1;if(p===1&&h===0&&o){if(r.editor.inMultiSelectMode&&(r.getAccelKey()||r.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=r.domEvent.target||r.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),i.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var L=i.container;L.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(r,this.onMouseDrag.bind(this)),r.defaultPrevented=!0}}}}).call(C.prototype),M.DragdropHandler=C}),define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(E,M,w){var C=E("./mouse_event").MouseEvent,R=E("../lib/event"),d=E("../lib/dom");M.addTouchListeners=function(l,a){function t(){var x=window.navigator&&window.navigator.clipboard,N=!1,G=function(){var ne=a.getCopyText(),Z=a.session.getUndoManager().hasUndo();F.replaceChild(d.buildDom(N?["span",!ne&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ne&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ne&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],x&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Z&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),F.firstChild)},q=function(ne){var Z=ne.target.getAttribute("action");if(Z=="more"||!N)return N=!N,G();Z=="paste"?x.readText().then(function(K){a.execCommand(Z,K)}):Z&&((Z=="cut"||Z=="copy")&&(x?x.writeText(a.getCopyText()):document.execCommand("copy")),a.execCommand(Z)),F.firstChild.style.display="none",N=!1,Z!="openCommandPallete"&&a.focus()};F=d.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ne){h="menu",ne.stopPropagation(),ne.preventDefault(),a.textInput.focus()},ontouchend:function(ne){ne.stopPropagation(),ne.preventDefault(),q(ne)},onclick:q},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],a.container)}function e(){F||t();var x=a.selection.cursor,N=a.renderer.textToScreenCoordinates(x.row,x.column),G=a.renderer.textToScreenCoordinates(0,0).pageX,q=a.renderer.scrollLeft,ne=a.container.getBoundingClientRect();F.style.top=N.pageY-ne.top-3+"px",N.pageX-ne.left<ne.width-70?(F.style.left="",F.style.right="10px"):(F.style.right="",F.style.left=G+q-ne.left+"px"),F.style.display="",F.firstChild.style.display="none",a.on("input",n)}function n(x){F&&(F.style.display="none"),a.off("input",n)}function r(){s=null,clearTimeout(s);var x=a.selection.getRange(),N=x.contains(g.row,g.column);(x.isEmpty()||!N)&&(a.selection.moveToPosition(g),a.selection.selectWord()),h="wait",e()}function i(){s=null,clearTimeout(s),a.selection.moveToPosition(g);var x=v>=2?a.selection.getLineRange(g.row):a.session.getBracketRange(g);x&&!x.isEmpty()?a.selection.setRange(x):a.selection.selectWord(),h="wait"}function o(){_+=60,f=setInterval(function(){_--<=0&&(clearInterval(f),f=null),Math.abs(c)<.01&&(c=0),Math.abs(b)<.01&&(b=0),_<20&&(c=.9*c),_<20&&(b=.9*b);var x=a.session.getScrollTop();a.renderer.scrollBy(10*c,10*b),x==a.session.getScrollTop()&&(_=0)},10)}var h="scroll",p,y,L,m,s,f,_=0,g,v=0,c=0,b=0,k,F;R.addListener(l,"contextmenu",function(x){if(k){var N=a.textInput.getElement();N.focus()}},a),R.addListener(l,"touchstart",function(x){var N=x.touches;if(s||N.length>1){clearTimeout(s),s=null,L=-1,h="zoom";return}k=a.$mouseHandler.isMousePressed=!0;var G=a.renderer.layerConfig.lineHeight,q=a.renderer.layerConfig.lineHeight,ne=x.timeStamp;m=ne;var Z=N[0],K=Z.clientX,X=Z.clientY;Math.abs(p-K)+Math.abs(y-X)>G&&(L=-1),p=x.clientX=K,y=x.clientY=X,c=b=0;var ee=new C(x,a);if(g=ee.getDocumentPosition(),ne-L<500&&N.length==1&&!_)v++,x.preventDefault(),x.button=0,i();else{v=0;var ie=a.selection.cursor,le=a.selection.isEmpty()?ie:a.selection.anchor,ce=a.renderer.$cursorLayer.getPixelPosition(ie,!0),ye=a.renderer.$cursorLayer.getPixelPosition(le,!0),pe=a.renderer.scroller.getBoundingClientRect(),Se=a.renderer.layerConfig.offset,Le=a.renderer.scrollLeft,Ee=function(Je,I){return Je/=q,I=I/G-.75,Je*Je+I*I};if(x.clientX<pe.left){h="zoom";return}var Fe=Ee(x.clientX-pe.left-ce.left+Le,x.clientY-pe.top-ce.top+Se),Ve=Ee(x.clientX-pe.left-ye.left+Le,x.clientY-pe.top-ye.top+Se);Fe<3.5&&Ve<3.5&&(h=Fe>Ve?"cursor":"anchor"),Ve<3.5?h="anchor":Fe<3.5?h="cursor":h="scroll",s=setTimeout(r,450)}L=ne},a),R.addListener(l,"touchend",function(x){k=a.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),h=="zoom"?(h="",_=0):s?(a.selection.moveToPosition(g),_=0,e()):h=="scroll"?(o(),n()):e(),clearTimeout(s),s=null},a),R.addListener(l,"touchmove",function(x){s&&(clearTimeout(s),s=null);var N=x.touches;if(!(N.length>1||h=="zoom")){var G=N[0],q=p-G.clientX,ne=y-G.clientY;if(h=="wait"){if(!(q*q+ne*ne>4))return x.preventDefault();h="cursor"}p=G.clientX,y=G.clientY,x.clientX=G.clientX,x.clientY=G.clientY;var Z=x.timeStamp,K=Z-m;if(m=Z,h=="scroll"){var X=new C(x,a);X.speed=1,X.wheelX=q,X.wheelY=ne,10*Math.abs(q)<Math.abs(ne)&&(q=0),10*Math.abs(ne)<Math.abs(q)&&(ne=0),K!=0&&(c=q/K,b=ne/K),a._emit("mousewheel",X),X.propagationStopped||(c=b=0)}else{var ee=new C(x,a),ie=ee.getDocumentPosition();h=="cursor"?a.selection.moveCursorToPosition(ie):h=="anchor"&&a.selection.setSelectionAnchor(ie.row,ie.column),a.renderer.scrollCursorIntoView(ie),x.preventDefault()}}},a)}}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(E,M,w){var C=E("./dom");M.get=function(R,d){var l=new XMLHttpRequest;l.open("GET",R,!0),l.onreadystatechange=function(){l.readyState===4&&d(l.responseText)},l.send(null)},M.loadScript=function(R,d){var l=C.getDocumentHead(),a=document.createElement("script");a.src=R,l.appendChild(a),a.onload=a.onreadystatechange=function(t,e){(e||!a.readyState||a.readyState=="loaded"||a.readyState=="complete")&&(a=a.onload=a.onreadystatechange=null,e||d())}},M.qualifyURL=function(R){var d=document.createElement("a");return d.href=R,d.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(E,M,w){var C={},R=function(){this.propagationStopped=!0},d=function(){this.defaultPrevented=!0};C._emit=C._dispatchEvent=function(l,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[l]||[],e=this._defaultHandlers[l];if(!(!t.length&&!e)){(typeof a!="object"||!a)&&(a={}),a.type||(a.type=l),a.stopPropagation||(a.stopPropagation=R),a.preventDefault||(a.preventDefault=d),t=t.slice();for(var n=0;n<t.length&&(t[n](a,this),!a.propagationStopped);n++);if(e&&!a.defaultPrevented)return e(a,this)}},C._signal=function(l,a){var t=(this._eventRegistry||{})[l];if(t){t=t.slice();for(var e=0;e<t.length;e++)t[e](a,this)}},C.once=function(l,a){var t=this;if(this.on(l,function e(){t.off(l,e),a.apply(null,arguments)}),!a)return new Promise(function(e){a=e})},C.setDefaultHandler=function(l,a){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[l]){var e=t[l],n=t._disabled_[l];n||(t._disabled_[l]=n=[]),n.push(e);var r=n.indexOf(a);r!=-1&&n.splice(r,1)}t[l]=a},C.removeDefaultHandler=function(l,a){var t=this._defaultHandlers;if(t){var e=t._disabled_[l];if(t[l]==a)e&&this.setDefaultHandler(l,e.pop());else if(e){var n=e.indexOf(a);n!=-1&&e.splice(n,1)}}},C.on=C.addEventListener=function(l,a,t){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[l];return e||(e=this._eventRegistry[l]=[]),e.indexOf(a)==-1&&e[t?"unshift":"push"](a),a},C.off=C.removeListener=C.removeEventListener=function(l,a){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[l];if(t){var e=t.indexOf(a);e!==-1&&t.splice(e,1)}},C.removeAllListeners=function(l){l||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[l]=void 0),this._defaultHandlers&&(this._defaultHandlers[l]=void 0)},M.EventEmitter=C}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(E,M,w){"no use strict";function C(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function R(e,n){var r=new Error(e);r.data=n,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}var d=E("./oop"),l=E("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(n){this.setOption(n,e[n])},this)},getOptions:function(e){var n={};if(e)Array.isArray(e)||(n=e,e=Object.keys(n));else{var r=this.$options;e=Object.keys(r).filter(function(i){return!r[i].hidden})}return e.forEach(function(i){n[i]=this.getOption(i)},this),n},setOption:function(e,n){if(this["$"+e]!==n){var r=this.$options[e];if(!r)return C('misspelled option "'+e+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(e,n);r.handlesSet||(this["$"+e]=n),r&&r.set&&r.set.call(this,n)}},getOption:function(e){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(e):n&&n.get?n.get.call(this):this["$"+e]:C('misspelled option "'+e+'"')}},t=function(){this.$defaultOptions={}};(function(){d.implement(this,l),this.defineOptions=function(e,n,r){return e.$options||(this.$defaultOptions[n]=e.$options={}),Object.keys(r).forEach(function(i){var o=r[i];typeof o=="string"&&(o={forwardTo:o}),o.name||(o.name=i),e.$options[o.name]=o,"initialValue"in o&&(e["$"+o.name]=o.initialValue)}),d.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(n){var r=e.$options[n];"value"in r&&e.setOption(n,r.value)})},this.setDefaultValue=function(e,n,r){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][n])break;if(!this.$defaultOptions[e][n])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[n]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,n,r):i[n].value=r)},this.setDefaultValues=function(e,n){Object.keys(n).forEach(function(r){this.setDefaultValue(e,r,n[r])},this)},this.warn=C,this.reportError=R}).call(t.prototype),M.AppConfig=t}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(E,M,w){"no use strict";function C(r){if(!(!t||!t.document)){e.packaged=r||E.packaged||w.packaged||t.define&&define.packaged;for(var i={},o="",h=document.currentScript||document._currentScript,p=h&&h.ownerDocument||document,y=p.getElementsByTagName("script"),L=0;L<y.length;L++){var m=y[L],s=m.src||m.getAttribute("src");if(s){for(var f=m.attributes,_=0,g=f.length;_<g;_++){var v=f[_];v.name.indexOf("data-ace-")===0&&(i[R(v.name.replace(/^data-ace-/,""))]=v.value)}var c=s.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);c&&(o=c[1])}}o&&(i.base=i.base||o,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var b in i)typeof i[b]<"u"&&M.set(b,i[b])}}function R(r){return r.replace(/-(.)/g,function(i,o){return o.toUpperCase()})}var d=E("./lib/lang");E("./lib/oop");var l=E("./lib/net"),a=E("./lib/app_config").AppConfig;w.exports=M=new a;var t=function(){return this||typeof window<"u"&&window}(),e={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};M.get=function(r){if(!e.hasOwnProperty(r))throw new Error("Unknown config key: "+r);return e[r]},M.set=function(r,i){if(e.hasOwnProperty(r))e[r]=i;else if(this.setDefaultValue("",r,i)==0)throw new Error("Unknown config key: "+r)},M.all=function(){return d.copyObject(e)},M.$modes={},M.moduleUrl=function(r,i){if(e.$moduleUrls[r])return e.$moduleUrls[r];var o=r.split("/");i=i||o[o.length-2]||"";var h=i=="snippets"?"/":"-",p=o[o.length-1];if(i=="worker"&&h=="-"){var y=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");p=p.replace(y,"")}(!p||p==i)&&o.length>1&&(p=o[o.length-2]);var L=e[i+"Path"];return L==null?L=e.basePath:h=="/"&&(i=h=""),L&&L.slice(-1)!="/"&&(L+="/"),L+i+h+p+this.get("suffix")},M.setModuleUrl=function(r,i){return e.$moduleUrls[r]=i},M.$loading={},M.loadModule=function(r,i){var o,h;Array.isArray(r)&&(h=r[0],r=r[1]);try{o=E(r)}catch{}if(o&&!M.$loading[r])return i&&i(o);if(M.$loading[r]||(M.$loading[r]=[]),M.$loading[r].push(i),!(M.$loading[r].length>1)){var p=function(){E([r],function(y){M._emit("load.module",{name:r,module:y});var L=M.$loading[r];M.$loading[r]=null,L.forEach(function(m){m&&m(y)})})};if(!M.get("packaged"))return p();l.loadScript(M.moduleUrl(r,h),p),n()}};var n=function(){!e.basePath&&!e.workerPath&&!e.modePath&&!e.themePath&&!Object.keys(e.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),n=function(){})};M.init=C,M.version="1.4.12"}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(E,M,w){var C=E("../lib/event"),R=E("../lib/useragent"),d=E("./default_handlers").DefaultHandlers,l=E("./default_gutter_handler").GutterHandler,a=E("./mouse_event").MouseEvent,t=E("./dragdrop_handler").DragdropHandler,e=E("./touch_handler").addTouchListeners,n=E("../config"),r=function(i){var o=this;this.editor=i,new d(this),new l(this),new t(this);var h=function(L){var m=!document.hasFocus||!document.hasFocus()||!i.isFocused()&&document.activeElement==(i.textInput&&i.textInput.getElement());m&&window.focus(),i.focus()},p=i.renderer.getMouseEventTarget();C.addListener(p,"click",this.onMouseEvent.bind(this,"click"),i),C.addListener(p,"mousemove",this.onMouseMove.bind(this,"mousemove"),i),C.addMultiMouseDownListener([p,i.renderer.scrollBarV&&i.renderer.scrollBarV.inner,i.renderer.scrollBarH&&i.renderer.scrollBarH.inner,i.textInput&&i.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",i),C.addMouseWheelListener(i.container,this.onMouseWheel.bind(this,"mousewheel"),i),e(i.container,i);var y=i.renderer.$gutter;C.addListener(y,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),i),C.addListener(y,"click",this.onMouseEvent.bind(this,"gutterclick"),i),C.addListener(y,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),i),C.addListener(y,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),i),C.addListener(p,"mousedown",h,i),C.addListener(y,"mousedown",h,i),R.isIE&&i.renderer.scrollBarV&&(C.addListener(i.renderer.scrollBarV.element,"mousedown",h,i),C.addListener(i.renderer.scrollBarH.element,"mousedown",h,i)),i.on("mousemove",function(L){if(!(o.state||o.$dragDelay||!o.$dragEnabled)){var m=i.renderer.screenToTextCoordinates(L.x,L.y),s=i.session.selection.getRange(),f=i.renderer;!s.isEmpty()&&s.insideStart(m.row,m.column)?f.setCursorStyle("default"):f.setCursorStyle("")}},i)};(function(){this.onMouseEvent=function(i,o){this.editor._emit(i,new a(o,this.editor))},this.onMouseMove=function(i,o){var h=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!h||!h.length||this.editor._emit(i,new a(o,this.editor))},this.onMouseWheel=function(i,o){var h=new a(o,this.editor);h.speed=this.$scrollSpeed*2,h.wheelX=o.wheelX,h.wheelY=o.wheelY,this.editor._emit(i,h)},this.setState=function(i){this.state=i},this.captureMouse=function(i,o){this.x=i.x,this.y=i.y,this.isMousePressed=!0;var h=this.editor,p=this.editor.renderer;p.$isMousePressed=!0;var y=this,L=function(g){if(g){if(R.isWebKit&&!g.which&&y.releaseMouse)return y.releaseMouse();y.x=g.clientX,y.y=g.clientY,o&&o(g),y.mouseEvent=new a(g,y.editor),y.$mouseMoved=!0}},m=function(g){h.off("beforeEndOperation",f),clearInterval(_),s(),y[y.state+"End"]&&y[y.state+"End"](g),y.state="",y.isMousePressed=p.$isMousePressed=!1,p.$keepTextAreaAtCursor&&p.$moveTextAreaToCursor(),y.$onCaptureMouseMove=y.releaseMouse=null,g&&y.onMouseEvent("mouseup",g),h.endOperation()},s=function(){y[y.state]&&y[y.state](),y.$mouseMoved=!1};if(R.isOldIE&&i.domEvent.type=="dblclick")return setTimeout(function(){m(i)});var f=function(g){y.releaseMouse&&h.curOp.command.name&&h.curOp.selectionChanged&&(y[y.state+"End"]&&y[y.state+"End"](),y.state="",y.releaseMouse())};h.on("beforeEndOperation",f),h.startOperation({command:{name:"mouse"}}),y.$onCaptureMouseMove=L,y.releaseMouse=C.capture(this.editor.container,L,m);var _=setInterval(s,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var i=(function(o){o&&o.domEvent&&o.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",i),o&&o.domEvent&&C.stopEvent(o.domEvent))}).bind(this);setTimeout(i,10),this.editor.on("nativecontextmenu",i)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(r.prototype),n.defineOptions(r.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:R.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),M.MouseHandler=r}),define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(E,M,w){function C(d){d.on("click",function(l){var a=l.getDocumentPosition(),t=d.session,e=t.getFoldAt(a.row,a.column,1);e&&(l.getAccelKey()?t.removeFold(e):t.expandFold(e),l.stop());var n=l.domEvent&&l.domEvent.target;n&&R.hasCssClass(n,"ace_inline_button")&&R.hasCssClass(n,"ace_toggle_wrap")&&(t.setOption("wrap",!t.getUseWrapMode()),d.renderer.scrollCursorIntoView())}),d.on("gutterclick",function(l){var a=d.renderer.$gutterLayer.getRegion(l);if(a=="foldWidgets"){var t=l.getDocumentPosition().row,e=d.session;e.foldWidgets&&e.foldWidgets[t]&&d.session.onFoldWidgetClick(t,l),d.isFocused()||d.focus(),l.stop()}}),d.on("gutterdblclick",function(l){var a=d.renderer.$gutterLayer.getRegion(l);if(a=="foldWidgets"){var t=l.getDocumentPosition().row,e=d.session,n=e.getParentFoldRangeData(t,!0),r=n.range||n.firstRange;if(r){t=r.start.row;var i=e.getFoldAt(t,e.getLine(t).length,1);i?e.removeFold(i):(e.addFold("...",r),d.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}l.stop()}})}var R=E("../lib/dom");M.FoldHandler=C}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(E,M,w){var C=E("../lib/keys"),R=E("../lib/event"),d=function(l){this.$editor=l,this.$data={editor:l},this.$handlers=[],this.setDefaultHandler(l.commands)};(function(){this.setDefaultHandler=function(l){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=l,this.addKeyboardHandler(l,0)},this.setKeyboardHandler=function(l){var a=this.$handlers;if(a[a.length-1]!=l){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(l,1)}},this.addKeyboardHandler=function(l,a){if(l){typeof l=="function"&&!l.handleKeyboard&&(l.handleKeyboard=l);var t=this.$handlers.indexOf(l);t!=-1&&this.$handlers.splice(t,1),a==null?this.$handlers.push(l):this.$handlers.splice(a,0,l),t==-1&&l.attach&&l.attach(this.$editor)}},this.removeKeyboardHandler=function(l){var a=this.$handlers.indexOf(l);return a==-1?!1:(this.$handlers.splice(a,1),l.detach&&l.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var l=this.$data,a=l.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(a,l)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(l,a,t,e){for(var n,r=!1,i=this.$editor.commands,o=this.$handlers.length;o--&&(n=this.$handlers[o].handleKeyboard(this.$data,l,a,t,e),!(!(!n||!n.command)&&(n.command=="null"?r=!0:r=i.exec(n.command,this.$editor,n.args,e),r&&e&&l!=-1&&n.passEvent!=1&&n.command.passEvent!=1&&R.stopEvent(e),r))););return!r&&l==-1&&(n={command:"insertstring"},r=i.exec("insertstring",this.$editor,a)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),r},this.onCommandKey=function(l,a,t){var e=C.keyCodeToString(t);return this.$callKeyboardHandlers(a,e,t,l)},this.onTextInput=function(l){return this.$callKeyboardHandlers(-1,l)}}).call(d.prototype),M.KeyBinding=d}),define("ace/lib/bidiutil",["require","exports","module"],function(E,M,w){function C(ie,le,ce,ye){var pe=a?o:i,Se=null,Le=null,Ee=null,Fe=0,Ve=null,Je=null,I=-1,ge=null,fe=null,te=[];if(!ye)for(ge=0,ye=[];ge<ce;ge++)ye[ge]=l(ie[ge]);for(t=a,e=!1,n=!1,r=!1,fe=0;fe<ce;fe++){if(Se=Fe,te[fe]=Le=d(ie,ye,te,fe),Fe=pe[Se][Le],Ve=Fe&240,Fe&=15,le[fe]=Ee=pe[Fe][5],Ve>0)if(Ve==16){for(ge=I;ge<fe;ge++)le[ge]=1;I=-1}else I=-1;if(Je=pe[Fe][6],Je)I==-1&&(I=fe);else if(I>-1){for(ge=I;ge<fe;ge++)le[ge]=Ee;I=-1}ye[fe]==_&&(le[fe]=0),t|=Ee}if(r){for(ge=0;ge<ce;ge++)if(ye[ge]==g){le[ge]=a;for(var J=ge-1;J>=0&&ye[J]==c;J--)le[J]=a}}}function R(ie,le,ce){if(!(t<ie)){if(ie==1&&a==p&&!n){ce.reverse();return}for(var ye=ce.length,pe=0,Se,Le,Ee,Fe;pe<ye;){if(le[pe]>=ie){for(Se=pe+1;Se<ye&&le[Se]>=ie;)Se++;for(Le=pe,Ee=Se-1;Le<Ee;Le++,Ee--)Fe=ce[Le],ce[Le]=ce[Ee],ce[Ee]=Fe;pe=Se}pe++}}}function d(ie,le,ce,ye){var pe=le[ye],Se,Le,Ee,Fe;switch(pe){case y:case L:e=!1;case f:case s:return pe;case m:return e?s:m;case v:return e=!0,L;case c:return f;case b:return ye<1||ye+1>=le.length||(Se=ce[ye-1])!=m&&Se!=s||(Le=le[ye+1])!=m&&Le!=s?f:(e&&(Le=s),Le==Se?Le:f);case k:return Se=ye>0?ce[ye-1]:_,Se==m&&ye+1<le.length&&le[ye+1]==m?m:f;case F:if(ye>0&&ce[ye-1]==m)return m;if(e)return f;for(Fe=ye+1,Ee=le.length;Fe<Ee&&le[Fe]==F;)Fe++;return Fe<Ee&&le[Fe]==m?m:f;case x:for(Ee=le.length,Fe=ye+1;Fe<Ee&&le[Fe]==x;)Fe++;if(Fe<Ee){var Ve=ie[ye],Je=Ve>=1425&&Ve<=2303||Ve==64286;if(Se=le[Fe],Je&&(Se==L||Se==v))return L}return ye<1||(Se=le[ye-1])==_?f:ce[ye-1];case _:return e=!1,n=!0,a;case g:return r=!0,f;case N:case G:case ne:case Z:case q:e=!1;case K:return f}}function l(ie){var le=ie.charCodeAt(0),ce=le>>8;return ce==0?le>191?y:X[le]:ce==5?/[\u0591-\u05f4]/.test(ie)?L:y:ce==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ie)?x:/[\u0660-\u0669\u066b-\u066c]/.test(ie)?s:le==1642?F:/[\u06f0-\u06f9]/.test(ie)?m:v:ce==32&&le<=8287?ee[le&255]:ce==254&&le>=65136?v:f}var a=0,t=0,e=!1,n=!1,r=!1,i=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],o=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=0,p=1,y=0,L=1,m=2,s=3,f=4,_=5,g=6,v=7,c=8,b=9,k=10,F=11,x=12,N=13,G=14,q=15,ne=16,Z=17,K=18,X=[K,K,K,K,K,K,K,K,K,g,_,g,c,_,K,K,K,K,K,K,K,K,K,K,K,K,K,K,_,_,_,g,c,f,f,F,F,F,f,f,f,f,f,k,b,k,b,b,m,m,m,m,m,m,m,m,m,m,b,f,f,f,f,f,f,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,f,f,f,f,f,f,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,f,f,f,f,K,K,K,K,K,K,_,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,b,f,F,F,F,F,f,f,f,f,y,f,f,K,f,f,F,F,m,m,f,y,f,f,f,m,y,f,f,f,f,f],ee=[c,c,c,c,c,c,c,c,c,c,c,K,K,K,y,L,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,c,_,N,G,q,ne,Z,b,F,F,F,F,F,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,b,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,c];M.L=y,M.R=L,M.EN=m,M.ON_R=3,M.AN=4,M.R_H=5,M.B=6,M.RLE=7,M.DOT="·",M.doBidiReorder=function(ie,le,ce){if(ie.length<2)return{};var ye=ie.split(""),pe=new Array(ye.length),Se=new Array(ye.length),Le=[];a=ce?p:h,C(ye,Le,ye.length,le);for(var Ee=0;Ee<pe.length;pe[Ee]=Ee,Ee++);R(2,Le,pe),R(1,Le,pe);for(var Ee=0;Ee<pe.length-1;Ee++)le[Ee]===s?Le[Ee]=M.AN:Le[Ee]===L&&(le[Ee]>v&&le[Ee]<N||le[Ee]===f||le[Ee]===K)?Le[Ee]=M.ON_R:Ee>0&&ye[Ee-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(ye[Ee])&&(Le[Ee-1]=Le[Ee]=M.R_H,Ee++);ye[ye.length-1]===M.DOT&&(Le[ye.length-1]=M.B),ye[0]==="‫"&&(Le[0]=M.RLE);for(var Ee=0;Ee<pe.length;Ee++)Se[Ee]=Le[pe[Ee]];return{logicalFromVisual:pe,bidiLevels:Se}},M.hasBidiCharacters=function(ie,le){for(var ce=!1,ye=0;ye<ie.length;ye++)le[ye]=l(ie.charAt(ye)),!ce&&(le[ye]==L||le[ye]==v||le[ye]==s)&&(ce=!0);return ce},M.getVisualFromLogicalIdx=function(ie,le){for(var ce=0;ce<le.logicalFromVisual.length;ce++)if(le.logicalFromVisual[ce]==ie)return ce;return 0}}),define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(E,M,w){var C=E("./lib/bidiutil"),R=E("./lib/lang"),d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,l=function(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=C,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=d.test(a.getValue())};(function(){this.isBidiRow=function(a,t,e){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(t,e),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&d.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var a=0,t=this.session.$screenRowCache;if(t.length){var e=this.session.$getRowCacheIndex(t,this.currentRow);e>=0&&(a=this.session.$docRowCache[e])}return a},this.getSplitIndex=function(){var a=0,t=this.session.$screenRowCache;if(t.length)for(var e,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-a>0&&(e=this.session.$getRowCacheIndex(t,this.currentRow-a-1),e===n);)n=e,a++;else a=this.currentRow;return a},this.updateRowLine=function(a,t){a===void 0&&(a=this.getDocumentRow());var e=a===this.session.getLength()-1,n=e?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[a];r&&(t===void 0&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[C.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t])),t==r.length&&(this.line+=this.showInvisibles?n:C.DOT)}else this.line+=this.showInvisibles?n:C.DOT;var i=this.session,o=0,h;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,y){return p==="	"||i.isFullWidth(p.charCodeAt(0))?(h=p==="	"?i.getScreenTabSize(y+o):2,o+=h-1,R.stringRepeat(C.DOT,h)):p}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==C.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var a=[];C.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=C.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var t=this.characterWidth=a.$characterSize.width,e=a.$measureCharWidth("ה");this.charWidths[C.L]=this.charWidths[C.EN]=this.charWidths[C.ON_R]=t,this.charWidths[C.R]=this.charWidths[C.AN]=e,this.charWidths[C.R_H]=e*.45,this.charWidths[C.B]=this.charWidths[C.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},this.setEolChar=function(a){this.EOL=a},this.setContentWidth=function(a){this.contentWidth=a},this.isRtlLine=function(a){return this.$isRtl?!0:a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(a,t){for(var e=a.getCursorPosition(),n=a.selection.getSelectionAnchor().row;n<=e.row;n++)!t&&a.session.getLine(n).charAt(0)===a.session.$bidiHandler.RLE?a.session.doc.removeInLine(n,0,1):t&&a.session.getLine(n).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:n},a.session.$bidiHandler.RLE)},this.getPosLeft=function(a){a-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,e=a>t?this.session.getOverwrite()?a:a-1:t,n=C.getVisualFromLogicalIdx(e,this.bidiMap),r=this.bidiMap.bidiLevels,i=0;!this.session.getOverwrite()&&a<=t&&r[n]%2!==0&&n++;for(var o=0;o<n;o++)i+=this.charWidths[r[o]];return!this.session.getOverwrite()&&a>t&&r[n]%2===0&&(i+=this.charWidths[r[n]]),this.wrapIndent&&(i+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(i+=this.rtlLineOffset),i},this.getSelections=function(a,t){var e=this.bidiMap,n=e.bidiLevels,r,i=[],o=0,h=Math.min(a,t)-this.wrapIndent,p=Math.max(a,t)-this.wrapIndent,y=!1,L=!1,m=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var s,f=0;f<n.length;f++)s=e.logicalFromVisual[f],r=n[f],y=s>=h&&s<p,y&&!L?m=o:!y&&L&&i.push({left:m,width:o-m}),o+=this.charWidths[r],L=y;if(y&&f===n.length&&i.push({left:m,width:o-m}),this.isRtlDir)for(var _=0;_<i.length;_++)i[_].left+=this.rtlLineOffset;return i},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),n=0,r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&o===0&&i[r-1]%2===0||!this.isRtlDir&&r===0&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&o!==0&&r--,t=this.bidiMap.logicalFromVisual[r]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(l.prototype),M.BidiHandler=l}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/lang"),d=E("./lib/event_emitter").EventEmitter,l=E("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(n){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){C.implement(this,d),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?l.fromPoints(e,e):this.isBackwards()?l.fromPoints(e,t):l.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var n=e?t.end:t.start,r=e?t.start:t.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(t,e,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(n,r),this.$isEmpty=!l.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(typeof e>"u"){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n=typeof t=="number"?t:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,e===!0?new l(n,0,r,this.session.getLine(r).length):new l(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var r=t.column,i=t.column+e;return n<0&&(r=t.column-e,i=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(r,i).split(" ").length-1==e},this.moveCursorLeft=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(t,null,r.row,r.column),o=i.match(/^\s*/);o[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var r=n.search(/\s+$/);r>0&&(e.column=r)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),r=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(t,e,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}if(this.session.nonTokenRe.exec(r)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(e)),e>=n.length){this.moveCursorTo(t,n.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(t,e,-1);r==null&&(r=this.doc.getLine(t).substring(0,e));var i=R.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(e-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),e<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.$shortWordEndIndex=function(t){var e=0,n,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(t))e=this.session.tokenRe.lastIndex;else{for(;(n=t[e])&&r.test(n);)e++;if(e<1){for(i.lastIndex=0;(n=t[e])&&!i.test(n);)if(i.lastIndex=0,e++,r.test(n)){if(e>2){e--;break}for(;(n=t[e])&&r.test(n);)e++;if(e>2)break}}}return i.lastIndex=0,e},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),r=n.substring(e),i=this.session.getFoldAt(t,e,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(e==n.length){var o=this.doc.getLength();do t++,r=this.doc.getLine(t);while(t<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),e=0}var h=this.$shortWordEndIndex(r);this.moveCursorTo(t,e+h)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(t).substring(0,e);if(e===0){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));e=r.length,/\s+$/.test(r)||(r="")}var i=R.stringReverse(r),o=this.$shortWordEndIndex(i);return this.moveCursorTo(t,e-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;if(e===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];t<0?t-=i.rowsAbove||0:t>0&&(t+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(n.row+t,n.column,r);t!==0&&e===0&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+e,e===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var r=this.session.getFoldAt(t,e,1);r&&(t=r.start.row,e=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(i.charAt(e))&&i.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var r=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return l.fromPoints(e,n)}catch{return l.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(e){var n=e.clone();return n.isBackwards=e.cursor==e.start,n});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=l.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),M.Selection=a}),define("ace/tokenizer",["require","exports","module","ace/config"],function(E,M,w){var C=E("./config"),R=2e3,d=function(l){this.states=l,this.regExps={},this.matchMappings={};for(var a in this.states){for(var t=this.states[a],e=[],n=0,r=this.matchMappings[a]={defaultToken:"text"},i="g",o=[],h=0;h<t.length;h++){var p=t[h];if(p.defaultToken&&(r.defaultToken=p.defaultToken),p.caseInsensitive&&(i="gi"),p.regex!=null){p.regex instanceof RegExp&&(p.regex=p.regex.toString().slice(1,-1));var y=p.regex,L=new RegExp("(?:("+y+")|(.))").exec("a").length-2;Array.isArray(p.token)?p.token.length==1||L==1?p.token=p.token[0]:L-1!=p.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:p,groupCount:L-1}),p.token=p.token[0]):(p.tokenArray=p.token,p.token=null,p.onMatch=this.$arrayTokens):typeof p.token=="function"&&!p.onMatch&&(L>1?p.onMatch=this.$applyToken:p.onMatch=p.token),L>1&&(/\\\d/.test(p.regex)?y=p.regex.replace(/\\([0-9]+)/g,function(m,s){return"\\"+(parseInt(s,10)+n+1)}):(L=1,y=this.removeCapturingGroups(p.regex)),!p.splitRegex&&typeof p.token!="string"&&o.push(p)),r[n]=h,n+=L,e.push(y),p.onMatch||(p.onMatch=null)}}e.length||(r[0]=0,e.push("$")),o.forEach(function(m){m.splitRegex=this.createSplitterRegexp(m.regex,i)},this),this.regExps[a]=new RegExp("("+e.join(")|(")+")|($)",i)}};(function(){this.$setMaxTokenCount=function(l){R=l|0},this.$applyToken=function(l){var a=this.splitRegex.exec(l).slice(1),t=this.token.apply(this,a);if(typeof t=="string")return[{type:t,value:l}];for(var e=[],n=0,r=t.length;n<r;n++)a[n]&&(e[e.length]={type:t[n],value:a[n]});return e},this.$arrayTokens=function(l){if(!l)return[];var a=this.splitRegex.exec(l);if(!a)return"text";for(var t=[],e=this.tokenArray,n=0,r=e.length;n<r;n++)a[n+1]&&(t[t.length]={type:e[n],value:a[n+1]});return t},this.removeCapturingGroups=function(l){var a=l.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return a},this.createSplitterRegexp=function(l,a){if(l.indexOf("(?=")!=-1){var t=0,e=!1,n={};l.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(r,i,o,h,p,y){return e?e=p!="]":p?e=!0:h?(t==n.stack&&(n.end=y+1,n.stack=-1),t--):o&&(t++,o.length!=1&&(n.stack=t,n.start=y)),r}),n.end!=null&&/^\)*$/.test(l.substr(n.end))&&(l=l.substring(0,n.start)+l.substr(n.end))}return l.charAt(0)!="^"&&(l="^"+l),l.charAt(l.length-1)!="$"&&(l+="$"),new RegExp(l,(a||"").replace("g",""))},this.getLineTokens=function(l,a){if(a&&typeof a!="string"){var t=a.slice(0);a=t[0],a==="#tmp"&&(t.shift(),a=t.shift())}else var t=[];var e=a||"start",n=this.states[e];n||(e="start",n=this.states[e]);var r=this.matchMappings[e],i=this.regExps[e];i.lastIndex=0;for(var o,h=[],p=0,y=0,L={type:null,value:""};o=i.exec(l);){var m=r.defaultToken,s=null,f=o[0],_=i.lastIndex;if(_-f.length>p){var g=l.substring(p,_-f.length);L.type==m?L.value+=g:(L.type&&h.push(L),L={type:m,value:g})}for(var v=0;v<o.length-2;v++)if(o[v+1]!==void 0){s=n[r[v]],s.onMatch?m=s.onMatch(f,e,t,l):m=s.token,s.next&&(typeof s.next=="string"?e=s.next:e=s.next(e,t),n=this.states[e],n||(this.reportError("state doesn't exist",e),e="start",n=this.states[e]),r=this.matchMappings[e],p=_,i=this.regExps[e],i.lastIndex=_),s.consumeLineEnd&&(p=_);break}if(f){if(typeof m=="string")s&&s.merge===!1||L.type!==m?(L.type&&h.push(L),L={type:m,value:f}):L.value+=f;else if(m){L.type&&h.push(L),L={type:null,value:""};for(var v=0;v<m.length;v++)h.push(m[v])}}if(p==l.length)break;if(p=_,y++>R){for(y>2*l.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:l});p<l.length;)L.type&&h.push(L),L={value:l.substring(p,p+=500),type:"overflow"};e="start",t=[];break}}return L.type&&h.push(L),t.length>1&&t[0]!==e&&t.unshift("#tmp",e),{tokens:h,state:t.length?t:e}},this.reportError=C.reportError}).call(d.prototype),M.Tokenizer=d}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(E,M,w){var C=E("../lib/lang"),R=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,t){if(!t){for(var e in a)this.$rules[e]=a[e];return}for(var e in a){for(var n=a[e],r=0;r<n.length;r++){var i=n[r];(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState))}this.$rules[t+e]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(a,t,e,n,r){var i=typeof a=="function"?new a().getRules():a;if(n)for(var o=0;o<n.length;o++)n[o]=t+n[o];else{n=[];for(var h in i)n.push(t+h)}if(this.addRules(i,t),e)for(var p=Array.prototype[r?"push":"unshift"],o=0;o<n.length;o++)p.apply(this.$rules[n[o]],C.deepCopy(e));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var d=function(a,t){return(a!="start"||t.length)&&t.unshift(this.nextState,a),this.nextState},l=function(a,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function a(n){var r=e[n];r.processed=!0;for(var i=0;i<r.length;i++){var o=r[i],h=null;Array.isArray(o)&&(h=o,o={}),!o.regex&&o.start&&(o.regex=o.start,o.next||(o.next=[]),o.next.push({defaultToken:o.token},{token:o.token+".end",regex:o.end||o.start,next:"pop"}),o.token=o.token+".start",o.push=!0);var p=o.next||o.push;if(p&&Array.isArray(p)){var y=o.stateName;y||(y=o.token,typeof y!="string"&&(y=y[0]||""),e[y]&&(y+=t++)),e[y]=p,o.next=y,a(y)}else p=="pop"&&(o.next=l);if(o.push&&(o.nextState=o.next||o.push,o.next=d,delete o.push),o.rules)for(var L in o.rules)e[L]?e[L].push&&e[L].push.apply(e[L],o.rules[L]):e[L]=o.rules[L];var m=typeof o=="string"?o:o.include;if(m&&(Array.isArray(m)?h=m.map(function(f){return e[f]}):h=e[m]),h){var s=[i,1].concat(h);o.noEscape&&(s=s.filter(function(f){return!f.next})),r.splice.apply(r,s),i--}o.keywordMap&&(o.token=this.createKeywordMapper(o.keywordMap,o.defaultToken||"text",o.caseInsensitive),delete o.defaultToken)}}var t=0,e=this.$rules;Object.keys(e).forEach(a,this)},this.createKeywordMapper=function(a,t,e,n){var r=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(i){for(var o=a[i],h=o.split(n||"|"),p=h.length;p--;){var y=h[p];this.$keywordList.push(y),e&&(y=y.toLowerCase()),r[y]=i}},this),a=null,e?function(i){return r[i.toLowerCase()]||t}:function(i){return r[i]||t}},this.getKeywords=function(){return this.$keywords}}).call(R.prototype),M.TextHighlightRules=R}),define("ace/mode/behaviour",["require","exports","module"],function(E,M,w){var C=function(){this.$behaviours={}};(function(){this.add=function(R,d,l){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[R]:this.$behaviours[R]={}}this.$behaviours[R][d]=l},this.addBehaviours=function(R){for(var d in R)for(var l in R[d])this.add(d,l,R[d][l])},this.remove=function(R){this.$behaviours&&this.$behaviours[R]&&delete this.$behaviours[R]},this.inherit=function(R,d){if(typeof R=="function")var l=new R().getBehaviours(d);else var l=R.getBehaviours(d);this.addBehaviours(l)},this.getBehaviours=function(R){if(!R)return this.$behaviours;for(var d={},l=0;l<R.length;l++)this.$behaviours[R[l]]&&(d[R[l]]=this.$behaviours[R[l]]);return d}}).call(C.prototype),M.Behaviour=C}),define("ace/token_iterator",["require","exports","module","ace/range"],function(E,M,w){var C=E("./range").Range,R=function(d,l,a){this.$session=d,this.$row=l,this.$rowTokens=d.getTokens(l);var t=d.getTokenAt(l,a);this.$tokenIndex=t?t.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var d;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,d||(d=this.$session.getLength()),this.$row>=d)return this.$row=d-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var d=this.$rowTokens,l=this.$tokenIndex,a=d[l].start;if(a!==void 0)return a;for(a=0;l>0;)l-=1,a+=d[l].value.length;return a},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var d=this.$rowTokens[this.$tokenIndex],l=this.getCurrentTokenColumn();return new C(this.$row,l,this.$row,l+d.value.length)}}).call(R.prototype),M.TokenIterator=R}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(E,M,w){var C=E("../../lib/oop"),R=E("../behaviour").Behaviour,d=E("../../token_iterator").TokenIterator,l=E("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],e,n={},r={'"':'"',"'":"'"},i=function(p){var y=-1;if(p.multiSelect&&(y=p.selection.index,n.rangeCount!=p.multiSelect.rangeCount&&(n={rangeCount:p.multiSelect.rangeCount})),n[y])return e=n[y];e=n[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},o=function(p,y,L,m){var s=p.end.row-p.start.row;return{text:L+y+m,selection:[0,p.start.column+1,s,p.end.column+(s?0:1)]}},h=function(p){this.add("braces","insertion",function(y,L,m,s,f){var _=m.getCursorPosition(),g=s.doc.getLine(_.row);if(f=="{"){i(m);var v=m.getSelectionRange(),c=s.doc.getTextRange(v);if(c!==""&&c!=="{"&&m.getWrapBehavioursEnabled())return o(v,c,"{","}");if(h.isSaneInsertion(m,s))return/[\]\}\)]/.test(g[_.column])||m.inMultiSelectMode||p&&p.braces?(h.recordAutoInsert(m,s,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(m,s,"{"),{text:"{",selection:[1,1]})}else if(f=="}"){i(m);var b=g.substring(_.column,_.column+1);if(b=="}"){var k=s.$findOpeningBracket("}",{column:_.column+1,row:_.row});if(k!==null&&h.isAutoInsertedClosing(_,g,f))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if(f==`
`||f==`\r
`){i(m);var F="";h.isMaybeInsertedClosing(_,g)&&(F=l.stringRepeat("}",e.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var b=g.substring(_.column,_.column+1);if(b==="}"){var x=s.findMatchingBracket({row:_.row,column:_.column+1},"}");if(!x)return null;var N=this.$getIndent(s.getLine(x.row))}else{if(!F){h.clearMaybeInsertedClosing();return}var N=this.$getIndent(g)}var G=N+s.getTabString();return{text:`
`+G+`
`+N+F,selection:[1,G.length,1,G.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(y,L,m,s,f){var _=s.doc.getTextRange(f);if(!f.isMultiLine()&&_=="{"){i(m);var g=s.doc.getLine(f.start.row),v=g.substring(f.end.column,f.end.column+1);if(v=="}")return f.end.column++,f;e.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,L,m,s,f){if(f=="("){i(m);var _=m.getSelectionRange(),g=s.doc.getTextRange(_);if(g!==""&&m.getWrapBehavioursEnabled())return o(_,g,"(",")");if(h.isSaneInsertion(m,s))return h.recordAutoInsert(m,s,")"),{text:"()",selection:[1,1]}}else if(f==")"){i(m);var v=m.getCursorPosition(),c=s.doc.getLine(v.row),b=c.substring(v.column,v.column+1);if(b==")"){var k=s.$findOpeningBracket(")",{column:v.column+1,row:v.row});if(k!==null&&h.isAutoInsertedClosing(v,c,f))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,L,m,s,f){var _=s.doc.getTextRange(f);if(!f.isMultiLine()&&_=="("){i(m);var g=s.doc.getLine(f.start.row),v=g.substring(f.start.column+1,f.start.column+2);if(v==")")return f.end.column++,f}}),this.add("brackets","insertion",function(y,L,m,s,f){if(f=="["){i(m);var _=m.getSelectionRange(),g=s.doc.getTextRange(_);if(g!==""&&m.getWrapBehavioursEnabled())return o(_,g,"[","]");if(h.isSaneInsertion(m,s))return h.recordAutoInsert(m,s,"]"),{text:"[]",selection:[1,1]}}else if(f=="]"){i(m);var v=m.getCursorPosition(),c=s.doc.getLine(v.row),b=c.substring(v.column,v.column+1);if(b=="]"){var k=s.$findOpeningBracket("]",{column:v.column+1,row:v.row});if(k!==null&&h.isAutoInsertedClosing(v,c,f))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,L,m,s,f){var _=s.doc.getTextRange(f);if(!f.isMultiLine()&&_=="["){i(m);var g=s.doc.getLine(f.start.row),v=g.substring(f.start.column+1,f.start.column+2);if(v=="]")return f.end.column++,f}}),this.add("string_dquotes","insertion",function(y,L,m,s,f){var _=s.$mode.$quotes||r;if(f.length==1&&_[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;i(m);var g=f,v=m.getSelectionRange(),c=s.doc.getTextRange(v);if(c!==""&&(c.length!=1||!_[c])&&m.getWrapBehavioursEnabled())return o(v,c,g,g);if(!c){var b=m.getCursorPosition(),k=s.doc.getLine(b.row),F=k.substring(b.column-1,b.column),x=k.substring(b.column,b.column+1),N=s.getTokenAt(b.row,b.column),G=s.getTokenAt(b.row,b.column+1);if(F=="\\"&&N&&/escape/.test(N.type))return null;var q=N&&/string|escape/.test(N.type),ne=!G||/string|escape/.test(G.type),Z;if(x==g)Z=q!==ne,Z&&/string\.end/.test(G.type)&&(Z=!1);else{if(q&&!ne||q&&ne)return null;var K=s.$mode.tokenRe;K.lastIndex=0;var X=K.test(F);K.lastIndex=0;var ee=K.test(F);if(X||ee||x&&!/[\s;,.})\]\\]/.test(x))return null;var ie=k[b.column-2];if(!(F!=g||ie!=g&&!K.test(ie)))return null;Z=!0}return{text:Z?g+g:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,L,m,s,f){var _=s.$mode.$quotes||r,g=s.doc.getTextRange(f);if(!f.isMultiLine()&&_.hasOwnProperty(g)){i(m);var v=s.doc.getLine(f.start.row),c=v.substring(f.start.column+1,f.start.column+2);if(c==g)return f.end.column++,f}})};h.isSaneInsertion=function(p,y){var L=p.getCursorPosition(),m=new d(y,L.row,L.column);if(!this.$matchTokenType(m.getCurrentToken()||"text",a)){if(/[)}\]]/.test(p.session.getLine(L.row)[L.column]))return!0;var s=new d(y,L.row,L.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",a))return!1}return m.stepForward(),m.getCurrentTokenRow()!==L.row||this.$matchTokenType(m.getCurrentToken()||"text",t)},h.$matchTokenType=function(p,y){return y.indexOf(p.type||p)>-1},h.recordAutoInsert=function(p,y,L){var m=p.getCursorPosition(),s=y.doc.getLine(m.row);this.isAutoInsertedClosing(m,s,e.autoInsertedLineEnd[0])||(e.autoInsertedBrackets=0),e.autoInsertedRow=m.row,e.autoInsertedLineEnd=L+s.substr(m.column),e.autoInsertedBrackets++},h.recordMaybeInsert=function(p,y,L){var m=p.getCursorPosition(),s=y.doc.getLine(m.row);this.isMaybeInsertedClosing(m,s)||(e.maybeInsertedBrackets=0),e.maybeInsertedRow=m.row,e.maybeInsertedLineStart=s.substr(0,m.column)+L,e.maybeInsertedLineEnd=s.substr(m.column),e.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(p,y,L){return e.autoInsertedBrackets>0&&p.row===e.autoInsertedRow&&L===e.autoInsertedLineEnd[0]&&y.substr(p.column)===e.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(p,y){return e.maybeInsertedBrackets>0&&p.row===e.maybeInsertedRow&&y.substr(p.column)===e.maybeInsertedLineEnd&&y.substr(0,p.column)==e.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){e.autoInsertedLineEnd=e.autoInsertedLineEnd.substr(1),e.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){e&&(e.maybeInsertedBrackets=0,e.maybeInsertedRow=-1)},C.inherits(h,R),M.CstyleBehaviour=h}),define("ace/unicode",["require","exports","module"],function(E,M,w){for(var C=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],R=0,d=[],l=0;l<C.length;l+=2)d.push(R+=C[l]),C[l+1]&&d.push(45,R+=C[l+1]);M.wordChars=String.fromCharCode.apply(null,d)}),define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(E,M,w){var C=E("../config"),R=E("../tokenizer").Tokenizer,d=E("./text_highlight_rules").TextHighlightRules,l=E("./behaviour/cstyle").CstyleBehaviour,a=E("../unicode"),t=E("../lib/lang"),e=E("../token_iterator").TokenIterator,n=E("../range").Range,r=function(){this.HighlightRules=d};(function(){this.$defaultBehaviour=new l,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new R(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(i,o,h,p){function y(Z){for(var K=h;K<=p;K++)Z(L.getLine(K),K)}var L=o.doc,m=!0,s=!0,f=1/0,_=o.getTabSize(),g=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var b=this.lineCommentStart.map(t.escapeRegExp).join("|"),v=this.lineCommentStart[0];else var b=t.escapeRegExp(this.lineCommentStart),v=this.lineCommentStart;b=new RegExp("^(\\s*)(?:"+b+") ?"),g=o.getUseSoftTabs();var x=function(le,ce){var ye=le.match(b);if(ye){var pe=ye[1].length,Se=ye[0].length;!q(le,pe,Se)&&ye[0][Se-1]==" "&&Se--,L.removeInLine(ce,pe,Se)}},G=v+" ",F=function(le,ce){(!m||/\S/.test(le))&&(q(le,f,f)?L.insertInLine({row:ce,column:f},G):L.insertInLine({row:ce,column:f},v))},N=function(le,ce){return b.test(le)},q=function(le,ce,ye){for(var pe=0;ce--&&le.charAt(ce)==" ";)pe++;if(pe%_!=0)return!1;for(var pe=0;le.charAt(ye++)==" ";)pe++;return _>2?pe%_!=_-1:pe%_==0}}else{if(!this.blockComment)return!1;var v=this.blockComment.start,c=this.blockComment.end,b=new RegExp("^(\\s*)(?:"+t.escapeRegExp(v)+")"),k=new RegExp("(?:"+t.escapeRegExp(c)+")\\s*$"),F=function(Z,K){N(Z,K)||(!m||/\S/.test(Z))&&(L.insertInLine({row:K,column:Z.length},c),L.insertInLine({row:K,column:f},v))},x=function(Z,K){var X;(X=Z.match(k))&&L.removeInLine(K,Z.length-X[0].length,Z.length),(X=Z.match(b))&&L.removeInLine(K,X[1].length,X[0].length)},N=function(Z,K){if(b.test(Z))return!0;for(var X=o.getTokens(K),ee=0;ee<X.length;ee++)if(X[ee].type==="comment")return!0}}var ne=1/0;y(function(Z,K){var X=Z.search(/\S/);X!==-1?(X<f&&(f=X),s&&!N(Z,K)&&(s=!1)):ne>Z.length&&(ne=Z.length)}),f==1/0&&(f=ne,m=!1,s=!1),g&&f%_!=0&&(f=Math.floor(f/_)*_),y(s?x:F)},this.toggleBlockComment=function(i,o,h,p){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var L=new e(o,p.row,p.column),m=L.getCurrentToken();o.selection;var s=o.selection.toOrientedRange(),f,_;if(m&&/comment/.test(m.type)){for(var g,v;m&&/comment/.test(m.type);){var c=m.value.indexOf(y.start);if(c!=-1){var b=L.getCurrentTokenRow(),k=L.getCurrentTokenColumn()+c;g=new n(b,k,b,k+y.start.length);break}m=L.stepBackward()}for(var L=new e(o,p.row,p.column),m=L.getCurrentToken();m&&/comment/.test(m.type);){var c=m.value.indexOf(y.end);if(c!=-1){var b=L.getCurrentTokenRow(),k=L.getCurrentTokenColumn()+c;v=new n(b,k,b,k+y.end.length);break}m=L.stepForward()}v&&o.remove(v),g&&(o.remove(g),f=g.start.row,_=-y.start.length)}else _=y.start.length,f=h.start.row,o.insert(h.end,y.end),o.insert(h.start,y.start);s.start.row==f&&(s.start.column+=_),s.end.row==f&&(s.end.column+=_),o.selection.fromOrientedRange(s)}},this.getNextLineIndent=function(i,o,h){return this.$getIndent(o)},this.checkOutdent=function(i,o,h){return!1},this.autoOutdent=function(i,o,h){},this.$getIndent=function(i){return i.match(/^\s*/)[0]},this.createWorker=function(i){return null},this.createModeDelegates=function(i){this.$embeds=[],this.$modes={};for(var o in i)if(i[o]){var h=i[o],p=h.prototype.$id,y=C.$modes[p];y||(C.$modes[p]=y=new h),C.$modes[o]||(C.$modes[o]=y),this.$embeds.push(o),this.$modes[o]=y}for(var L=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],o=0;o<L.length;o++)(function(s){var f=L[o],_=s[f];s[L[o]]=function(){return this.$delegator(f,arguments,_)}})(this)},this.$delegator=function(i,o,h){var p=o[0]||"start";if(typeof p!="string"){if(Array.isArray(p[2])){var y=p[2][p[2].length-1],L=this.$modes[y];if(L)return L[i].apply(L,[p[1]].concat([].slice.call(o,1)))}p=p[0]||"start"}for(var m=0;m<this.$embeds.length;m++)if(this.$modes[this.$embeds[m]]){var s=p.split(this.$embeds[m]);if(!s[0]&&s[1]){o[0]=s[1];var L=this.$modes[this.$embeds[m]];return L[i].apply(L,o)}}var f=h.apply(this,o);return h?f:void 0},this.transformAction=function(i,o,h,p,y){if(this.$behaviour){var L=this.$behaviour.getBehaviours();for(var m in L)if(L[m][o]){var s=L[m][o].apply(this,arguments);if(s)return s}}},this.getKeywords=function(i){if(!this.completionKeywords){var o=this.$tokenizer.rules,h=[];for(var p in o)for(var y=o[p],L=0,m=y.length;L<m;L++)if(typeof y[L].token=="string")/keyword|support|storage/.test(y[L].token)&&h.push(y[L].regex);else if(typeof y[L].token=="object"){for(var s=0,f=y[L].token.length;s<f;s++)if(/keyword|support|storage/.test(y[L].token[s])){var p=y[L].regex.match(/\(.+?\)/g)[s];h.push(p.substr(1,p.length-2))}}this.completionKeywords=h}return i?h.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(i,o,h,p){var y=this.$keywordList||this.$createKeywordList();return y.map(function(L){return{name:L,value:L,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(r.prototype),M.Mode=r}),define("ace/apply_delta",["require","exports","module"],function(E,M,w){M.applyDelta=function(C,R,d){var l=R.start.row,a=R.start.column,t=C[l]||"";switch(R.action){case"insert":var e=R.lines;if(e.length===1)C[l]=t.substring(0,a)+R.lines[0]+t.substring(a);else{var n=[l,1].concat(R.lines);C.splice.apply(C,n),C[l]=t.substring(0,a)+C[l],C[l+R.lines.length-1]+=t.substring(a)}break;case"remove":var r=R.end.column,i=R.end.row;l===i?C[l]=t.substring(0,a)+t.substring(r):C.splice(l,i-l+1,t.substring(0,a)+C[i].substring(r))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/event_emitter").EventEmitter,d=M.Anchor=function(l,a,t){this.$onChange=this.onChange.bind(this),this.attach(l),typeof t>"u"?this.setPosition(a.row,a.column):this.setPosition(a,t)};(function(){function l(t,e,n){var r=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&r}function a(t,e,n){var r=t.action=="insert",i=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),h=t.start,p=r?h:t.end;return l(e,h,n)?{row:e.row,column:e.column}:l(p,e,!n)?{row:e.row+i,column:e.column+(e.row==p.row?o:0)}:{row:h.row,column:h.column}}C.implement(this,R),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row)&&!(t.start.row>this.row)){var e=a(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}},this.setPosition=function(t,e,n){var r;if(n?r={row:t,column:e}:r=this.$clipPositionToDocument(t,e),!(this.row==r.row&&this.column==r.column)){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(d.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(E,M,w){var C=E("./lib/oop"),R=E("./apply_delta").applyDelta,d=E("./lib/event_emitter").EventEmitter,l=E("./range").Range,a=E("./anchor").Anchor,t=function(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){C.implement(this,d),this.setValue=function(e){var n=this.getLength()-1;this.remove(new l(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,n){return new a(this,e,n)},"aaa".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var n=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e==`\r
`||e=="\r"||e==`
`},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,n){return this.$lines.slice(e,n+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var n;if(e.start.row===e.end.row)n=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{n=this.getLines(e.start.row,e.end.row),n[0]=(n[0]||"").substring(e.start.column);var r=n.length-1;e.end.row-e.start.row==r&&(n[r]=n[r].substring(0,e.end.column))}return n},this.insertLines=function(e,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,n)},this.removeLines=function(e,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,n)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(e,this.$split(n))},this.insertInLine=function(e,n){var r=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+n.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[n]},!0),this.clonePos(i)},this.clippedPos=function(e,n){var r=this.getLength();e===void 0?e=r:e<0?e=0:e>=r&&(e=r-1,n=void 0);var i=this.getLine(e);return n==null&&(n=i.length),n=Math.min(Math.max(n,0),i.length),{row:e,column:n}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,n){return{row:e,column:n}},this.$clipPosition=function(e){var n=this.getLength();return e.row>=n?(e.row=Math.max(0,n-1),e.column=this.getLine(n-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,n){e=Math.min(Math.max(e,0),this.getLength());var r=0;e<this.getLength()?(n=n.concat([""]),r=0):(n=[""].concat(n),e--,r=this.$lines[e].length),this.insertMergedLines({row:e,column:r},n)},this.insertMergedLines=function(e,n){var r=this.clippedPos(e.row,e.column),i={row:r.row+n.length-1,column:(n.length==1?r.column:0)+n[n.length-1].length};return this.applyDelta({start:r,end:i,action:"insert",lines:n}),this.clonePos(i)},this.remove=function(e){var n=this.clippedPos(e.start.row,e.start.column),r=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:n,end:r,action:"remove",lines:this.getLinesForRange({start:n,end:r})}),this.clonePos(n)},this.removeInLine=function(e,n,r){var i=this.clippedPos(e,n),o=this.clippedPos(e,r);return this.applyDelta({start:i,end:o,action:"remove",lines:this.getLinesForRange({start:i,end:o})},!0),this.clonePos(i)},this.removeFullLines=function(e,n){e=Math.min(Math.max(0,e),this.getLength()-1),n=Math.min(Math.max(0,n),this.getLength()-1);var r=n==this.getLength()-1&&e>0,i=n<this.getLength()-1,o=r?e-1:e,h=r?this.getLine(o).length:0,p=i?n+1:n,y=i?0:this.getLine(p).length,L=new l(o,h,p,y),m=this.$lines.slice(e,n+1);return this.applyDelta({start:L.start,end:L.end,action:"remove",lines:this.getLinesForRange(L)}),m},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,n){if(e instanceof l||(e=l.fromPoints(e.start,e.end)),n.length===0&&e.isEmpty())return e.start;if(n==this.getTextRange(e))return e.end;this.remove(e);var r;return n?r=this.insert(e.start,n):r=e.start,r},this.applyDeltas=function(e){for(var n=0;n<e.length;n++)this.applyDelta(e[n])},this.revertDeltas=function(e){for(var n=e.length-1;n>=0;n--)this.revertDelta(e[n])},this.applyDelta=function(e,n){var r=e.action=="insert";(r?e.lines.length<=1&&!e.lines[0]:!l.comparePoints(e.start,e.end))||(r&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(R(this.$lines,e,n),this._signal("change",e)))},this.$safeApplyDelta=function(e){var n=this.$lines.length;(e.action=="remove"&&e.start.row<n&&e.end.row<n||e.action=="insert"&&e.start.row<=n)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,n){for(var r=e.lines,i=r.length-n+1,o=e.start.row,h=e.start.column,p=0,y=0;p<i;p=y){y+=n-1;var L=r.slice(p,y);L.push(""),this.applyDelta({start:this.pos(o+p,h),end:this.pos(o+y,h=0),action:e.action,lines:L},!0)}e.lines=r.slice(p),e.start.row=o+p,e.start.column=h,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,n){for(var r=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=n||0,h=r.length;o<h;o++)if(e-=r[o].length+i,e<0)return{row:o,column:e+r[o].length+i};return{row:h-1,column:e+r[h-1].length+i}},this.positionToIndex=function(e,n){for(var r=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=0,h=Math.min(e.row,r.length),p=n||0;p<h;++p)o+=r[p].length+i;return o+e.column}}).call(t.prototype),M.Document=t}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/event_emitter").EventEmitter,d=function(l,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=l;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,r=-1,i=t.doc,o=n;t.lines[n];)n++;var h=i.getLength(),p=0;for(t.running=!1;n<h;){t.$tokenizeRow(n),r=n;do n++;while(t.lines[n]);if(p++,p%5===0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,r==-1&&(r=n),o<=r&&t.fireUpdateEvent(o,r)}}};(function(){C.implement(this,R),this.setTokenizer=function(l){this.tokenizer=l,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(l){this.doc=l,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(l,a){var t={first:l,last:a};this._signal("update",{data:t})},this.start=function(l){this.currentLine=Math.min(l||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(l){var a=l.start.row,t=l.end.row-a;if(t===0)this.lines[a]=null;else if(l.action=="remove")this.lines.splice(a,t+1,null),this.states.splice(a,t+1,null);else{var e=Array(t+1);e.unshift(a,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(l){return this.lines[l]||this.$tokenizeRow(l)},this.getState=function(l){return this.currentLine==l&&this.$tokenizeRow(l),this.states[l]||"start"},this.$tokenizeRow=function(l){var a=this.doc.getLine(l),t=this.states[l-1],e=this.tokenizer.getLineTokens(a,t,l);return this.states[l]+""!=e.state+""?(this.states[l]=e.state,this.lines[l+1]=null,this.currentLine>l+1&&(this.currentLine=l+1)):this.currentLine==l&&(this.currentLine=l+1),this.lines[l]=e.tokens}}).call(d.prototype),M.BackgroundTokenizer=d}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(E,M,w){var C=E("./lib/lang");E("./lib/oop");var R=E("./range").Range,d=function(l,a,t){this.setRegexp(l),this.clazz=a,this.type=t||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(l){this.regExp+""!=l+""&&(this.regExp=l,this.cache=[])},this.update=function(l,a,t,e){if(this.regExp)for(var n=e.firstRow,r=e.lastRow,i=n;i<=r;i++){var o=this.cache[i];o==null&&(o=C.getMatchOffsets(t.getLine(i),this.regExp),o.length>this.MAX_RANGES&&(o=o.slice(0,this.MAX_RANGES)),o=o.map(function(p){return new R(i,p.offset,i,p.offset+p.length)}),this.cache[i]=o.length?o:"");for(var h=o.length;h--;)a.drawSingleLineMarker(l,o[h].toScreenRange(t),this.clazz,e)}}}).call(d.prototype),M.SearchHighlight=d}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(E,M,w){function C(d,l){this.foldData=d,Array.isArray(l)?this.folds=l:l=this.folds=[l];var a=l[l.length-1];this.range=new R(l[0].start.row,l[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var R=E("../range").Range;(function(){this.shiftRow=function(d){this.start.row+=d,this.end.row+=d,this.folds.forEach(function(l){l.start.row+=d,l.end.row+=d})},this.addFold=function(d){if(d.sameRow){if(d.start.row<this.startRow||d.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(d),this.folds.sort(function(l,a){return-l.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(d.start.row,d.start.column)>0?(this.end.row=d.end.row,this.end.column=d.end.column):this.range.compareStart(d.end.row,d.end.column)<0&&(this.start.row=d.start.row,this.start.column=d.start.column)}else if(d.start.row==this.end.row)this.folds.push(d),this.end.row=d.end.row,this.end.column=d.end.column;else{if(d.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(d),this.start.row=d.start.row,this.start.column=d.start.column}d.foldLine=this},this.containsRow=function(d){return d>=this.start.row&&d<=this.end.row},this.walk=function(d,l,a){var t=0,e=this.folds,n,r,i,o=!0;l==null&&(l=this.end.row,a=this.end.column);for(var h=0;h<e.length;h++){if(n=e[h],r=n.range.compareStart(l,a),r==-1){d(null,l,a,t,o);return}if(i=d(null,n.start.row,n.start.column,t,o),i=!i&&d(n.placeholder,n.start.row,n.start.column,t),i||r===0)return;o=!n.sameRow,t=n.end.column}d(null,l,a,t,o)},this.getNextFoldTo=function(d,l){for(var a,t,e=0;e<this.folds.length;e++){if(a=this.folds[e],t=a.range.compareEnd(d,l),t==-1)return{fold:a,kind:"after"};if(t===0)return{fold:a,kind:"inside"}}return null},this.addRemoveChars=function(d,l,a){var t=this.getNextFoldTo(d,l),e,n;if(t){if(e=t.fold,t.kind=="inside"&&e.start.column!=l&&e.start.row!=d)window.console&&window.console.log(d,l,e);else if(e.start.row==d){n=this.folds;var r=n.indexOf(e);for(r===0&&(this.start.column+=a),r;r<n.length;r++){if(e=n[r],e.start.column+=a,!e.sameRow)return;e.end.column+=a}this.end.column+=a}}},this.split=function(d,l){var a=this.getNextFoldTo(d,l);if(!a||a.kind=="inside")return null;var t=a.fold,e=this.folds,n=this.foldData,r=e.indexOf(t),i=e[r-1];this.end.row=i.end.row,this.end.column=i.end.column,e=e.splice(r,e.length-r);var o=new C(n,e);return n.splice(n.indexOf(this)+1,0,o),o},this.merge=function(d){for(var l=d.folds,a=0;a<l.length;a++)this.addFold(l[a]);var t=this.foldData;t.splice(t.indexOf(d),1)},this.toString=function(){var d=[this.range.toString()+": ["];return this.folds.forEach(function(l){d.push("  "+l.toString())}),d.push("]"),d.join(`
`)},this.idxToPosition=function(d){for(var l=0,a=0;a<this.folds.length;a++){var t=this.folds[a];if(d-=t.start.column-l,d<0)return{row:t.start.row,column:t.start.column+d};if(d-=t.placeholder.length,d<0)return t.start;l=t.end.column}return{row:this.end.row,column:this.end.column+d}}}).call(C.prototype),M.FoldLine=C}),define("ace/range_list",["require","exports","module","ace/range"],function(E,M,w){var C=E("./range").Range,R=C.comparePoints,d=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=R,this.pointIndex=function(l,a,t){for(var e=this.ranges,n=t||0;n<e.length;n++){var r=e[n],i=R(l,r.end);if(!(i>0)){var o=R(l,r.start);return i===0?a&&o!==0?-n-2:n:o>0||o===0&&!a?n:-n-1}}return-n-1},this.add=function(l){var a=!l.isEmpty(),t=this.pointIndex(l.start,a);t<0&&(t=-t-1);var e=this.pointIndex(l.end,a,t);return e<0?e=-e-1:e++,this.ranges.splice(t,e-t,l)},this.addList=function(l){for(var a=[],t=l.length;t--;)a.push.apply(a,this.add(l[t]));return a},this.substractPoint=function(l){var a=this.pointIndex(l);if(a>=0)return this.ranges.splice(a,1)},this.merge=function(){var l=[],a=this.ranges;a=a.sort(function(i,o){return R(i.start,o.start)});for(var t=a[0],e,n=1;n<a.length;n++){e=t,t=a[n];var r=R(e.end,t.start);r<0||r==0&&!e.isEmpty()&&!t.isEmpty()||(R(e.end,t.end)<0&&(e.end.row=t.end.row,e.end.column=t.end.column),a.splice(n,1),l.push(t),t=e,n--)}return this.ranges=a,l},this.contains=function(l,a){return this.pointIndex({row:l,column:a})>=0},this.containsPoint=function(l){return this.pointIndex(l)>=0},this.rangeAtPoint=function(l){var a=this.pointIndex(l);if(a>=0)return this.ranges[a]},this.clipRows=function(l,a){var t=this.ranges;if(t[0].start.row>a||t[t.length-1].start.row<l)return[];var e=this.pointIndex({row:l,column:0});e<0&&(e=-e-1);var n=this.pointIndex({row:a,column:0},e);n<0&&(n=-n-1);for(var r=[],i=e;i<n;i++)r.push(t[i]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(l){this.session&&this.detach(),this.session=l,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(l){for(var a=l.start,t=l.end,e=a.row,n=t.row,r=this.ranges,i=0,o=r.length;i<o;i++){var h=r[i];if(h.end.row>=e)break}if(l.action=="insert")for(var p=n-e,y=-a.column+t.column;i<o;i++){var h=r[i];if(h.start.row>e)break;if(h.start.row==e&&h.start.column>=a.column&&(h.start.column==a.column&&this.$bias<=0||(h.start.column+=y,h.start.row+=p)),h.end.row==e&&h.end.column>=a.column){if(h.end.column==a.column&&this.$bias<0)continue;h.end.column==a.column&&y>0&&i<o-1&&h.end.column>h.start.column&&h.end.column==r[i+1].start.column&&(h.end.column-=y),h.end.column+=y,h.end.row+=p}}else for(var p=e-n,y=a.column-t.column;i<o;i++){var h=r[i];if(h.start.row>n)break;h.end.row<n&&(e<h.end.row||e==h.end.row&&a.column<h.end.column)?(h.end.row=e,h.end.column=a.column):h.end.row==n?h.end.column<=t.column?(p||h.end.column>a.column)&&(h.end.column=a.column,h.end.row=a.row):(h.end.column+=y,h.end.row+=p):h.end.row>n&&(h.end.row+=p),h.start.row<n&&(e<h.start.row||e==h.start.row&&a.column<h.start.column)?(h.start.row=e,h.start.column=a.column):h.start.row==n?h.start.column<=t.column?(p||h.start.column>a.column)&&(h.start.column=a.column,h.start.row=a.row):(h.start.column+=y,h.start.row+=p):h.start.row>n&&(h.start.row+=p)}if(p!=0&&i<o)for(;i<o;i++){var h=r[i];h.start.row+=p,h.end.row+=p}}}).call(d.prototype),M.RangeList=d}),define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(E,M,w){function C(n,r){n.row-=r.row,n.row==0&&(n.column-=r.column)}function R(n,r){C(n.start,r),C(n.end,r)}function d(n,r){n.row==0&&(n.column+=r.column),n.row+=r.row}function l(n,r){d(n.start,r),d(n.end,r)}var a=E("../range_list").RangeList,t=E("../lib/oop"),e=M.Fold=function(n,r){this.foldLine=null,this.placeholder=r,this.range=n,this.start=n.start,this.end=n.end,this.sameRow=n.start.row==n.end.row,this.subFolds=this.ranges=[]};t.inherits(e,a),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(r){r.setFoldLine(n)})},this.clone=function(){var n=this.range.clone(),r=new e(n,this.placeholder);return this.subFolds.forEach(function(i){r.subFolds.push(i.clone())}),r.collapseChildren=this.collapseChildren,r},this.addSubFold=function(n){if(!this.range.isEqual(n)){R(n,this.start);for(var p=n.start.row,y=n.start.column,r=0,i=-1;r<this.subFolds.length&&(i=this.subFolds[r].range.compare(p,y),i==1);r++);var o=this.subFolds[r],h=0;if(i==0){if(o.range.containsRange(n))return o.addSubFold(n);h=1}for(var p=n.range.end.row,y=n.range.end.column,L=r,i=-1;L<this.subFolds.length&&(i=this.subFolds[L].range.compare(p,y),i==1);L++);i==0&&L++;for(var m=this.subFolds.splice(r,L-r,n),s=i==0?m.length-1:m.length,f=h;f<s;f++)n.addSubFold(m[f]);return n.setFoldLine(this.foldLine),n}},this.restoreRange=function(n){return l(n,this.start)}}).call(e.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(E,M,w){function C(){this.getFoldAt=function(t,e,n){var r=this.getFoldLine(t);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var h=i[o].range;if(h.contains(t,e)){if(n==1&&h.isEnd(t,e)&&!h.isEmpty()||n==-1&&h.isStart(t,e)&&!h.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,r=this.$foldData,i=[];e.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var h=r[o].range.compareRange(t);if(h!=2){if(h==-2)break;for(var p=r[o].folds,y=0;y<p.length;y++){var L=p[y];if(h=L.range.compareRange(t),h==-2)break;if(h!=2){if(h==42)break;i.push(L)}}}}return e.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(r){e=e.concat(this.getFoldsInRange(r))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var r=0;r<e[n].folds.length;r++)t.push(e[n].folds[r]);return t},this.getFoldStringAt=function(t,e,n,r){if(r=r||this.getFoldLine(t),!r)return null;for(var i={end:{column:0}},o,h,p=0;p<r.folds.length;p++){h=r.folds[p];var y=h.range.compareEnd(t,e);if(y==-1){o=this.getLine(h.start.row).substring(i.end.column,h.start.column);break}if(y===0)return null;i=h}return o||(o=this.getLine(h.start.row).substring(i.end.column)),n==-1?o.substring(0,e-i.end.column):n==1?o.substring(e-i.end.column):o},this.getFoldLine=function(t,e){var n=this.$foldData,r=0;for(e&&(r=n.indexOf(e)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=t&&i.end.row>=t)return i;if(i.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,r=0;for(e&&(r=n.indexOf(e)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=t)return i}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,r=e-t+1,i=0;i<n.length;i++){var o=n[i],h=o.end.row,p=o.start.row;if(h>=e){p<e&&(p>=t?r-=e-p:r=0);break}h>=t&&(p>=t?r-=h-p:r-=h-t+1)}return r},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(e,n){return e.start.row-n.start.row}),t},this.addFold=function(t,e){var n=this.$foldData,r=!1,i;t instanceof l?i=t:(i=new l(e,t),i.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(i.range);var o=i.start.row,h=i.start.column,p=i.end.row,y=i.end.column,L=this.getFoldAt(o,h,1),m=this.getFoldAt(p,y,-1);if(L&&m==L)return L.addSubFold(i);L&&!L.range.isStart(o,h)&&this.removeFold(L),m&&!m.range.isEnd(p,y)&&this.removeFold(m);var s=this.getFoldsInRange(i.range);s.length>0&&(this.removeFolds(s),i.collapseChildren||s.forEach(function(v){i.addSubFold(v)}));for(var f=0;f<n.length;f++){var _=n[f];if(p==_.start.row){_.addFold(i),r=!0;break}if(o==_.end.row){if(_.addFold(i),r=!0,!i.sameRow){var g=n[f+1];if(g&&g.start.row==p){_.merge(g);break}}break}if(p<=_.start.row)break}return r||(_=this.$addFoldLine(new d(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(_.start.row,_.start.row):this.$updateRowLengthCache(_.start.row,_.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,r=e.end.row,i=this.$foldData,o=e.folds;if(o.length==1)i.splice(i.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var h=e.split(t.start.row,t.start.column);o=h.folds,o.shift(),h.start.row=o[0].start.row,h.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(r){this.removeFold(r)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(t,e){var n,r;if(t==null?(n=new R(0,0,this.getLength(),0),e==null&&(e=!0)):typeof t=="number"?n=new R(t,0,t,this.getLine(t).length):"row"in t?n=R.fromPoints(t,t):n=t,r=this.getFoldsInRangeList(n),e!=0?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,r,i){r==null&&(r=t.start.row),i==null&&(i=0),e==null&&(e=t.end.row),n==null&&(n=this.getLine(e).length);var o=this.doc,h="";return t.walk(function(p,y,L,m){if(!(y<r)){if(y==r){if(L<i)return;m=Math.max(i,m)}p!=null?h+=p:h+=o.getLine(y).substring(m,L)}},e,n),h},this.getDisplayLine=function(t,e,n,r){var i=this.getFoldLine(t);if(!i){var o;return o=this.doc.getLine(t),o.substring(r||0,e||o.length)}return this.getFoldDisplayLine(i,t,e,n,r)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(r){return r.clone()});return new d(t,n)}),t},this.toggleFold=function(t){var e=this.selection,n=e.getRange(),r,i;if(n.isEmpty()){var o=n.start;if(r=this.getFoldAt(o.row,o.column),r){this.expandFold(r);return}(i=this.findMatchingBracket(o))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:o.row,column:o.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(o.row,o.column)||n}else{var h=this.getFoldsInRange(n);if(t&&h.length){this.expandFolds(h);return}h.length==1&&(r=h[0])}if(r||(r=this.getFoldAt(n.start.row,n.start.column)),r&&r.range.toString()==n.toString()){this.expandFold(r);return}var p="...";if(!n.isMultiLine()){if(p=this.getTextRange(n),p.length<4)return;p=p.trim().substring(0,2)+".."}this.addFold(p,n)},this.getCommentFoldRange=function(t,e,n){var r=new a(this,t,e),i=r.getCurrentToken(),o=i&&i.type;if(i&&/^comment|string/.test(o)){o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start");var h=new RegExp(o),p=new R;if(n!=1){do i=r.stepBackward();while(i&&h.test(i.type));r.stepForward()}if(p.start.row=r.getCurrentTokenRow(),p.start.column=r.getCurrentTokenColumn()+2,r=new a(this,t,e),n!=-1){var y=-1;do if(i=r.stepForward(),y==-1){var L=this.getState(r.$row);h.test(L)||(y=r.$row)}else if(r.$row>y)break;while(i&&h.test(i.type));i=r.stepBackward()}else i=r.getCurrentToken();return p.end.row=r.getCurrentTokenRow(),p.end.column=r.getCurrentTokenColumn()+i.value.length-2,p}},this.foldAll=function(t,e,n,r){n==null&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength(),t=t||0;for(var o=t;o<e;o++)if(i[o]==null&&(i[o]=this.getFoldWidget(o)),i[o]=="start"&&!(r&&!r(o))){var h=this.getFoldWidgetRange(o);h&&h.isMultiLine()&&h.end.row<=e&&h.start.row>=t&&(o=h.end.row,h.collapseChildren=n,this.addFold("...",h))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,function(e){for(var n=t.getTokens(e),r=0;r<n.length;r++){var i=n[r];if(!(i.type=="text"&&/^\s+$/.test(i.value)))return!!/comment/.test(i.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,t=="manual"&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var r=t-1,i;r>=0;){var o=n[r];if(o==null&&(o=n[r]=this.getFoldWidget(r)),o=="start"){var h=this.getFoldWidgetRange(r);if(i||(i=h),h&&h.end.row>=t)break}r--}return{range:r!==-1&&h,firstRange:i}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var n={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},r=this.$toggleFoldWidget(t,n);if(!r){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),r=this.getLine(t),i=n==="end"?-1:1,o=this.getFoldAt(t,i===-1?0:r.length,i);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var h=this.getFoldWidgetRange(t,!0);if(h&&!h.isMultiLine()&&(o=this.getFoldAt(h.start.row,h.start.column,1),o&&h.isEqual(o.range)))return this.removeFold(o),o;if(e.siblings){var p=this.getParentFoldRangeData(t);if(p.range)var y=p.range.start.row+1,L=p.range.end.row;this.foldAll(y,L,e.all?1e4:0)}else e.children?(L=h?h.end.row:this.getLength(),this.foldAll(t+1,L,e.all?1e4:0)):h&&(e.all&&(h.collapseChildren=1e4),this.addFold("...",h));return h}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var r=this.getParentFoldRangeData(e,!0);if(n=r.range||r.firstRange,n){e=n.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(n===0)this.foldWidgets[e]=null;else if(t.action=="remove")this.foldWidgets.splice(e,n+1,null);else{var r=Array(n+1);r.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var R=E("../range").Range,d=E("./fold_line").FoldLine,l=E("./fold").Fold,a=E("../token_iterator").TokenIterator;M.Folding=C}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(E,M,w){function C(){this.findMatchingBracket=function(l,a){if(l.column==0)return null;var t=a||this.getLine(l.row).charAt(l.column-1);if(t=="")return null;var e=t.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],l):this.$findOpeningBracket(e[2],l):null},this.getBracketRange=function(l){var a=this.getLine(l.row),t=!0,e,n=a.charAt(l.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=a.charAt(l.column),l={row:l.row,column:l.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/),t=!1),!r)return null;if(r[1]){var i=this.$findClosingBracket(r[1],l);if(!i)return null;e=d.fromPoints(l,i),t||(e.end.column++,e.start.column--),e.cursor=e.end}else{var i=this.$findOpeningBracket(r[2],l);if(!i)return null;e=d.fromPoints(i,l),t||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.getMatchingBracketRanges=function(l){var a=this.getLine(l.row),t=a.charAt(l.column-1),e=t&&t.match(/([\(\[\{])|([\)\]\}])/);if(e||(t=a.charAt(l.column),l={row:l.row,column:l.column+1},e=t&&t.match(/([\(\[\{])|([\)\]\}])/)),!e)return null;var n=new d(l.row,l.column-1,l.row,l.column),r=e[1]?this.$findClosingBracket(e[1],l):this.$findOpeningBracket(e[2],l);if(!r)return[n];var i=new d(r.row,r.column,r.row,r.column+1);return[n,i]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(l,a,t){var e=this.$brackets[l],n=1,r=new R(this,a.row,a.column),i=r.getCurrentToken();if(i||(i=r.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var o=a.column-r.getCurrentTokenColumn()-2,h=i.value;;){for(;o>=0;){var p=h.charAt(o);if(p==e){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:o+r.getCurrentTokenColumn()}}else p==l&&(n+=1);o-=1}do i=r.stepBackward();while(i&&!t.test(i.type));if(i==null)break;h=i.value,o=h.length-1}return null}},this.$findClosingBracket=function(l,a,t){var e=this.$brackets[l],n=1,r=new R(this,a.row,a.column),i=r.getCurrentToken();if(i||(i=r.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var o=a.column-r.getCurrentTokenColumn();;){for(var h=i.value,p=h.length;o<p;){var y=h.charAt(o);if(y==e){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:o+r.getCurrentTokenColumn()}}else y==l&&(n+=1);o+=1}do i=r.stepForward();while(i&&!t.test(i.type));if(i==null)break;o=0}return null}}}var R=E("../token_iterator").TokenIterator,d=E("../range").Range;M.BracketMatch=C}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/lang"),d=E("./bidihandler").BidiHandler,l=E("./config"),a=E("./lib/event_emitter").EventEmitter,t=E("./selection").Selection,e=E("./mode/text").Mode,n=E("./range").Range,r=E("./document").Document,i=E("./background_tokenizer").BackgroundTokenizer,o=E("./search_highlight").SearchHighlight,h=function(p,y){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++h.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof p!="object"||!p.getLine)&&(p=new r(p)),this.setDocument(p),this.selection=new t(this),this.$bidiHandler=new d(this),l.resetOptions(this),this.setMode(y),l._signal("session",this)};h.$uid=0,(function(){function p(c){return c<4352?!1:c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510}C.implement(this,a),this.setDocument=function(c){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=c,c.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(c){if(!c){this.$docRowCache=[],this.$screenRowCache=[];return}var b=this.$docRowCache.length,k=this.$getRowCacheIndex(this.$docRowCache,c)+1;b>k&&(this.$docRowCache.splice(k,b),this.$screenRowCache.splice(k,b))},this.$getRowCacheIndex=function(c,b){for(var k=0,F=c.length-1;k<=F;){var x=k+F>>1,N=c[x];if(b>N)k=x+1;else{if(!(b<N))return x;F=x-1}}return k-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(c){var b=c.data;this.$resetRowCache(b.start.row)},this.onChange=function(c){this.$modified=!0,this.$bidiHandler.onChange(c),this.$resetRowCache(c.start.row);var b=this.$updateInternalDataOnChange(c);!this.$fromUndo&&this.$undoManager&&(b&&b.length&&(this.$undoManager.add({action:"removeFolds",folds:b},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(c,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(c),this._signal("change",c)},this.setValue=function(c){this.doc.setValue(c),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(c){return this.bgTokenizer.getState(c)},this.getTokens=function(c){return this.bgTokenizer.getTokens(c)},this.getTokenAt=function(c,b){var k=this.bgTokenizer.getTokens(c),F,x=0;if(b==null){var N=k.length-1;x=this.getLine(c).length}else for(var N=0;N<k.length&&(x+=k[N].value.length,!(x>=b));N++);return F=k[N],F?(F.index=N,F.start=x-F.value.length,F):null},this.setUndoManager=function(c){if(this.$undoManager=c,this.$informUndoManager&&this.$informUndoManager.cancel(),c){var b=this;c.addSession(this),this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.mergeUndoDeltas=!1},this.$informUndoManager=R.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?R.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(c){this.setOption("useSoftTabs",c)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(c){this.setOption("tabSize",c)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(c){return this.$useSoftTabs&&c.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(c){this.setOption("navigateWithinSoftTabs",c)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(c){this.setOption("overwrite",c)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(c,b){this.$decorations[c]||(this.$decorations[c]=""),this.$decorations[c]+=" "+b,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(c,b){this.$decorations[c]=(this.$decorations[c]||"").replace(" "+b,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(c){this.$breakpoints=[];for(var b=0;b<c.length;b++)this.$breakpoints[c[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(c,b){b===void 0&&(b="ace_breakpoint"),b?this.$breakpoints[c]=b:delete this.$breakpoints[c],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(c){delete this.$breakpoints[c],this._signal("changeBreakpoint",{})},this.addMarker=function(c,b,k,F){var x=this.$markerId++,N={range:c,type:k||"line",renderer:typeof k=="function"?k:null,clazz:b,inFront:!!F,id:x};return F?(this.$frontMarkers[x]=N,this._signal("changeFrontMarker")):(this.$backMarkers[x]=N,this._signal("changeBackMarker")),x},this.addDynamicMarker=function(c,b){if(c.update){var k=this.$markerId++;return c.id=k,c.inFront=!!b,b?(this.$frontMarkers[k]=c,this._signal("changeFrontMarker")):(this.$backMarkers[k]=c,this._signal("changeBackMarker")),c}},this.removeMarker=function(c){var b=this.$frontMarkers[c]||this.$backMarkers[c];if(b){var k=b.inFront?this.$frontMarkers:this.$backMarkers;delete k[c],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(c){return c?this.$frontMarkers:this.$backMarkers},this.highlight=function(c){if(!this.$searchHighlight){var b=new o(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(c)},this.highlightLines=function(c,b,k,F){typeof b!="number"&&(k=b,b=c),k||(k="ace_step");var x=new n(c,0,b,1/0);return x.id=this.addMarker(x,k,"fullLine",F),x},this.setAnnotations=function(c){this.$annotations=c,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(c){var b=c.match(/^.*?(\r?\n)/m);b?this.$autoNewLine=b[1]:this.$autoNewLine=`
`},this.getWordRange=function(c,b){var k=this.getLine(c),F=!1;if(b>0&&(F=!!k.charAt(b-1).match(this.tokenRe)),F||(F=!!k.charAt(b).match(this.tokenRe)),F)var x=this.tokenRe;else if(/^\s+$/.test(k.slice(b-1,b+1)))var x=/\s/;else var x=this.nonTokenRe;var N=b;if(N>0){do N--;while(N>=0&&k.charAt(N).match(x));N++}for(var G=b;G<k.length&&k.charAt(G).match(x);)G++;return new n(c,N,c,G)},this.getAWordRange=function(c,b){for(var k=this.getWordRange(c,b),F=this.getLine(k.end.row);F.charAt(k.end.column).match(/[ \t]/);)k.end.column+=1;return k},this.setNewLineMode=function(c){this.doc.setNewLineMode(c)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(c){this.setOption("useWorker",c)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(c){var b=c.data;this.bgTokenizer.start(b.first),this._signal("tokenizerUpdate",c)},this.$modes=l.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(c,b){if(c&&typeof c=="object"){if(c.getTokenizer)return this.$onChangeMode(c);var k=c,F=k.path}else F=c||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new e),this.$modes[F]&&!k){this.$onChangeMode(this.$modes[F]),b&&b();return}this.$modeId=F,l.loadModule(["mode",F],(function(x){if(this.$modeId!==F)return b&&b();this.$modes[F]&&!k?this.$onChangeMode(this.$modes[F]):x&&x.Mode&&(x=new x.Mode(k),k||(this.$modes[F]=x,x.$id=F),this.$onChangeMode(x)),b&&b()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(c,b){if(b||(this.$modeId=c.$id),this.$mode!==c){var k=this.$mode;this.$mode=c,this.$stopWorker(),this.$useWorker&&this.$startWorker();var F=c.getTokenizer();if(F.on!==void 0){var x=this.onReloadTokenizer.bind(this);F.on("update",x)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(F);else{this.bgTokenizer=new i(F);var N=this;this.bgTokenizer.on("update",function(G){N._signal("tokenizerUpdate",G)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=c.tokenRe,this.nonTokenRe=c.nonTokenRe,b||(c.attachToSession&&c.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(c.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:k,mode:c}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(c){l.warn("Could not load worker",c),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(c){this.$scrollTop===c||isNaN(c)||(this.$scrollTop=c,this._signal("changeScrollTop",c))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(c){this.$scrollLeft===c||isNaN(c)||(this.$scrollLeft=c,this._signal("changeScrollLeft",c))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var c=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>c&&(c=b.screenWidth)}),this.lineWidgetWidth=c},this.$computeWidth=function(c){if(this.$modified||c){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var b=this.doc.getAllLines(),k=this.$rowLengthCache,F=0,x=0,N=this.$foldData[x],G=N?N.start.row:1/0,q=b.length,ne=0;ne<q;ne++){if(ne>G){if(ne=N.end.row+1,ne>=q)break;N=this.$foldData[x++],G=N?N.start.row:1/0}k[ne]==null&&(k[ne]=this.$getStringScreenWidth(b[ne])[0]),k[ne]>F&&(F=k[ne])}this.screenWidth=F}},this.getLine=function(c){return this.doc.getLine(c)},this.getLines=function(c,b){return this.doc.getLines(c,b)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(c){return this.doc.getTextRange(c||this.selection.getRange())},this.insert=function(c,b){return this.doc.insert(c,b)},this.remove=function(c){return this.doc.remove(c)},this.removeFullLines=function(c,b){return this.doc.removeFullLines(c,b)},this.undoChanges=function(c,b){if(c.length){this.$fromUndo=!0;for(var k=c.length-1;k!=-1;k--){var F=c[k];F.action=="insert"||F.action=="remove"?this.doc.revertDelta(F):F.folds&&this.addFolds(F.folds)}!b&&this.$undoSelect&&(c.selectionBefore?this.selection.fromJSON(c.selectionBefore):this.selection.setRange(this.$getUndoSelection(c,!0))),this.$fromUndo=!1}},this.redoChanges=function(c,b){if(c.length){this.$fromUndo=!0;for(var k=0;k<c.length;k++){var F=c[k];(F.action=="insert"||F.action=="remove")&&this.doc.$safeApplyDelta(F)}!b&&this.$undoSelect&&(c.selectionAfter?this.selection.fromJSON(c.selectionAfter):this.selection.setRange(this.$getUndoSelection(c,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(c){this.$undoSelect=c},this.$getUndoSelection=function(c,b){function k(q){return b?q.action!=="insert":q.action==="insert"}for(var F,x,N=0;N<c.length;N++){var G=c[N];if(G.start){if(!F){k(G)?F=n.fromPoints(G.start,G.end):F=n.fromPoints(G.start,G.start);continue}k(G)?(x=G.start,F.compare(x.row,x.column)==-1&&F.setStart(x),x=G.end,F.compare(x.row,x.column)==1&&F.setEnd(x)):(x=G.start,F.compare(x.row,x.column)==-1&&(F=n.fromPoints(G.start,G.start)))}}return F},this.replace=function(c,b){return this.doc.replace(c,b)},this.moveText=function(c,b,k){var F=this.getTextRange(c),x=this.getFoldsInRange(c),N=n.fromPoints(b,b);if(!k){this.remove(c);var G=c.start.row-c.end.row,q=G?-c.end.column:c.start.column-c.end.column;q&&(N.start.row==c.end.row&&N.start.column>c.end.column&&(N.start.column+=q),N.end.row==c.end.row&&N.end.column>c.end.column&&(N.end.column+=q)),G&&N.start.row>=c.end.row&&(N.start.row+=G,N.end.row+=G)}if(N.end=this.insert(N.start,F),x.length){var ne=c.start,Z=N.start,G=Z.row-ne.row,q=Z.column-ne.column;this.addFolds(x.map(function(ee){return ee=ee.clone(),ee.start.row==ne.row&&(ee.start.column+=q),ee.end.row==ne.row&&(ee.end.column+=q),ee.start.row+=G,ee.end.row+=G,ee}))}return N},this.indentRows=function(c,b,k){k=k.replace(/\t/g,this.getTabString());for(var F=c;F<=b;F++)this.doc.insertInLine({row:F,column:0},k)},this.outdentRows=function(c){for(var b=c.collapseRows(),k=new n(0,0,0,0),F=this.getTabSize(),x=b.start.row;x<=b.end.row;++x){var N=this.getLine(x);k.start.row=x,k.end.row=x;for(var G=0;G<F&&N.charAt(G)==" ";++G);G<F&&N.charAt(G)=="	"?(k.start.column=G,k.end.column=G+1):(k.start.column=0,k.end.column=G),this.remove(k)}},this.$moveLines=function(c,b,k){if(c=this.getRowFoldStart(c),b=this.getRowFoldEnd(b),k<0){var F=this.getRowFoldStart(c+k);if(F<0)return 0;var x=F-c}else if(k>0){var F=this.getRowFoldEnd(b+k);if(F>this.doc.getLength()-1)return 0;var x=F-b}else{c=this.$clipRowToDocument(c),b=this.$clipRowToDocument(b);var x=b-c+1}var N=new n(c,0,b,Number.MAX_VALUE),G=this.getFoldsInRange(N).map(function(ne){return ne=ne.clone(),ne.start.row+=x,ne.end.row+=x,ne}),q=k==0?this.doc.getLines(c,b):this.doc.removeFullLines(c,b);return this.doc.insertFullLines(c+x,q),G.length&&this.addFolds(G),x},this.moveLinesUp=function(c,b){return this.$moveLines(c,b,-1)},this.moveLinesDown=function(c,b){return this.$moveLines(c,b,1)},this.duplicateLines=function(c,b){return this.$moveLines(c,b,0)},this.$clipRowToDocument=function(c){return Math.max(0,Math.min(c,this.doc.getLength()-1))},this.$clipColumnToRow=function(c,b){return b<0?0:Math.min(this.doc.getLine(c).length,b)},this.$clipPositionToDocument=function(c,b){if(b=Math.max(0,b),c<0)c=0,b=0;else{var k=this.doc.getLength();c>=k?(c=k-1,b=this.doc.getLine(k-1).length):b=Math.min(this.doc.getLine(c).length,b)}return{row:c,column:b}},this.$clipRangeToDocument=function(c){c.start.row<0?(c.start.row=0,c.start.column=0):c.start.column=this.$clipColumnToRow(c.start.row,c.start.column);var b=this.doc.getLength()-1;return c.end.row>b?(c.end.row=b,c.end.column=this.doc.getLine(b).length):c.end.column=this.$clipColumnToRow(c.end.row,c.end.column),c},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(c){if(c!=this.$useWrapMode){if(this.$useWrapMode=c,this.$modified=!0,this.$resetRowCache(0),c){var b=this.getLength();this.$wrapData=Array(b),this.$updateWrapData(0,b-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(c,b){(this.$wrapLimitRange.min!==c||this.$wrapLimitRange.max!==b)&&(this.$wrapLimitRange={min:c,max:b},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(c,b){var k=this.$wrapLimitRange;k.max<0&&(k={min:b,max:b});var F=this.$constrainWrapLimit(c,k.min,k.max);return F!=this.$wrapLimit&&F>1?(this.$wrapLimit=F,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(c,b,k){return b&&(c=Math.max(b,c)),k&&(c=Math.min(k,c)),c},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(c){this.setWrapLimitRange(c,c)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(c){var b=this.$useWrapMode,k=c.action,F=c.start,x=c.end,N=F.row,G=x.row,q=G-N,ne=null;if(this.$updating=!0,q!=0)if(k==="remove"){this[b?"$wrapData":"$rowLengthCache"].splice(N,q);var Z=this.$foldData;ne=this.getFoldsInRange(c),this.removeFolds(ne);var K=this.getFoldLine(x.row),X=0;if(K){K.addRemoveChars(x.row,x.column,F.column-x.column),K.shiftRow(-q);var ee=this.getFoldLine(N);ee&&ee!==K&&(ee.merge(K),K=ee),X=Z.indexOf(K)+1}for(X;X<Z.length;X++){var K=Z[X];K.start.row>=x.row&&K.shiftRow(-q)}G=N}else{var ie=Array(q);ie.unshift(N,0);var le=b?this.$wrapData:this.$rowLengthCache;le.splice.apply(le,ie);var Z=this.$foldData,K=this.getFoldLine(N),X=0;if(K){var ce=K.range.compareInside(F.row,F.column);ce==0?(K=K.split(F.row,F.column),K&&(K.shiftRow(q),K.addRemoveChars(G,0,x.column-F.column))):ce==-1&&(K.addRemoveChars(N,0,x.column-F.column),K.shiftRow(q)),X=Z.indexOf(K)+1}for(X;X<Z.length;X++){var K=Z[X];K.start.row>=N&&K.shiftRow(q)}}else{q=Math.abs(c.start.column-c.end.column),k==="remove"&&(ne=this.getFoldsInRange(c),this.removeFolds(ne),q=-q);var K=this.getFoldLine(N);K&&K.addRemoveChars(N,F.column,q)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,b?this.$updateWrapData(N,G):this.$updateRowLengthCache(N,G),ne},this.$updateRowLengthCache=function(c,b,k){this.$rowLengthCache[c]=null,this.$rowLengthCache[b]=null},this.$updateWrapData=function(c,b){var k=this.doc.getAllLines(),F=this.getTabSize(),x=this.$wrapData,N=this.$wrapLimit,G,q,ne=c;for(b=Math.min(b,k.length-1);ne<=b;)q=this.getFoldLine(ne,q),q?(G=[],q.walk((function(Z,K,X,ee){var ie;if(Z!=null){ie=this.$getDisplayTokens(Z,G.length),ie[0]=m;for(var le=1;le<ie.length;le++)ie[le]=s}else ie=this.$getDisplayTokens(k[K].substring(ee,X),G.length);G=G.concat(ie)}).bind(this),q.end.row,k[q.end.row].length+1),x[q.start.row]=this.$computeWrapSplits(G,N,F),ne=q.end.row+1):(G=this.$getDisplayTokens(k[ne]),x[ne]=this.$computeWrapSplits(G,N,F),ne++)};var y=1,L=2,m=3,s=4,f=9,_=10,g=11,v=12;this.$computeWrapSplits=function(c,b,k){function F(){var ce=0;if(X===0)return ce;if(K)for(var ye=0;ye<c.length;ye++){var pe=c[ye];if(pe==_)ce+=1;else{if(pe!=g){if(pe==v)continue;break}ce+=k}}return Z&&K!==!1&&(ce+=k),Math.min(ce,X)}function x(ce){for(var ye=ce-q,pe=q;pe<ce;pe++){var Se=c[pe];(Se===12||Se===2)&&(ye-=1)}N.length||(ee=F(),N.indent=ee),ne+=ye,N.push(ne),q=ce}if(c.length==0)return[];for(var N=[],G=c.length,q=0,ne=0,Z=this.$wrapAsCode,K=this.$indentedSoftWrap,X=b<=Math.max(2*k,8)||K===!1?0:Math.floor(b/2),ee=0;G-q>b-ee;){var ie=q+b-ee;if(c[ie-1]>=_&&c[ie]>=_){x(ie);continue}if(c[ie]==m||c[ie]==s){for(ie;ie!=q-1&&c[ie]!=m;ie--);if(ie>q){x(ie);continue}for(ie=q+b,ie;ie<c.length&&c[ie]==s;ie++);if(ie==c.length)break;x(ie);continue}for(var le=Math.max(ie-(b-(b>>2)),q-1);ie>le&&c[ie]<m;)ie--;if(Z){for(;ie>le&&c[ie]<m;)ie--;for(;ie>le&&c[ie]==f;)ie--}else for(;ie>le&&c[ie]<_;)ie--;if(ie>le){x(++ie);continue}ie=q+b,c[ie]==L&&ie--,x(ie-ee)}return N},this.$getDisplayTokens=function(c,b){var k=[],F;b=b||0;for(var x=0;x<c.length;x++){var N=c.charCodeAt(x);if(N==9){F=this.getScreenTabSize(k.length+b),k.push(g);for(var G=1;G<F;G++)k.push(v)}else N==32?k.push(_):N>39&&N<48||N>57&&N<64?k.push(f):N>=4352&&p(N)?k.push(y,L):k.push(y)}return k},this.$getStringScreenWidth=function(c,b,k){if(b==0)return[0,0];b==null&&(b=1/0),k=k||0;var F,x;for(x=0;x<c.length&&(F=c.charCodeAt(x),F==9?k+=this.getScreenTabSize(k):F>=4352&&p(F)?k+=2:k+=1,!(k>b));x++);return[k,x]},this.lineWidgets=null,this.getRowLength=function(c){var b=1;return this.lineWidgets&&(b+=this.lineWidgets[c]&&this.lineWidgets[c].rowCount||0),!this.$useWrapMode||!this.$wrapData[c]?b:this.$wrapData[c].length+b},this.getRowLineCount=function(c){return!this.$useWrapMode||!this.$wrapData[c]?1:this.$wrapData[c].length+1},this.getRowWrapIndent=function(c){if(this.$useWrapMode){var b=this.screenToDocumentPosition(c,Number.MAX_VALUE),k=this.$wrapData[b.row];return k.length&&k[0]<b.column?k.indent:0}return 0},this.getScreenLastRowColumn=function(c){var b=this.screenToDocumentPosition(c,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},this.getDocumentLastRowColumn=function(c,b){var k=this.documentToScreenRow(c,b);return this.getScreenLastRowColumn(k)},this.getDocumentLastRowColumnPosition=function(c,b){var k=this.documentToScreenRow(c,b);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10)},this.getRowSplitData=function(c){return this.$useWrapMode?this.$wrapData[c]:void 0},this.getScreenTabSize=function(c){return this.$tabSize-(c%this.$tabSize|0)},this.screenToDocumentRow=function(c,b){return this.screenToDocumentPosition(c,b).row},this.screenToDocumentColumn=function(c,b){return this.screenToDocumentPosition(c,b).column},this.screenToDocumentPosition=function(c,b,k){if(c<0)return{row:0,column:0};var F,X=0,x=0,N,K=0,G=0,q=this.$screenRowCache,ne=this.$getRowCacheIndex(q,c),Z=q.length;if(Z&&ne>=0)var K=q[ne],X=this.$docRowCache[ne],ee=c>q[Z-1];else var ee=!Z;for(var ie=this.getLength()-1,le=this.getNextFoldLine(X),ce=le?le.start.row:1/0;K<=c&&(G=this.getRowLength(X),!(K+G>c||X>=ie));)K+=G,X++,X>ce&&(X=le.end.row+1,le=this.getNextFoldLine(X,le),ce=le?le.start.row:1/0),ee&&(this.$docRowCache.push(X),this.$screenRowCache.push(K));if(le&&le.start.row<=X)F=this.getFoldDisplayLine(le),X=le.start.row;else{if(K+G<=c||X>ie)return{row:ie,column:this.getLine(ie).length};F=this.getLine(X),le=null}var ye=0,pe=Math.floor(c-K);if(this.$useWrapMode){var Se=this.$wrapData[X];Se&&(N=Se[pe],pe>0&&Se.length&&(ye=Se.indent,x=Se[pe-1]||Se[Se.length-1],F=F.substring(x)))}return k!==void 0&&this.$bidiHandler.isBidiRow(K+pe,X,pe)&&(b=this.$bidiHandler.offsetToCol(k)),x+=this.$getStringScreenWidth(F,b-ye)[1],this.$useWrapMode&&x>=N&&(x=N-1),le?le.idxToPosition(x):{row:X,column:x}},this.documentToScreenPosition=function(c,b){if(typeof b>"u")var k=this.$clipPositionToDocument(c.row,c.column);else k=this.$clipPositionToDocument(c,b);c=k.row,b=k.column;var K=0,F=null,x=null;x=this.getFoldAt(c,b,1),x&&(c=x.start.row,b=x.start.column);var N,Z=0,G=this.$docRowCache,q=this.$getRowCacheIndex(G,c),ne=G.length;if(ne&&q>=0)var Z=G[q],K=this.$screenRowCache[q],X=c>G[ne-1];else var X=!ne;for(var ee=this.getNextFoldLine(Z),ie=ee?ee.start.row:1/0;Z<c;){if(Z>=ie){if(N=ee.end.row+1,N>c)break;ee=this.getNextFoldLine(N,ee),ie=ee?ee.start.row:1/0}else N=Z+1;K+=this.getRowLength(Z),Z=N,X&&(this.$docRowCache.push(Z),this.$screenRowCache.push(K))}var le="";ee&&Z>=ie?(le=this.getFoldDisplayLine(ee,c,b),F=ee.start.row):(le=this.getLine(c).substring(0,b),F=c);var ce=0;if(this.$useWrapMode){var ye=this.$wrapData[F];if(ye){for(var pe=0;le.length>=ye[pe];)K++,pe++;le=le.substring(ye[pe-1]||0,le.length),ce=pe>0?ye.indent:0}}return this.lineWidgets&&this.lineWidgets[Z]&&this.lineWidgets[Z].rowsAbove&&(K+=this.lineWidgets[Z].rowsAbove),{row:K,column:ce+this.$getStringScreenWidth(le)[0]}},this.documentToScreenColumn=function(c,b){return this.documentToScreenPosition(c,b).column},this.documentToScreenRow=function(c,b){return this.documentToScreenPosition(c,b).row},this.getScreenLength=function(){var c=0,b=null;if(this.$useWrapMode)for(var x=this.$wrapData.length,N=0,F=0,b=this.$foldData[F++],G=b?b.start.row:1/0;N<x;){var q=this.$wrapData[N];c+=q?q.length+1:1,N++,N>G&&(N=b.end.row+1,b=this.$foldData[F++],G=b?b.start.row:1/0)}else{c=this.getLength();for(var k=this.$foldData,F=0;F<k.length;F++)b=k[F],c-=b.end.row-b.start.row}return this.lineWidgets&&(c+=this.$getWidgetScreenLength()),c},this.$setFontMetrics=function(c){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,k,F){if(k===0)return[0,0];k||(k=1/0),F=F||0;var x,N;for(N=0;N<b.length&&(x=b.charAt(N),x==="	"?F+=this.getScreenTabSize(F):F+=c.getCharacterWidth(x),!(F>k));N++);return[F,N]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=p}).call(h.prototype),E("./edit_session/folding").Folding.call(h.prototype),E("./edit_session/bracket_match").BracketMatch.call(h.prototype),l.defineOptions(h.prototype,"session",{wrap:{set:function(p){if(!p||p=="off"?p=!1:p=="free"?p=!0:p=="printMargin"?p=-1:typeof p=="string"&&(p=parseInt(p,10)||!1),this.$wrap!=p)if(this.$wrap=p,!p)this.setUseWrapMode(!1);else{var y=typeof p=="number"?p:null;this.setWrapLimitRange(y,y),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(p){p=p=="auto"?this.$mode.type!="text":p!="text",p!=this.$wrapAsCode&&(this.$wrapAsCode=p,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(p){this.$useWorker=p,this.$stopWorker(),p&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(p){p=parseInt(p),p>0&&this.$tabSize!==p&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=p,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(p){this.setFoldStyle(p)},handlesSet:!0},overwrite:{set:function(p){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(p){this.doc.setNewLineMode(p)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(p){this.setMode(p)},get:function(){return this.$modeId},handlesSet:!0}}),M.EditSession=h}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(E,M,w){function C(t,e){function n(r){return/\w/.test(r)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}var R=E("./lib/lang"),d=E("./lib/oop"),l=E("./range").Range,a=function(){this.$options={}};(function(){this.set=function(t){return d.mixin(this.$options,t),this},this.getOptions=function(){return R.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var r=null;return n.forEach(function(i,o,h,p){return r=new l(i,o,h,p),o==p&&e.start&&e.start.start&&e.skipCurrent!=0&&r.isEqual(e.start)?(r=null,!1):!0}),r},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),i=[],o=e.re;if(e.$isMultiLine){var h=o.length,p=r.length-h,y;e:for(var L=o.offset||0;L<=p;L++){for(var m=0;m<h;m++)if(r[L+m].search(o[m])==-1)continue e;var s=r[L],f=r[L+h-1],_=s.length-s.match(o[0])[0].length,g=f.match(o[h-1])[0].length;y&&y.end.row===L&&y.end.column>_||(i.push(y=new l(L,_,L+h-1,g)),h>2&&(L=L+h-2))}}else for(var v=0;v<r.length;v++)for(var c=R.getMatchOffsets(r[v],o),m=0;m<c.length;m++){var b=c[m];i.push(new l(v,b.offset,v,b.offset+b.length))}if(n){for(var k=n.start.column,F=n.start.column,v=0,m=i.length-1;v<m&&i[v].start.column<k&&i[v].start.row==n.start.row;)v++;for(;v<m&&i[m].end.column>F&&i[m].end.row==n.end.row;)m--;for(i=i.slice(v,m+1),v=0,m=i.length;v<m;v++)i[v].start.row+=n.start.row,i[v].end.row+=n.start.row}return i},this.replace=function(t,e){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(r){var i=r.exec(t);if(!i||i[0].length!=t.length)return null;if(e=t.replace(r,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var h=t[o];h&&h.toLowerCase()!=h?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=R.escapeRegExp(n)),t.wholeWord&&(n=C(n,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,r);try{var i=new RegExp(n,r)}catch{i=!1}return t.re=i},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],e))}catch{return!1}return r},this.$matchIterator=function(t,e){var n=this.$assembleRegExp(e);if(!n)return!1;var r=e.backwards==1,i=e.skipCurrent!=0,o=e.range,h=e.start;h||(h=o?o[r?"end":"start"]:t.selection.getRange()),h.start&&(h=h[i!=r?"end":"start"]);var p=o?o.start.row:0,y=o?o.end.row:t.getLength()-1;if(r)var L=function(f){var _=h.row;if(!s(_,h.column,f)){for(_--;_>=p;_--)if(s(_,Number.MAX_VALUE,f))return;if(e.wrap!=0){for(_=y,p=h.row;_>=p;_--)if(s(_,Number.MAX_VALUE,f))return}}};else var L=function(f){var _=h.row;if(!s(_,h.column,f)){for(_+=1;_<=y;_++)if(s(_,0,f))return;if(e.wrap!=0){for(_=p,y=h.row;_<=y;_++)if(s(_,0,f))return}}};if(e.$isMultiLine)var m=n.length,s=function(f,_,g){var v=r?f-m+1:f;if(!(v<0)){var c=t.getLine(v),b=c.search(n[0]);if(!(!r&&b<_||b===-1)){for(var k=1;k<m;k++)if(c=t.getLine(v+k),c.search(n[k])==-1)return;var F=c.match(n[m-1])[0].length;if(!(r&&F>_)&&g(v,b,v+m-1,F))return!0}}};else if(r)var s=function(f,_,g){var v=t.getLine(f),c=[],b,k=0;for(n.lastIndex=0;b=n.exec(v);){var F=b[0].length;if(k=b.index,!F){if(k>=v.length)break;n.lastIndex=k+=1}if(b.index+F>_)break;c.push(b.index,F)}for(var x=c.length-1;x>=0;x-=2){var N=c[x-1],F=c[x];if(g(f,N,f,N+F))return!0}};else var s=function(f,_,g){var v=t.getLine(f),c,b;for(n.lastIndex=_;b=n.exec(v);){var k=b[0].length;if(c=b.index,g(f,c,f,c+k))return!0;if(!k&&(n.lastIndex=c+=1,c>=v.length))return!1}};return{forEach:L}}}).call(a.prototype),M.Search=a}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(E,M,w){function C(t,e){this.platform=e||(l.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function R(t,e){C.call(this,t,e),this.$singleCommand=!1}var d=E("../lib/keys"),l=E("../lib/useragent"),a=d.KEY_MODS;R.prototype=C.prototype,(function(){function t(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,n){var r=e&&(typeof e=="string"?e:e.name);e=this.commands[r],n||delete this.commands[r];var i=this.commandKeyBinding;for(var o in i){var h=i[o];if(h==e)delete i[o];else if(Array.isArray(h)){var p=h.indexOf(e);p!=-1&&(h.splice(p,1),h.length==1&&(i[o]=h[0]))}}},this.bindKey=function(e,n,r){if(typeof e=="object"&&e&&(r==null&&(r=e.position),e=e[this.platform]),!!e){if(typeof n=="function")return this.addCommand({exec:n,bindKey:e,name:n.name||e});e.split("|").forEach(function(i){var o="";if(i.indexOf(" ")!=-1){var h=i.split(/\s+/);i=h.pop(),h.forEach(function(L){var m=this.parseKeys(L),s=a[m.hashId]+m.key;o+=(o?" ":"")+s,this._addCommandToBinding(o,"chainKeys")},this),o+=" "}var p=this.parseKeys(i),y=a[p.hashId]+p.key;this._addCommandToBinding(o+y,n,r)},this)}},this._addCommandToBinding=function(e,n,r){var i=this.commandKeyBinding,o;if(!n)delete i[e];else if(!i[e]||this.$singleCommand)i[e]=n;else{Array.isArray(i[e])?(o=i[e].indexOf(n))!=-1&&i[e].splice(o,1):i[e]=[i[e]],typeof r!="number"&&(r=t(n));var h=i[e];for(o=0;o<h.length;o++){var p=h[o],y=t(p);if(y>r)break}h.splice(o,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(n){var r=e[n];if(r){if(typeof r=="string")return this.bindKey(r,n);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=n),this.addCommand(r))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(n){this.removeCommand(e[n])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(n){this.bindKey(n,e[n])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var n=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(y){return y}),r=n.pop(),i=d[r];if(d.FUNCTION_KEYS[i])r=d.FUNCTION_KEYS[i].toLowerCase();else{if(!n.length)return{key:r,hashId:-1};if(n.length==1&&n[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}for(var o=0,h=n.length;h--;){var p=d.KEY_MODS[n[h]];if(p==null)return typeof console<"u"&&console.error("invalid modifier "+n[h]+" in "+e),!1;o|=p}return{key:r,hashId:o}},this.findKeyCommand=function(e,n){var r=a[e]+n;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,n,r,i){if(!(i<0)){var o=a[n]+r,h=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,h=this.commandKeyBinding[e.$keyChain]||h),h&&(h=="chainKeys"||h[h.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||o,{command:"null"}):(e.$keyChain&&(n&&n!=4||r.length!=1?(n==-1||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:h})}},this.getStatusText=function(e,n){return n.$keyChain||""}}).call(C.prototype),M.HashHandler=C,M.MultiHashHandler=R}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(E,M,w){var C=E("../lib/oop"),R=E("../keyboard/hash_handler").MultiHashHandler,d=E("../lib/event_emitter").EventEmitter,l=function(a,t){R.call(this,t,a),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};C.inherits(l,R),(function(){C.implement(this,d),this.exec=function(a,t,e){if(Array.isArray(a)){for(var n=a.length;n--;)if(this.exec(a[n],t,e))return!0;return!1}if(typeof a=="string"&&(a=this.commands[a]),!a||t&&t.$readOnly&&!a.readOnly||this.$checkCommandState!=0&&a.isAvailable&&!a.isAvailable(t))return!1;var r={editor:t,command:a,args:e};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1},this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(a){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,a):this.exec(t[0],a,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(a){return a.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}).call(l.prototype),M.CommandManager=l}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(E,M,w){function C(t,e){return{win:t,mac:e}}var R=E("../lib/lang"),d=E("../config"),l=E("../range").Range;M.commands=[{name:"showSettingsMenu",bindKey:C("Ctrl-,","Command-,"),exec:function(t){d.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:C("Alt-E","F4"),exec:function(t){d.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:C("Alt-Shift-E","Shift-F4"),exec:function(t){d.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:C("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:C(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:C("Ctrl-L","Command-L"),exec:function(t,e){typeof e=="number"&&!isNaN(e)&&t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:C("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:C("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:C("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:C("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:C(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:C(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:C("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:C("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:C("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:C("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:C("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:C("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:C("Ctrl-F","Command-F"),exec:function(t){d.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:C("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:C("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:C("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:C("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:C("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:C("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:C("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:C("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:C("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:C("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:C("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:C("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:C("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:C("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:C("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:C("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:C("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:C("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:C("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:C("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:C(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:C("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:C(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:C("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:C("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:C("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:C("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:C("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:C("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:C("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:C(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty(),n=e?t.selection.getLineRange():t.selection.getRange();t._emit("cut",n),n.isEmpty()||t.session.remove(n),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:C("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:C("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:C("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:C("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:C("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:C("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:C("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:C("Ctrl-H","Command-Option-F"),exec:function(t){d.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:C("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:C("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:C("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:C("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:C("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:C("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:C("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:C("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:C("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:C("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:C("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:C("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:C("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:C("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:C("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:C("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:C("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:C("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:C("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(R.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:C(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:C("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:C("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:C("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:C(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:C("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:C(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),i=t.session.doc.getLine(n.row).length,o=t.session.doc.getTextRange(t.selection.getRange()),h=o.replace(/\n\s*/," ").length,p=t.session.doc.getLine(n.row),y=n.row+1;y<=r.row+1;y++){var L=R.stringTrimLeft(R.stringTrimRight(t.session.doc.getLine(y)));L.length!==0&&(L=" "+L),p+=L}r.row+1<t.session.doc.getLength()-1&&(p+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new l(n.row,0,r.row+2,0),p),h>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+h)):(i=t.session.doc.getLine(n.row).length>i?i+1:i,t.selection.moveCursorTo(n.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:C(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,r=t.selection.rangeList.ranges,i=[];r.length<1&&(r=[t.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==e||r[o].end.column!==n)&&i.push(new l(r[o].end.row,r[o].end.column,e,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new l(0,0,r[o].start.row,r[o].start.column)):i.push(new l(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var o=0;o<i.length;o++)t.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(t){t.selection.clearSelection();var e=t.getCursorPosition();t.selection.moveTo(e.row-1,Number.MAX_VALUE),t.insert(`
`),e.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:C("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:C(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)M.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(E,M,w){E("./lib/fixoldbrowsers");var C=E("./lib/oop"),R=E("./lib/dom"),d=E("./lib/lang"),l=E("./lib/useragent"),a=E("./keyboard/textinput").TextInput,t=E("./mouse/mouse_handler").MouseHandler,e=E("./mouse/fold_handler").FoldHandler,n=E("./keyboard/keybinding").KeyBinding,r=E("./edit_session").EditSession,i=E("./search").Search,o=E("./range").Range,h=E("./lib/event_emitter").EventEmitter,p=E("./commands/command_manager").CommandManager,y=E("./commands/default_commands").commands,L=E("./config"),m=E("./token_iterator").TokenIterator,s=E("./clipboard"),f=function(g,v,c){this.$toDestroy=[];var b=g.getContainerElement();this.container=b,this.renderer=g,this.id="editor"+ ++f.$uid,this.commands=new p(l.isMac?"mac":"win",y),typeof document=="object"&&(this.textInput=new a(g.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new t(this),new e(this)),this.keyBinding=new n(this),this.$search=new i().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=d.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(k,F){F._$emitInputEvent.schedule(31)}),this.setSession(v||c&&c.session||new r("")),L.resetOptions(this),c&&this.setOptions(c),L._signal("editor",this)};f.$uid=0,(function(){C.implement(this,h),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=d.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(g){if(this.curOp){if(!g||this.curOp.command)return;this.prevOp=this.curOp}g||(this.previousCommand=null,g={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:g.command||{},args:g.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(g){if(this.curOp&&this.session){if(g&&g.returnValue===!1||!this.session)return this.curOp=null;if(g==1&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var v=this.curOp.command,c=v&&v.scrollIntoView;if(c){switch(c){case"center-animate":c="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var b=this.selection.getRange(),k=this.renderer.layerConfig;(b.start.row>=k.lastRow||b.end.row<=k.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}c=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var F=this.selection.toJSON();this.curOp.selectionAfter=F,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(F),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(g){if(this.$mergeUndoDeltas){var v=this.prevOp,c=this.$mergeableCommands,b=v.command&&g.command.name==v.command.name;if(g.command.name=="insertstring"){var k=g.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),b=b&&this.mergeNextCommand&&(!/\s/.test(k)||/\s/.test(v.args)),this.mergeNextCommand=!0}else b=b&&c.indexOf(g.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(b=!1),b?this.session.mergeUndoDeltas=!0:c.indexOf(g.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(g,v){if(g&&typeof g=="string"&&g!="ace"){this.$keybindingId=g;var c=this;L.loadModule(["keybinding",g],function(b){c.$keybindingId==g&&c.keyBinding.setKeyboardHandler(b&&b.handler),v&&v()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(g),v&&v()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(g){if(this.session!=g){this.curOp&&this.endOperation(),this.curOp={};var v=this.session;if(v){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var c=this.session.getSelection();c.off("changeCursor",this.$onCursorChange),c.off("changeSelection",this.$onSelectionChange)}this.session=g,g?(this.$onDocumentChange=this.onDocumentChange.bind(this),g.on("change",this.$onDocumentChange),this.renderer.setSession(g),this.$onChangeMode=this.onChangeMode.bind(this),g.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),g.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),g.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),g.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),g.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),g.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=g.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(g)),this._signal("changeSession",{session:g,oldSession:v}),this.curOp=null,v&&v._signal("changeEditor",{oldEditor:this}),g&&g._signal("changeEditor",{editor:this}),g&&g.bgTokenizer&&g.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(g,v){return this.session.doc.setValue(g),v?v==1?this.navigateFileEnd():v==-1&&this.navigateFileStart():this.selectAll(),g},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(g){this.renderer.onResize(g)},this.setTheme=function(g,v){this.renderer.setTheme(g,v)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(g){this.renderer.setStyle(g)},this.unsetStyle=function(g){this.renderer.unsetStyle(g)},this.getFontSize=function(){return this.getOption("fontSize")||R.computedStyle(this.container).fontSize},this.setFontSize=function(g){this.setOption("fontSize",g)},this.$highlightBrackets=function(){if(!this.$highlightPending){var g=this;this.$highlightPending=!0,setTimeout(function(){g.$highlightPending=!1;var v=g.session;if(!(!v||!v.bgTokenizer)){v.$bracketHighlight&&(v.$bracketHighlight.markerIds.forEach(function(k){v.removeMarker(k)}),v.$bracketHighlight=null);var c=v.getMatchingBracketRanges(g.getCursorPosition());if(!c&&v.$mode.getMatching&&(c=v.$mode.getMatching(g.session)),!!c){var b="ace_bracket";Array.isArray(c)?c.length==1&&(b="ace_error_bracket"):c=[c],c.length==2&&(o.comparePoints(c[0].end,c[1].start)==0?c=[o.fromPoints(c[0].start,c[1].end)]:o.comparePoints(c[0].start,c[1].end)==0&&(c=[o.fromPoints(c[1].start,c[0].end)])),v.$bracketHighlight={ranges:c,markerIds:c.map(function(k){return v.addMarker(k,b,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var g=this;this.$highlightTagPending=!0,setTimeout(function(){g.$highlightTagPending=!1;var v=g.session;if(!(!v||!v.bgTokenizer)){var c=g.getCursorPosition(),b=new m(g.session,c.row,c.column),k=b.getCurrentToken();if(!k||!/\b(?:tag-open|tag-name)/.test(k.type)){v.removeMarker(v.$tagHighlight),v.$tagHighlight=null;return}if(!(k.type.indexOf("tag-open")!==-1&&(k=b.stepForward(),!k))){var F=k.value,x=k.value,N=0,G=b.stepBackward();if(G.value==="<")do G=k,k=b.stepForward(),k&&(k.type.indexOf("tag-name")!==-1?(x=k.value,F===x&&(G.value==="<"?N++:G.value==="</"&&N--)):F===x&&k.value==="/>"&&N--);while(k&&N>=0);else{do if(k=G,G=b.stepBackward(),k){if(k.type.indexOf("tag-name")!==-1)F===k.value&&(G.value==="<"?N++:G.value==="</"&&N--);else if(k.value==="/>"){for(var q=0,ne=G;ne;){if(ne.type.indexOf("tag-name")!==-1&&ne.value===F){N--;break}if(ne.value==="<")break;ne=b.stepBackward(),q++}for(var Z=0;Z<q;Z++)b.stepForward()}}while(G&&N<=0);b.stepForward()}if(!k){v.removeMarker(v.$tagHighlight),v.$tagHighlight=null;return}var K=b.getCurrentTokenRow(),X=b.getCurrentTokenColumn(),ee=new o(K,X,K,X+k.value.length),ie=v.$backMarkers[v.$tagHighlight];v.$tagHighlight&&ie!=null&&ee.compareRange(ie.range)!==0&&(v.removeMarker(v.$tagHighlight),v.$tagHighlight=null),v.$tagHighlight||(v.$tagHighlight=v.addMarker(ee,"ace_bracket","text"))}}},50)}},this.focus=function(){var g=this;setTimeout(function(){g.isFocused()||g.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(g){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",g))},this.onBlur=function(g){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",g))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(g){var v=this.session.$useWrapMode,c=g.start.row==g.end.row?g.end.row:1/0;this.renderer.updateLines(g.start.row,c,v),this._signal("change",g),this.$cursorChange()},this.onTokenizerUpdate=function(g){var v=g.data;this.renderer.updateLines(v.first,v.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var g=this.getSession(),v;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(v=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(v=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(v=!1)),g.$highlightLineMarker&&!v)g.removeMarker(g.$highlightLineMarker.id),g.$highlightLineMarker=null;else if(!g.$highlightLineMarker&&v){var c=new o(v.row,v.column,v.row,1/0);c.id=g.addMarker(c,"ace_active-line","screenLine"),g.$highlightLineMarker=c}else v&&(g.$highlightLineMarker.start.row=v.row,g.$highlightLineMarker.end.row=v.row,g.$highlightLineMarker.start.column=v.column,g._signal("changeBackMarker"))},this.onSelectionChange=function(g){var v=this.session;if(v.$selectionMarker&&v.removeMarker(v.$selectionMarker),v.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var c=this.selection.getRange(),b=this.getSelectionStyle();v.$selectionMarker=v.addMarker(c,"ace_selection",b)}var k=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(k),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var g=this.session,v=this.getSelectionRange();if(!(v.isEmpty()||v.isMultiLine())){var c=v.start.column,b=v.end.column,k=g.getLine(v.start.row),F=k.substring(c,b);if(!(F.length>5e3||!/[\w\d]/.test(F))){var x=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:F}),N=k.substring(c-1,b+1);if(x.test(N))return x}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(g){this.renderer.updateText(),this._emit("changeMode",g)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var g=this.getSelectedText(),v=this.session.doc.getNewLineCharacter(),c=!1;if(!g&&this.$copyWithEmptySelection){c=!0;for(var b=this.selection.getAllRanges(),k=0;k<b.length;k++){var F=b[k];k&&b[k-1].start.row==F.start.row||(g+=this.session.getLine(F.start.row)+v)}}var x={text:g};return this._signal("copy",x),s.lineMode=c?x.text:"",x.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(g,v){var c={text:g,event:v};this.commands.exec("paste",this,c)},this.$handlePaste=function(g){typeof g=="string"&&(g={text:g}),this._signal("paste",g);var v=g.text,c=v==s.lineMode,b=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)c?b.insert({row:this.selection.lead.row,column:0},v):this.insert(v);else if(c)this.selection.rangeList.ranges.forEach(function(q){b.insert({row:q.start.row,column:0},v)});else{var k=v.split(/\r\n|\r|\n/),F=this.selection.rangeList.ranges,x=k.length==2&&(!k[0]||!k[1]);if(k.length!=F.length||x)return this.commands.exec("insertstring",this,v);for(var N=F.length;N--;){var G=F[N];G.isEmpty()||b.remove(G),b.insert(G.start,k[N])}}},this.execCommand=function(g,v){return this.commands.exec(g,this,v)},this.insert=function(g,v){var c=this.session,b=c.getMode(),k=this.getCursorPosition();if(this.getBehavioursEnabled()&&!v){var F=b.transformAction(c.getState(k.row),"insertion",this,c,g);F&&(g!==F.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),g=F.text)}if(g=="	"&&(g=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&g.indexOf(`
`)==-1){var x=new o.fromPoints(k,k);x.end.column+=g.length,this.session.remove(x)}}else{var x=this.getSelectionRange();k=this.session.remove(x),this.clearSelection()}if(g==`
`||g==`\r
`){var ne=c.getLine(k.row);if(k.column>ne.search(/\S|$/)){var N=ne.substr(k.column).search(/\S|$/);c.doc.removeInLine(k.row,k.column,k.column+N)}}this.clearSelection();var G=k.column,q=c.getState(k.row),ne=c.getLine(k.row),Z=b.checkOutdent(q,ne,g);if(c.insert(k,g),F&&F.selection&&(F.selection.length==2?this.selection.setSelectionRange(new o(k.row,G+F.selection[0],k.row,G+F.selection[1])):this.selection.setSelectionRange(new o(k.row+F.selection[0],F.selection[1],k.row+F.selection[2],F.selection[3]))),this.$enableAutoIndent){if(c.getDocument().isNewLine(g)){var K=b.getNextLineIndent(q,ne.slice(0,k.column),c.getTabString());c.insert({row:k.row+1,column:0},K)}Z&&b.autoOutdent(q,c,k.row)}},this.autoIndent=function(){var g=this.session,v=g.getMode(),c,b;if(this.selection.isEmpty())c=0,b=g.doc.getLength()-1;else{var k=this.getSelectionRange();c=k.start.row,b=k.end.row}for(var F="",x="",N="",G,q,ne,Z=g.getTabString(),K=c;K<=b;K++)K>0&&(F=g.getState(K-1),x=g.getLine(K-1),N=v.getNextLineIndent(F,x,Z)),G=g.getLine(K),q=v.$getIndent(G),N!==q&&(q.length>0&&(ne=new o(K,0,K,q.length),g.remove(ne)),N.length>0&&g.insert({row:K,column:0},N)),v.autoOutdent(F,g,K)},this.onTextInput=function(g,v){if(!v)return this.keyBinding.onTextInput(g);this.startOperation({command:{name:"insertstring"}});var c=this.applyComposition.bind(this,g,v);this.selection.rangeCount?this.forEachSelection(c):c(),this.endOperation()},this.applyComposition=function(g,v){if(v.extendLeft||v.extendRight){var c=this.selection.getRange();c.start.column-=v.extendLeft,c.end.column+=v.extendRight,c.start.column<0&&(c.start.row--,c.start.column+=this.session.getLine(c.start.row).length+1),this.selection.setRange(c),!g&&!c.isEmpty()&&this.remove()}if((g||!this.selection.isEmpty())&&this.insert(g,!0),v.restoreStart||v.restoreEnd){var c=this.selection.getRange();c.start.column-=v.restoreStart,c.end.column-=v.restoreEnd,this.selection.setRange(c)}},this.onCommandKey=function(g,v,c){return this.keyBinding.onCommandKey(g,v,c)},this.setOverwrite=function(g){this.session.setOverwrite(g)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(g){this.setOption("scrollSpeed",g)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(g){this.setOption("dragDelay",g)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(g){this.setOption("selectionStyle",g)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(g){this.setOption("highlightActiveLine",g)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(g){this.setOption("highlightGutterLine",g)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(g){this.setOption("highlightSelectedWord",g)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(g){this.renderer.setAnimatedScroll(g)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(g){this.renderer.setShowInvisibles(g)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(g){this.renderer.setDisplayIndentGuides(g)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(g){this.renderer.setShowPrintMargin(g)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(g){this.renderer.setPrintMarginColumn(g)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(g){this.setOption("readOnly",g)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(g){this.setOption("behavioursEnabled",g)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(g){this.setOption("wrapBehavioursEnabled",g)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(g){this.setOption("showFoldWidgets",g)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(g){this.setOption("fadeFoldWidgets",g)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(g){this.selection.isEmpty()&&(g=="left"?this.selection.selectLeft():this.selection.selectRight());var v=this.getSelectionRange();if(this.getBehavioursEnabled()){var c=this.session,b=c.getState(v.start.row),k=c.getMode().transformAction(b,"deletion",this,c,v);if(v.end.column===0){var F=c.getTextRange(v);if(F[F.length-1]==`
`){var x=c.getLine(v.end.row);/^\s+$/.test(x)&&(v.end.column=x.length)}}k&&(v=k)}this.session.remove(v),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var g=this.getSelectionRange();g.start.column==g.end.column&&g.start.row==g.end.row&&(g.end.column=0,g.end.row++),this.session.remove(g),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var g=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(g)},this.transposeLetters=function(){if(this.selection.isEmpty()){var g=this.getCursorPosition(),v=g.column;if(v!==0){var c=this.session.getLine(g.row),b,k;v<c.length?(b=c.charAt(v)+c.charAt(v-1),k=new o(g.row,v-1,g.row,v+1)):(b=c.charAt(v-1)+c.charAt(v-2),k=new o(g.row,v-2,g.row,v)),this.session.replace(k,b),this.session.selection.moveToPosition(k.end)}}},this.toLowerCase=function(){var g=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var v=this.getSelectionRange(),c=this.session.getTextRange(v);this.session.replace(v,c.toLowerCase()),this.selection.setSelectionRange(g)},this.toUpperCase=function(){var g=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var v=this.getSelectionRange(),c=this.session.getTextRange(v);this.session.replace(v,c.toUpperCase()),this.selection.setSelectionRange(g)},this.indent=function(){var g=this.session,v=this.getSelectionRange();if(v.start.row<v.end.row){var c=this.$getSelectedRows();g.indentRows(c.first,c.last,"	");return}if(v.start.column<v.end.column){var b=g.getTextRange(v);if(!/^\s+$/.test(b)){var c=this.$getSelectedRows();g.indentRows(c.first,c.last,"	");return}}var k=g.getLine(v.start.row),F=v.start,x=g.getTabSize(),N=g.documentToScreenColumn(F.row,F.column);if(this.session.getUseSoftTabs())var G=x-N%x,q=d.stringRepeat(" ",G);else{for(var G=N%x;k[v.start.column-1]==" "&&G;)v.start.column--,G--;this.selection.setSelectionRange(v),q="	"}return this.insert(q)},this.blockIndent=function(){var g=this.$getSelectedRows();this.session.indentRows(g.first,g.last,"	")},this.blockOutdent=function(){var g=this.session.getSelection();this.session.outdentRows(g.getRange())},this.sortLines=function(){for(var g=this.$getSelectedRows(),v=this.session,c=[],b=g.first;b<=g.last;b++)c.push(v.getLine(b));c.sort(function(x,N){return x.toLowerCase()<N.toLowerCase()?-1:x.toLowerCase()>N.toLowerCase()?1:0});for(var k=new o(0,0,0,0),b=g.first;b<=g.last;b++){var F=v.getLine(b);k.start.row=b,k.end.row=b,k.end.column=F.length,v.replace(k,c[b-g.first])}},this.toggleCommentLines=function(){var g=this.session.getState(this.getCursorPosition().row),v=this.$getSelectedRows();this.session.getMode().toggleCommentLines(g,this.session,v.first,v.last)},this.toggleBlockComment=function(){var g=this.getCursorPosition(),v=this.session.getState(g.row),c=this.getSelectionRange();this.session.getMode().toggleBlockComment(v,this.session,c,g)},this.getNumberAt=function(g,v){var c=/[\-]?[0-9]+(?:\.[0-9]+)?/g;c.lastIndex=0;for(var b=this.session.getLine(g);c.lastIndex<v;){var k=c.exec(b);if(k.index<=v&&k.index+k[0].length>=v){var F={value:k[0],start:k.index,end:k.index+k[0].length};return F}}return null},this.modifyNumber=function(g){var v=this.selection.getCursor().row,c=this.selection.getCursor().column,b=new o(v,c-1,v,c),k=this.session.getTextRange(b);if(!isNaN(parseFloat(k))&&isFinite(k)){var F=this.getNumberAt(v,c);if(F){var x=F.value.indexOf(".")>=0?F.start+F.value.indexOf(".")+1:F.end,N=F.start+F.value.length-x,G=parseFloat(F.value);G*=Math.pow(10,N),x!==F.end&&c<x?g*=Math.pow(10,F.end-c-1):g*=Math.pow(10,F.end-c),G+=g,G/=Math.pow(10,N);var q=G.toFixed(N),ne=new o(v,F.start,v,F.end);this.session.replace(ne,q),this.moveCursorTo(v,Math.max(F.start+1,c+q.length-F.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var g=this.selection.getCursor().row,v=this.selection.getCursor().column;this.selection.selectWord();var c=this.getSelectedText(),b=this.selection.getWordRange().start.column,k=c.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),F=v-b-1;F<0&&(F=0);var x=0,N=0,G=this;c.match(/[A-Za-z0-9_]+/)&&k.forEach(function(ce,ye){N=x+ce.length,F>=x&&F<=N&&(c=ce,G.selection.clearSelection(),G.moveCursorTo(g,x+b),G.selection.selectTo(g,N+b)),x=N});for(var q=this.$toggleWordPairs,ne,Z=0;Z<q.length;Z++)for(var K=q[Z],X=0;X<=1;X++){var ee=+!X,ie=c.match(new RegExp("^\\s?_?("+d.escapeRegExp(K[X])+")\\s?$","i"));if(ie){var le=c.match(new RegExp("([_]|^|\\s)("+d.escapeRegExp(ie[1])+")($|\\s)","g"));le&&(ne=c.replace(new RegExp(d.escapeRegExp(K[X]),"i"),function(ce){var ye=K[ee];return ce.toUpperCase()==ce?ye=ye.toUpperCase():ce.charAt(0).toUpperCase()==ce.charAt(0)&&(ye=ye.substr(0,0)+K[ee].charAt(0).toUpperCase()+ye.substr(1)),ye}),this.insert(ne),ne="")}}},this.removeLines=function(){var g=this.$getSelectedRows();this.session.removeFullLines(g.first,g.last),this.clearSelection()},this.duplicateSelection=function(){var g=this.selection,v=this.session,c=g.getRange(),b=g.isBackwards();if(c.isEmpty()){var k=c.start.row;v.duplicateLines(k,k)}else{var F=b?c.start:c.end,x=v.insert(F,v.getTextRange(c),!1);c.start=F,c.end=x,g.setSelectionRange(c,b)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(g,v,c){return this.session.moveText(g,v,c)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(g,v){var c,b,k=this.selection;if(!k.inMultiSelectMode||this.inVirtualSelectionMode){var F=k.toOrientedRange();c=this.$getSelectedRows(F),b=this.session.$moveLines(c.first,c.last,v?0:g),v&&g==-1&&(b=0),F.moveBy(b,0),k.fromOrientedRange(F)}else{var x=k.rangeList.ranges;k.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var N=0,G=0,q=x.length,ne=0;ne<q;ne++){var Z=ne;x[ne].moveBy(N,0),c=this.$getSelectedRows(x[ne]);for(var K=c.first,X=c.last;++ne<q;){G&&x[ne].moveBy(G,0);var ee=this.$getSelectedRows(x[ne]);if(v&&ee.first!=X||!v&&ee.first>X+1)break;X=ee.last}for(ne--,N=this.session.$moveLines(K,X,v?0:g),v&&g==-1&&(Z=ne+1);Z<=ne;)x[Z].moveBy(N,0),Z++;v||(N=0),G+=N}k.fromOrientedRange(k.ranges[0]),k.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(g){return g=(g||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(g.start.row),last:this.session.getRowFoldEnd(g.end.row)}},this.onCompositionStart=function(g){this.renderer.showComposition(g)},this.onCompositionUpdate=function(g){this.renderer.setCompositionText(g)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(g){return g>=this.getFirstVisibleRow()&&g<=this.getLastVisibleRow()},this.isRowFullyVisible=function(g){return g>=this.renderer.getFirstFullyVisibleRow()&&g<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(g,v){var c=this.renderer,b=this.renderer.layerConfig,k=g*Math.floor(b.height/b.lineHeight);v===!0?this.selection.$moveSelection(function(){this.moveCursorBy(k,0)}):v===!1&&(this.selection.moveCursorBy(k,0),this.selection.clearSelection());var F=c.scrollTop;c.scrollBy(0,k*b.lineHeight),v!=null&&c.scrollCursorIntoView(null,.5),c.animateScrolling(F)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(g){this.renderer.scrollToRow(g)},this.scrollToLine=function(g,v,c,b){this.renderer.scrollToLine(g,v,c,b)},this.centerSelection=function(){var g=this.getSelectionRange(),v={row:Math.floor(g.start.row+(g.end.row-g.start.row)/2),column:Math.floor(g.start.column+(g.end.column-g.start.column)/2)};this.renderer.alignCursor(v,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(g,v){this.selection.moveCursorTo(g,v)},this.moveCursorToPosition=function(g){this.selection.moveCursorToPosition(g)},this.jumpToMatching=function(g,v){var c=this.getCursorPosition(),b=new m(this.session,c.row,c.column),k=b.getCurrentToken(),F=k||b.stepForward();if(F){var x,N=!1,G={},q=c.column-F.start,ne,Z={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;q<F.value.length&&!N;q++)if(Z[F.value[q]])switch(ne=Z[F.value[q]]+"."+F.type.replace("rparen","lparen"),isNaN(G[ne])&&(G[ne]=0),F.value[q]){case"(":case"[":case"{":G[ne]++;break;case")":case"]":case"}":G[ne]--,G[ne]===-1&&(x="bracket",N=!0)}}else F.type.indexOf("tag-name")!==-1&&(isNaN(G[F.value])&&(G[F.value]=0),k.value==="<"?G[F.value]++:k.value==="</"&&G[F.value]--,G[F.value]===-1&&(x="tag",N=!0));N||(k=F,F=b.stepForward(),q=0)}while(F&&!N);if(x){var K,X;if(x==="bracket")K=this.session.getBracketRange(c),K||(K=new o(b.getCurrentTokenRow(),b.getCurrentTokenColumn()+q-1,b.getCurrentTokenRow(),b.getCurrentTokenColumn()+q-1),X=K.start,(v||X.row===c.row&&Math.abs(X.column-c.column)<2)&&(K=this.session.getBracketRange(X)));else if(x==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;var ee=F.value;if(K=new o(b.getCurrentTokenRow(),b.getCurrentTokenColumn()-2,b.getCurrentTokenRow(),b.getCurrentTokenColumn()-2),K.compare(c.row,c.column)===0){N=!1;do F=k,k=b.stepBackward(),k&&(k.type.indexOf("tag-close")!==-1&&K.setEnd(b.getCurrentTokenRow(),b.getCurrentTokenColumn()+1),F.value===ee&&F.type.indexOf("tag-name")!==-1&&(k.value==="<"?G[ee]++:k.value==="</"&&G[ee]--,G[ee]===0&&(N=!0)));while(k&&!N)}F&&F.type.indexOf("tag-name")&&(X=K.start,X.row==c.row&&Math.abs(X.column-c.column)<2&&(X=K.end))}X=K&&K.cursor||X,X&&(g?K&&v?this.selection.setRange(K):K&&K.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(X.row,X.column):this.selection.moveTo(X.row,X.column))}}},this.gotoLine=function(g,v,c){this.selection.clearSelection(),this.session.unfold({row:g-1,column:v||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(g-1,v||0),this.isRowFullyVisible(g-1)||this.scrollToLine(g-1,!0,c)},this.navigateTo=function(g,v){this.selection.moveTo(g,v)},this.navigateUp=function(g){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var v=this.selection.anchor.getPosition();return this.moveCursorToPosition(v)}this.selection.clearSelection(),this.selection.moveCursorBy(-g||-1,0)},this.navigateDown=function(g){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var v=this.selection.anchor.getPosition();return this.moveCursorToPosition(v)}this.selection.clearSelection(),this.selection.moveCursorBy(g||1,0)},this.navigateLeft=function(g){if(this.selection.isEmpty())for(g=g||1;g--;)this.selection.moveCursorLeft();else{var v=this.getSelectionRange().start;this.moveCursorToPosition(v)}this.clearSelection()},this.navigateRight=function(g){if(this.selection.isEmpty())for(g=g||1;g--;)this.selection.moveCursorRight();else{var v=this.getSelectionRange().end;this.moveCursorToPosition(v)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(g,v){v&&this.$search.set(v);var c=this.$search.find(this.session),b=0;return c&&(this.$tryReplace(c,g)&&(b=1),this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end)),b},this.replaceAll=function(g,v){v&&this.$search.set(v);var c=this.$search.findAll(this.session),b=0;if(!c.length)return b;var k=this.getSelectionRange();this.selection.moveTo(0,0);for(var F=c.length-1;F>=0;--F)this.$tryReplace(c[F],g)&&b++;return this.selection.setSelectionRange(k),b},this.$tryReplace=function(g,v){var c=this.session.getTextRange(g);return v=this.$search.replace(c,v),v!==null?(g.end=this.session.replace(g,v),g):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(g,v,c){v||(v={}),typeof g=="string"||g instanceof RegExp?v.needle=g:typeof g=="object"&&C.mixin(v,g);var b=this.selection.getRange();v.needle==null&&(g=this.session.getTextRange(b)||this.$search.$options.needle,g||(b=this.session.getWordRange(b.start.row,b.start.column),g=this.session.getTextRange(b)),this.$search.set({needle:g})),this.$search.set(v),v.start||this.$search.set({start:b});var k=this.$search.find(this.session);if(v.preventScroll)return k;if(k)return this.revealRange(k,c),k;v.backwards?b.start=b.end:b.end=b.start,this.selection.setRange(b)},this.findNext=function(g,v){this.find({skipCurrent:!0,backwards:!1},g,v)},this.findPrevious=function(g,v){this.find(g,{skipCurrent:!0,backwards:!0},v)},this.revealRange=function(g,v){this.session.unfold(g),this.selection.setSelectionRange(g);var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(g.start,g.end,.5),v!==!1&&this.renderer.animateScrolling(c)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(g){g.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(g){if(g){var v,c=this,b=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var k=this.$scrollAnchor;k.style.cssText="position:absolute",this.container.insertBefore(k,this.container.firstChild);var F=this.on("changeSelection",function(){b=!0}),x=this.renderer.on("beforeRender",function(){b&&(v=c.renderer.container.getBoundingClientRect())}),N=this.renderer.on("afterRender",function(){if(b&&v&&(c.isFocused()||c.searchBox&&c.searchBox.isFocused())){var G=c.renderer,q=G.$cursorLayer.$pixelPos,ne=G.layerConfig,Z=q.top-ne.offset;q.top>=0&&Z+v.top<0?b=!0:q.top<ne.height&&q.top+v.top+ne.lineHeight>window.innerHeight?b=!1:b=null,b!=null&&(k.style.top=Z+"px",k.style.left=q.left+"px",k.style.height=ne.lineHeight+"px",k.scrollIntoView(b)),b=v=null}});this.setAutoScrollEditorIntoView=function(G){G||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",F),this.renderer.off("afterRender",N),this.renderer.off("beforeRender",x))}}},this.$resetCursorStyle=function(){var g=this.$cursorStyle||"ace",v=this.renderer.$cursorLayer;v&&(v.setSmoothBlinking(/smooth/.test(g)),v.isBlinking=!this.$readOnly&&g!="wide",R.setCssClass(v.element,"ace_slim-cursors",/slim/.test(g)))},this.prompt=function(g,v,c){var b=this;L.loadModule("./ext/prompt",function(k){k.prompt(b,g,v,c)})}}).call(f.prototype),L.defineOptions(f.prototype,"editor",{selectionStyle:{set:function(g){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:g})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(g){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(g){this.textInput.setReadOnly(g),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(g){this.textInput.setCopyWithEmptySelection(g)},initialValue:!1},cursorStyle:{set:function(g){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(g){this.setAutoScrollEditorIntoView(g)}},keyboardHandler:{set:function(g){this.setKeyboardHandler(g)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(g){this.session.setValue(g)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(g){this.setSession(g)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(g){this.renderer.$gutterLayer.setShowLineNumbers(g),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),g&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(g){this.$showLineNumbers&&g?_.attach(this):_.detach(this)}},placeholder:{set:function(g){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var v=this.session&&(this.renderer.$composition||this.getValue());if(v&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),R.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!v&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),R.addCssClass(this.container,"ace_hasPlaceholder");var c=R.createElement("div");c.className="ace_placeholder",c.textContent=this.$placeholder||"",this.renderer.placeholderNode=c,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!v&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(g,v){return(Math.abs(g.selection.lead.row-v)||v+1+(v<9?"·":""))+""},getWidth:function(g,v,c){return Math.max(v.toString().length,(c.lastRow+1).toString().length,2)*c.characterWidth},update:function(g,v){v.renderer.$loop.schedule(v.renderer.CHANGE_GUTTER)},attach:function(g){g.renderer.$gutterLayer.$renderer=this,g.on("changeSelection",this.update),this.update(null,g)},detach:function(g){g.renderer.$gutterLayer.$renderer==this&&(g.renderer.$gutterLayer.$renderer=null),g.off("changeSelection",this.update),this.update(null,g)}};M.Editor=f}),define("ace/undomanager",["require","exports","module","ace/range"],function(E,M,w){function C(s,f){for(var _=f;_--;){var g=s[_];if(g&&!g[0].ignore){for(;_<f-1;){var v=e(s[_],s[_+1]);s[_]=v[0],s[_+1]=v[1],_++}return!0}}}function R(s){return{row:s.row,column:s.column}}function d(s){return{start:R(s.start),end:R(s.end),action:s.action,lines:s.lines.slice()}}function l(s){if(s=s||this,Array.isArray(s))return s.map(l).join(`
`);var f="";return s.action?(f=s.action=="insert"?"+":"-",f+="["+s.lines+"]"):s.value&&(Array.isArray(s.value)?f=s.value.map(a).join(`
`):f=a(s.value)),s.start&&(f+=a(s)),(s.id||s.rev)&&(f+="	("+(s.id||s.rev)+")"),f}function a(s){return s.start.row+":"+s.start.column+"=>"+s.end.row+":"+s.end.column}function t(s,f){var _=s.action=="insert",g=f.action=="insert";if(_&&g)if(m(f.start,s.end)>=0)r(f,s,-1);else{if(!(m(f.start,s.start)<=0))return null;r(s,f,1)}else if(_&&!g)if(m(f.start,s.end)>=0)r(f,s,-1);else{if(!(m(f.end,s.start)<=0))return null;r(s,f,-1)}else if(!_&&g)if(m(f.start,s.start)>=0)r(f,s,1);else{if(!(m(f.start,s.start)<=0))return null;r(s,f,1)}else if(!_&&!g)if(m(f.start,s.start)>=0)r(f,s,1);else{if(!(m(f.end,s.start)<=0))return null;r(s,f,-1)}return[f,s]}function e(s,f){for(var _=s.length;_--;)for(var g=0;g<f.length;g++)if(!t(s[_],f[g])){for(;_<s.length;){for(;g--;)t(f[g],s[_]);g=f.length,_++}return[s,f]}return s.selectionBefore=f.selectionBefore=s.selectionAfter=f.selectionAfter=null,[f,s]}function n(s,f){var _=s.action=="insert",g=f.action=="insert";if(_&&g)m(s.start,f.start)<0?r(f,s,1):r(s,f,1);else if(_&&!g)m(s.start,f.end)>=0?r(s,f,-1):(m(s.start,f.start)<=0||r(s,L.fromPoints(f.start,s.start),-1),r(f,s,1));else if(!_&&g)m(f.start,s.end)>=0?r(f,s,-1):(m(f.start,s.start)<=0||r(f,L.fromPoints(s.start,f.start),-1),r(s,f,1));else if(!_&&!g)if(m(f.start,s.end)>=0)r(f,s,-1);else{if(!(m(f.end,s.start)<=0)){var v,c;return m(s.start,f.start)<0&&(v=s,s=o(s,f.start)),m(s.end,f.end)>0&&(c=o(s,f.end)),i(f.end,s.start,s.end,-1),c&&!v&&(s.lines=c.lines,s.start=c.start,s.end=c.end,c=s),[f,v,c].filter(Boolean)}r(s,f,-1)}return[f,s]}function r(s,f,_){i(s.start,f.start,f.end,_),i(s.end,f.start,f.end,_)}function i(s,f,_,g){s.row==(g==1?f:_).row&&(s.column+=g*(_.column-f.column)),s.row+=g*(_.row-f.row)}function o(s,f){var _=s.lines,g=s.end;s.end=R(f);var v=s.end.row-s.start.row,c=_.splice(v,_.length),b=v?f.column:f.column-s.start.column;_.push(c[0].substring(0,b)),c[0]=c[0].substr(b);var k={start:R(f),end:g,lines:c,action:s.action};return k}function h(s,f){f=d(f);for(var _=s.length;_--;){for(var g=s[_],v=0;v<g.length;v++){var c=g[v],b=n(c,f);f=b[0],b.length!=2&&(b[2]?(g.splice(v+1,1,b[1],b[2]),v++):b[1]||(g.splice(v,1),v--))}g.length||s.splice(_,1)}return s}function p(s,f){for(var _=0;_<f.length;_++)for(var g=f[_],v=0;v<g.length;v++)h(s,g[v])}var y=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(s){this.$session=s},this.add=function(s,f,_){this.$fromUndo||s!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(f===!1||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),s.id=this.$rev=++this.$maxRev),(s.action=="remove"||s.action=="insert")&&(this.$lastDelta=s),this.lastDeltas.push(s))},this.addSelection=function(s,f){this.selections.push({value:s,rev:f||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(s,f){f==null&&(f=this.$rev+1);for(var _=this.$undoStack,g=_.length;g--;){var v=_[g][0];if(v.id<=s)break;v.id<f&&(v.ignore=!0)}this.lastDeltas=null},this.getSelection=function(s,f){for(var _=this.selections,g=_.length;g--;){var v=_[g];if(v.rev<s)return f&&(v=_[g+1]),v}},this.getRevision=function(){return this.$rev},this.getDeltas=function(s,f){f==null&&(f=this.$rev+1);for(var _=this.$undoStack,g=null,v=0,c=_.length;c--;){var b=_[c][0];if(b.id<f&&!g&&(g=c+1),b.id<=s){v=c+1;break}}return _.slice(v,g)},this.getChangedRanges=function(s,f){f==null&&(f=this.$rev+1)},this.getChangedLines=function(s,f){f==null&&(f=this.$rev+1)},this.undo=function(s,f){this.lastDeltas=null;var _=this.$undoStack;if(C(_,_.length)){s||(s=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var g=_.pop(),v=null;return g&&(v=s.undoChanges(g,f),this.$redoStack.push(g),this.$syncRev()),this.$fromUndo=!1,v}},this.redo=function(s,f){if(this.lastDeltas=null,s||(s=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var _=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);p(this.$redoStack,_),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(c){c[0].id=++this.$maxRev},this)}var g=this.$redoStack.pop(),v=null;return g&&(v=s.redoChanges(g,f),this.$undoStack.push(g),this.$syncRev()),this.$fromUndo=!1,v},this.$syncRev=function(){var s=this.$undoStack,f=s[s.length-1],_=f&&f[0].id||0;this.$redoStackBaseRev=_,this.$rev=_},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(s){s==null&&(s=this.$rev),this.mark=s},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(s){return s?l(s):l(this.$undoStack)+`
---
`+l(this.$redoStack)}}).call(y.prototype);var L=E("./range").Range,m=L.comparePoints;L.comparePoints,M.UndoManager=y}),define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(E,M,w){var C=E("../lib/dom"),R=function(d,l){this.element=d,this.canvasHeight=l||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(d){C.translate(this.element,0,-(d.firstRowScreen*d.lineHeight%this.canvasHeight)-d.offset*this.$offsetCoefficient)},this.pageChanged=function(d,l){return Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)!==Math.floor(l.firstRowScreen*l.lineHeight/this.canvasHeight)},this.computeLineTop=function(d,l,a){var t=l.firstRowScreen*l.lineHeight,e=Math.floor(t/this.canvasHeight),n=a.documentToScreenRow(d,0)*l.lineHeight;return n-e*this.canvasHeight},this.computeLineHeight=function(d,l,a){return l.lineHeight*a.getRowLineCount(d)},this.getLength=function(){return this.cells.length},this.get=function(d){return this.cells[d]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(d){if(Array.isArray(d)){this.cells.push.apply(this.cells,d);for(var l=C.createFragment(this.element),a=0;a<d.length;a++)l.appendChild(d[a].element);this.element.appendChild(l)}else this.cells.push(d),this.element.appendChild(d.element)},this.unshift=function(d){if(Array.isArray(d)){this.cells.unshift.apply(this.cells,d);for(var l=C.createFragment(this.element),a=0;a<d.length;a++)l.appendChild(d[a].element);this.element.firstChild?this.element.insertBefore(l,this.element.firstChild):this.element.appendChild(l)}else this.cells.unshift(d),this.element.insertAdjacentElement("afterbegin",d.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(d){d&&(d.element.remove(),this.cellCache.push(d))},this.createCell=function(d,l,a,t){var e=this.cellCache.pop();if(!e){var n=C.createElement("div");t&&t(n),this.element.appendChild(n),e={element:n,text:"",row:d}}return e.row=d,e}}).call(R.prototype),M.Lines=R}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(E,M,w){function C(n){var r=document.createTextNode("");n.appendChild(r);var i=R.createElement("span");return n.appendChild(i),n}var R=E("../lib/dom"),d=E("../lib/oop"),l=E("../lib/lang"),a=E("../lib/event_emitter").EventEmitter,t=E("./lines").Lines,e=function(n){this.element=R.createElement("div"),this.element.className="ace_layer ace_gutter-layer",n.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new t(this.element),this.$lines.$offsetCoefficient=1};(function(){d.implement(this,a),this.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n&&n.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(n,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,r)},this.removeGutterDecoration=function(n,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,r)},this.setAnnotations=function(n){this.$annotations=[];for(var r=0;r<n.length;r++){var i=n[r],o=i.row,h=this.$annotations[o];h||(h=this.$annotations[o]={text:[]});var p=i.text;p=p?l.escapeHTML(p):i.html||"",h.text.indexOf(p)===-1&&h.text.push(p);var y=i.type;y=="error"?h.className=" ace_error":y=="warning"&&h.className!=" ace_error"?h.className=" ace_warning":y=="info"&&!h.className&&(h.className=" ace_info")}},this.$updateAnnotations=function(n){if(this.$annotations.length){var r=n.start.row,i=n.end.row-r;if(i!==0)if(n.action=="remove")this.$annotations.splice(r,i+1,null);else{var o=new Array(i+1);o.unshift(r,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(n){this.config=n;var r=this.session,i=n.firstRow,o=Math.min(n.lastRow+n.gutterOffset,r.getLength()-1);this.oldLastRow=o,this.config=n,this.$lines.moveContainer(n),this.$updateCursorRow();for(var h=r.getNextFoldLine(i),p=h?h.start.row:1/0,y=null,L=-1,m=i;;){if(m>p&&(m=h.end.row+1,h=r.getNextFoldLine(m,h),p=h?h.start.row:1/0),m>o){for(;this.$lines.getLength()>L+1;)this.$lines.pop();break}y=this.$lines.get(++L),y?y.row=m:(y=this.$lines.createCell(m,n,this.session,C),this.$lines.push(y)),this.$renderCell(y,n,h,m),m++}this._signal("afterRender"),this.$updateGutterWidth(n)},this.$updateGutterWidth=function(n){var r=this.session,i=r.gutterRenderer||this.$renderer,o=r.$firstLineNumber,h=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(h=r.getLength()+o-1);var p=i?i.getWidth(r,h,n):h.toString().length*n.characterWidth,y=this.$padding||this.$computePadding();p+=y.left+y.right,p!==this.gutterWidth&&!isNaN(p)&&(this.gutterWidth=p,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",p))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var n=this.session.selection.cursor.row;if(this.$cursorRow=n,!(this.$cursorCell&&this.$cursorCell.row==n)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<r.length;i++){var o=r[i];if(o.row>=this.$cursorRow){if(o.row>this.$cursorRow){var h=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&h&&h.start.row==r[i-1].row))break;o=r[i-1]}o.element.className="ace_gutter-active-line "+o.element.className,this.$cursorCell=o;break}}}}},this.scrollLines=function(n){var r=this.config;if(this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(r,n))return this.update(n);this.$lines.moveContainer(n);var i=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),o=this.oldLastRow;if(this.oldLastRow=i,!r||o<n.firstRow)return this.update(n);if(i<r.firstRow)return this.update(n);if(r.firstRow<n.firstRow)for(var h=this.session.getFoldedRowCount(r.firstRow,n.firstRow-1);h>0;h--)this.$lines.shift();if(o>i)for(var h=this.session.getFoldedRowCount(i+1,o);h>0;h--)this.$lines.pop();n.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,r.firstRow-1)),i>o&&this.$lines.push(this.$renderLines(n,o+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(n)},this.$renderLines=function(n,r,i){for(var o=[],h=r,p=this.session.getNextFoldLine(h),y=p?p.start.row:1/0;h>y&&(h=p.end.row+1,p=this.session.getNextFoldLine(h,p),y=p?p.start.row:1/0),!(h>i);){var L=this.$lines.createCell(h,n,this.session,C);this.$renderCell(L,n,p,h),o.push(L),h++}return o},this.$renderCell=function(n,r,i,o){var h=n.element,p=this.session,y=h.childNodes[0],L=h.childNodes[1],m=p.$firstLineNumber,s=p.$breakpoints,f=p.$decorations,_=p.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&p.foldWidgets,v=i?i.start.row:Number.MAX_VALUE,c="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||i&&o<this.$cursorRow&&o>=v&&this.$cursorRow<=i.end.row)&&(c+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),s[o]&&(c+=s[o]),f[o]&&(c+=f[o]),this.$annotations[o]&&(c+=this.$annotations[o].className),h.className!=c&&(h.className=c),g){var b=g[o];b==null&&(b=g[o]=p.getFoldWidget(o))}if(b){var c="ace_fold-widget ace_"+b;b=="start"&&o==v&&o<i.end.row?c+=" ace_closed":c+=" ace_open",L.className!=c&&(L.className=c);var k=r.lineHeight+"px";R.setStyle(L.style,"height",k),R.setStyle(L.style,"display","inline-block")}else L&&R.setStyle(L.style,"display","none");var F=(_?_.getText(p,o):o+m).toString();return F!==y.data&&(y.data=F),R.setStyle(n.element.style,"height",this.$lines.computeLineHeight(o,r,p)+"px"),R.setStyle(n.element.style,"top",this.$lines.computeLineTop(o,r,p)+"px"),n.text=F,n},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(n){n?R.addCssClass(this.element,"ace_folding-enabled"):R.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=n,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=R.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},this.getRegion=function(n){var r=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();if(n.x<r.left+i.left)return"markers";if(this.$showFoldWidgets&&n.x>i.right-r.right)return"foldWidgets"}}).call(e.prototype),M.Gutter=e}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(E,M,w){var C=E("../range").Range,R=E("../lib/dom"),d=function(l){this.element=R.createElement("div"),this.element.className="ace_layer ace_marker-layer",l.appendChild(this.element)};(function(){function l(a,t,e,n){return(a?1:0)|(t?2:0)|(e?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.elt=function(a,t){var e=this.i!=-1&&this.element.childNodes[this.i];e?this.i++:(e=document.createElement("div"),this.element.appendChild(e),this.i=-1),e.style.cssText=t,e.className=a},this.update=function(a){if(a){this.config=a,this.i=0;var t;for(var e in this.markers){var n=this.markers[e];if(!n.range){n.update(t,this,this.session,a);continue}var r=n.range.clipRows(a.firstRow,a.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),n.renderer){var i=this.$getTop(r.start.row,a),o=this.$padding+r.start.column*a.characterWidth;n.renderer(t,r,o,i,a)}else n.type=="fullLine"?this.drawFullLineMarker(t,r,n.clazz,a):n.type=="screenLine"?this.drawScreenLineMarker(t,r,n.clazz,a):r.isMultiLine()?n.type=="text"?this.drawTextMarker(t,r,n.clazz,a):this.drawMultiLineMarker(t,r,n.clazz,a):this.drawSingleLineMarker(t,r,n.clazz+" ace_start ace_br15",a)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(a,t){return(a-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(a,t,e,n,r){for(var i=this.session,o=t.start.row,h=t.end.row,p=o,y=0,L=0,m=i.getScreenLastRowColumn(p),s=new C(p,t.start.column,p,L);p<=h;p++)s.start.row=s.end.row=p,s.start.column=p==o?t.start.column:i.getRowWrapIndent(p),s.end.column=m,y=L,L=m,m=p+1<h?i.getScreenLastRowColumn(p+1):p==h?0:t.end.column,this.drawSingleLineMarker(a,s,e+(p==o?" ace_start":"")+" ace_br"+l(p==o||p==o+1&&t.start.column,y<L,L>m,p==h),n,p==h?0:1,r)},this.drawMultiLineMarker=function(a,t,e,n,r){var i=this.$padding,o=n.lineHeight,h=this.$getTop(t.start.row,n),p=i+t.start.column*n.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var y=t.clone();y.end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(a,y,e+" ace_br1 ace_start",n,null,r)}else this.elt(e+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+h+"px;left:"+p+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var y=t.clone();y.start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(a,y,e+" ace_br12",n,null,r)}else{h=this.$getTop(t.end.row,n);var L=t.end.column*n.characterWidth;this.elt(e+" ace_br12","height:"+o+"px;width:"+L+"px;top:"+h+"px;left:"+i+"px;"+(r||""))}if(o=(t.end.row-t.start.row-1)*n.lineHeight,!(o<=0)){h=this.$getTop(t.start.row+1,n);var m=(t.start.column?1:0)|(t.end.column?0:8);this.elt(e+(m?" ace_br"+m:""),"height:"+o+"px;right:0;top:"+h+"px;left:"+i+"px;"+(r||""))}},this.drawSingleLineMarker=function(a,t,e,n,r,i){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(a,t,e,n,r,i);var o=n.lineHeight,h=(t.end.column+(r||0)-t.start.column)*n.characterWidth,p=this.$getTop(t.start.row,n),y=this.$padding+t.start.column*n.characterWidth;this.elt(e,"height:"+o+"px;width:"+h+"px;top:"+p+"px;left:"+y+"px;"+(i||""))},this.drawBidiSingleLineMarker=function(a,t,e,n,r,i){var o=n.lineHeight,h=this.$getTop(t.start.row,n),p=this.$padding,y=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);y.forEach(function(L){this.elt(e,"height:"+o+"px;width:"+L.width+(r||0)+"px;top:"+h+"px;left:"+(p+L.left)+"px;"+(i||""))},this)},this.drawFullLineMarker=function(a,t,e,n,r){var i=this.$getTop(t.start.row,n),o=n.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,n)-i),this.elt(e,"height:"+o+"px;top:"+i+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(a,t,e,n,r){var i=this.$getTop(t.start.row,n),o=n.lineHeight;this.elt(e,"height:"+o+"px;top:"+i+"px;left:0;right:0;"+(r||""))}}).call(d.prototype),M.Marker=d}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(E,M,w){var C=E("../lib/oop"),R=E("../lib/dom"),d=E("../lib/lang"),l=E("./lines").Lines,a=E("../lib/event_emitter").EventEmitter,t=function(e){this.dom=R,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new l(this.element)};(function(){C.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,n=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",r=n?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=r)return this.EOL_CHAR=r,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(n){this._signal("changeCharacterSize",n)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var n=this.$tabStrings=[0],r=1;r<e+1;r++)if(this.showTabs){var i=this.dom.createElement("span");i.className="ace_invisible ace_invisible_tab",i.textContent=d.stringRepeat(this.TAB_CHAR,r),n.push(i)}else n.push(this.dom.createTextNode(d.stringRepeat(" ",r),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var o="ace_indent-guide",h=this.showSpaces?" ace_invisible ace_invisible_space":"",p=this.showSpaces?d.stringRepeat(this.SPACE_CHAR,this.tabSize):d.stringRepeat(" ",this.tabSize),y=this.showTabs?" ace_invisible ace_invisible_tab":"",L=this.showTabs?d.stringRepeat(this.TAB_CHAR,this.tabSize):p,i=this.dom.createElement("span");i.className=o+h,i.textContent=p,this.$tabStrings[" "]=i;var i=this.dom.createElement("span");i.className=o+y,i.textContent=L,this.$tabStrings["	"]=i}},this.updateLines=function(e,n,r){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(n,e.firstRow),o=Math.min(r,e.lastRow),h=this.element.childNodes,p=0,L=e.firstRow;L<i;L++){var m=this.session.getFoldLine(L);if(m){if(m.containsRow(i)){i=m.start.row;break}L=m.end.row}p++}for(var y=!1,L=i,m=this.session.getNextFoldLine(L),s=m?m.start.row:1/0;L>s&&(L=m.end.row+1,m=this.session.getNextFoldLine(L,m),s=m?m.start.row:1/0),!(L>o);){var f=h[p++];if(f){this.dom.removeChildren(f),this.$renderLine(f,L,L==s?m:!1),y&&(f.style.top=this.$lines.computeLineTop(L,e,this.session)+"px");var _=e.lineHeight*this.session.getRowLength(L)+"px";f.style.height!=_&&(y=!0,f.style.height=_)}L++}if(y)for(;p<this.$lines.cells.length;){var g=this.$lines.cells[p++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+"px"}},this.scrollLines=function(e){var n=this.config;if(this.config=e,this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var r=e.lastRow,i=n?n.lastRow:-1;if(!n||i<e.firstRow)return this.update(e);if(r<n.firstRow)return this.update(e);if(!n||n.lastRow<e.firstRow)return this.update(e);if(e.lastRow<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(n.lastRow>e.lastRow)for(var o=this.session.getFoldedRowCount(e.lastRow+1,n.lastRow);o>0;o--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,n.firstRow-1)),e.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(e,n.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,n,r){for(var i=[],o=n,h=this.session.getNextFoldLine(o),p=h?h.start.row:1/0;o>p&&(o=h.end.row+1,h=this.session.getNextFoldLine(o,h),p=h?h.start.row:1/0),!(o>r);){var y=this.$lines.createCell(o,e,this.session),L=y.element;this.dom.removeChildren(L),R.setStyle(L.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),R.setStyle(L.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(L,o,o==p?h:!1),this.$useLineGroups()?L.className="ace_line_group":L.className="ace_line",i.push(y),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var n=e.firstRow,r=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,n,r))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,n,r,i){for(var o=this,h=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,p=this.dom.createFragment(this.element),y,L=0;y=h.exec(i);){var m=y[1],s=y[2],f=y[3],_=y[4],g=y[5];if(!(!o.showSpaces&&s)){var v=L!=y.index?i.slice(L,y.index):"";if(L=y.index+y[0].length,v&&p.appendChild(this.dom.createTextNode(v,this.element)),m){var c=o.session.getScreenTabSize(n+y.index);p.appendChild(o.$tabStrings[c].cloneNode(!0)),n+=c-1}else if(s)if(o.showSpaces){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space",b.textContent=d.stringRepeat(o.SPACE_CHAR,s.length),p.appendChild(b)}else p.appendChild(this.com.createTextNode(s,this.element));else if(f){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space ace_invalid",b.textContent=d.stringRepeat(o.SPACE_CHAR,f.length),p.appendChild(b)}else if(_){n+=1;var b=this.dom.createElement("span");b.style.width=o.config.characterWidth*2+"px",b.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=o.showSpaces?o.SPACE_CHAR:_,p.appendChild(b)}else if(g){n+=1;var b=this.dom.createElement("span");b.style.width=o.config.characterWidth*2+"px",b.className="ace_cjk",b.textContent=g,p.appendChild(b)}}}if(p.appendChild(this.dom.createTextNode(L?i.slice(L):i,this.element)),this.$textToken[r.type])e.appendChild(p);else{var k="ace_"+r.type.replace(/\./g," ace_"),b=this.dom.createElement("span");r.type=="fold"&&(b.style.width=r.value.length*this.config.characterWidth+"px"),b.className=k,b.appendChild(p),e.appendChild(b)}return n+i.length},this.renderIndentGuide=function(e,n,r){var i=n.search(this.$indentGuideRe);if(i<=0||i>=r)return n;if(n[0]==" "){i-=i%this.tabSize;for(var o=i/this.tabSize,h=0;h<o;h++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return n.substr(i)}if(n[0]=="	"){for(var h=0;h<i;h++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return n.substr(i)}return n},this.$createLineElement=function(e){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},this.$renderWrappedLine=function(e,n,r){var i=0,o=0,h=r[0],p=0,y=this.$createLineElement();e.appendChild(y);for(var L=0;L<n.length;L++){var m=n[L],s=m.value;if(L==0&&this.displayIndentGuides){if(i=s.length,s=this.renderIndentGuide(y,s,h),!s)continue;i-=s.length}if(i+s.length<h)p=this.$renderToken(y,p,m,s),i+=s.length;else{for(;i+s.length>=h;)p=this.$renderToken(y,p,m,s.substring(0,h-i)),s=s.substring(h-i),i=h,y=this.$createLineElement(),e.appendChild(y),y.appendChild(this.dom.createTextNode(d.stringRepeat(" ",r.indent),this.element)),o++,p=0,h=r[o]||Number.MAX_VALUE;s.length!=0&&(i+=s.length,p=this.$renderToken(y,p,m,s))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(y,p,null,"",!0)},this.$renderSimpleLine=function(e,n){var r=0,i=n[0],o=i.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(r=this.$renderToken(e,r,i,o));for(var h=1;h<n.length;h++){if(i=n[h],o=i.value,r+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,r,i,o);r=this.$renderToken(e,r,i,o)}},this.$renderOverflowMessage=function(e,n,r,i,o){r&&this.$renderToken(e,n,r,i.slice(0,this.MAX_LINE_LENGTH-n));var h=this.dom.createElement("span");h.className="ace_inline_button ace_keyword ace_toggle_wrap",h.textContent=o?"<hide>":"<click to see more...>",e.appendChild(h)},this.$renderLine=function(e,n,r){if(!r&&r!=0&&(r=this.session.getFoldLine(n)),r)var i=this.$getFoldLineTokens(n,r);else var i=this.session.getTokens(n);var o=e;if(i.length){var h=this.session.getRowSplitData(n);if(h&&h.length){this.$renderWrappedLine(e,i,h);var o=e.lastChild}else{var o=e;this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,i)}}else this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o));if(this.showEOL&&o){r&&(n=r.end.row);var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_eol",p.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(p)}},this.$getFoldLineTokens=function(e,n){function r(p,y,L){for(var m=0,s=0;s+p[m].value.length<y;)if(s+=p[m].value.length,m++,m==p.length)return;if(s!=y){var f=p[m].value.substring(y-s);f.length>L-y&&(f=f.substring(0,L-y)),o.push({type:p[m].type,value:f}),s=y+f.length,m+=1}for(;s<L&&m<p.length;){var f=p[m].value;f.length+s>L?o.push({type:p[m].type,value:f.substring(0,L-s)}):o.push(p[m]),s+=f.length,m+=1}}var i=this.session,o=[],h=i.getTokens(e);return n.walk(function(p,y,L,m,s){p!=null?o.push({type:"fold",value:p}):(s&&(h=i.getTokens(y)),h.length&&r(h,m,L))},n.end.row,this.session.getLine(n.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(t.prototype),M.Text=t}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(E,M,w){var C=E("../lib/dom"),R=function(d){this.element=C.createElement("div"),this.element.className="ace_layer ace_cursor-layer",d.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),C.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(d){for(var l=this.cursors,a=l.length;a--;)C.setStyle(l[a].style,"opacity",d?"":"0")},this.$startCssAnimation=function(){for(var d=this.cursors,l=d.length;l--;)d[l].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){C.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){C.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(d){this.$padding=d},this.setSession=function(d){this.session=d},this.setBlinking=function(d){d!=this.isBlinking&&(this.isBlinking=d,this.restartTimer())},this.setBlinkInterval=function(d){d!=this.blinkInterval&&(this.blinkInterval=d,this.restartTimer())},this.setSmoothBlinking=function(d){d!=this.smoothBlinking&&(this.smoothBlinking=d,C.setCssClass(this.element,"ace_smooth-blinking",d),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var d=C.createElement("div");return d.className="ace_cursor",this.element.appendChild(d),this.cursors.push(d),d},this.removeCursor=function(){if(this.cursors.length>1){var d=this.cursors.pop();return d.parentNode.removeChild(d),d}},this.hideCursor=function(){this.isVisible=!1,C.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,C.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var d=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&C.removeCssClass(this.element,"ace_smooth-blinking"),d(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&setTimeout((function(){C.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),C.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var l=(function(){this.timeoutId=setTimeout(function(){d(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){d(!0),l()},this.blinkInterval),l()}},this.getPixelPosition=function(d,l){if(!this.config||!this.session)return{left:0,top:0};d||(d=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(d),t=this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,d.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),e=(a.row-(l?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:t,top:e}},this.isCursorInView=function(d,l){return d.top>=0&&d.top<l.maxHeight},this.update=function(d){this.config=d;var l=this.session.$selectionMarkers,a=0,t=0;(l===void 0||l.length===0)&&(l=[{cursor:null}]);for(var a=0,e=l.length;a<e;a++){var n=this.getPixelPosition(l[a].cursor,!0);if(!((n.top>d.height+d.offset||n.top<0)&&a>1)){var r=this.cursors[t++]||this.addCursor(),i=r.style;this.drawCursor?this.drawCursor(r,n,d,l[a],this.session):this.isCursorInView(n,d)?(C.setStyle(i,"display","block"),C.translate(r,n.left,n.top),C.setStyle(i,"width",Math.round(d.characterWidth)+"px"),C.setStyle(i,"height",d.lineHeight+"px")):C.setStyle(i,"display","none")}}for(;this.cursors.length>t;)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=n,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(d){d!=this.overwrite&&(this.overwrite=d,d?C.addCssClass(this.element,"ace_overwrite-cursors"):C.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(R.prototype),M.Cursor=R}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/dom"),d=E("./lib/event"),l=E("./lib/event_emitter").EventEmitter,a=32768,t=function(r){this.element=R.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=R.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addListener(this.element,"scroll",this.onScroll.bind(this)),d.addListener(this.element,"mousedown",d.preventDefault)};(function(){C.implement(this,l),this.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1}}).call(t.prototype);var e=function(r,i){t.call(this,r),this.scrollTop=0,this.scrollHeight=0,i.$scrollbarWidth=this.width=R.scrollbarWidth(r.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};C.inherits(e,t),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var r=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-r)/(this.coeff-r)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(r){this.element.style.height=r+"px"},this.setInnerHeight=this.setScrollHeight=function(r){this.scrollHeight=r,r>a?(this.coeff=a/r,r=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=r+"px"},this.setScrollTop=function(r){this.scrollTop!=r&&(this.skipEvent=!0,this.scrollTop=r,this.element.scrollTop=r*this.coeff)}}).call(e.prototype);var n=function(r,i){t.call(this,r),this.scrollLeft=0,this.height=i.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};C.inherits(n,t),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(r){this.element.style.width=r+"px"},this.setInnerWidth=function(r){this.inner.style.width=r+"px"},this.setScrollWidth=function(r){this.inner.style.width=r+"px"},this.setScrollLeft=function(r){this.scrollLeft!=r&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=r)}}).call(n.prototype),M.ScrollBar=e,M.ScrollBarV=e,M.ScrollBarH=n,M.VScrollBar=e,M.HScrollBar=n}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(E,M,w){var C=E("./lib/event"),R=function(d,l){this.onRender=d,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=l||window;var a=this;this._flush=function(t){a.pending=!1;var e=a.changes;if(e&&(C.blockIdle(100),a.changes=0,a.onRender(e)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}};(function(){this.schedule=function(d){this.changes=this.changes|d,this.changes&&!this.pending&&(C.nextFrame(this._flush),this.pending=!0)},this.clear=function(d){var l=this.changes;return this.changes=0,l}}).call(R.prototype),M.RenderLoop=R}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(E,M,w){var C=E("../lib/oop"),R=E("../lib/dom"),d=E("../lib/lang"),l=E("../lib/event"),a=E("../lib/useragent"),t=E("../lib/event_emitter").EventEmitter,e=256,n=typeof ResizeObserver=="function",r=200,i=M.FontMetrics=function(o){this.el=R.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=R.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=R.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),o.appendChild(this.el),this.$measureNode.textContent=d.stringRepeat("X",e),this.$characterSize={width:0,height:0},n?this.$addObserver():this.checkForSizeChanges()};(function(){C.implement(this,t),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(o,h){o.width=o.height="auto",o.left=o.top="0px",o.visibility="hidden",o.position="absolute",o.whiteSpace="pre",a.isIE<8?o["font-family"]="inherit":o.font="inherit",o.overflow=h?"hidden":"visible"},this.checkForSizeChanges=function(o){if(o===void 0&&(o=this.$measureSizes()),o&&(this.$characterSize.width!==o.width||this.$characterSize.height!==o.height)){this.$measureNode.style.fontWeight="bold";var h=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=o,this.charSizes=Object.create(null),this.allowBoldFonts=h&&h.width===o.width&&h.height===o.height,this._emit("changeCharacterSize",{data:o})}},this.$addObserver=function(){var o=this;this.$observer=new window.ResizeObserver(function(h){o.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var o=this;return this.$pollSizeChangesTimer=l.onIdle(function h(){o.checkForSizeChanges(),l.onIdle(h,500)},500)},this.setPolling=function(o){o?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(o){var h={height:(o||this.$measureNode).clientHeight,width:(o||this.$measureNode).clientWidth/e};return h.width===0||h.height===0?null:h},this.$measureCharWidth=function(o){this.$main.textContent=d.stringRepeat(o,e);var h=this.$main.getBoundingClientRect();return h.width/e},this.getCharacterWidth=function(o){var h=this.charSizes[o];return h===void 0&&(h=this.charSizes[o]=this.$measureCharWidth(o)/this.$characterSize.width),h},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function o(h){return!h||!h.parentElement?1:(window.getComputedStyle(h).zoom||1)*o(h.parentElement)},this.$initTransformMeasureNodes=function(){var o=function(h,p){return["div",{style:"position: absolute;top:"+h+"px;left:"+p+"px;"}]};this.els=R.buildDom([o(0,0),o(r,0),o(0,r),o(r,r)],this.el)},this.transformCoordinates=function(o,h){function p(Z,K,X){var ee=Z[1]*K[0]-Z[0]*K[1];return[(-K[1]*X[0]+K[0]*X[1])/ee,(+Z[1]*X[0]-Z[0]*X[1])/ee]}function y(Z,K){return[Z[0]-K[0],Z[1]-K[1]]}function L(Z,K){return[Z[0]+K[0],Z[1]+K[1]]}function m(Z,K){return[Z*K[0],Z*K[1]]}function s(Z){var K=Z.getBoundingClientRect();return[K.left,K.top]}if(o){var f=this.$getZoom(this.el);o=m(1/f,o)}this.els||this.$initTransformMeasureNodes();var _=s(this.els[0]),g=s(this.els[1]),v=s(this.els[2]),c=s(this.els[3]),b=p(y(c,g),y(c,v),y(L(g,v),L(c,_))),k=m(1+b[0],y(g,_)),F=m(1+b[1],y(v,_));if(h){var x=h,N=b[0]*x[0]/r+b[1]*x[1]/r+1,G=L(m(x[0],k),m(x[1],F));return L(m(1/N/r,G),_)}var q=y(o,_),ne=p(y(k,m(b[0],q)),y(F,m(b[1],q)),q);return m(r,ne)}}).call(i.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(E,M,w){var C=E("./lib/oop"),R=E("./lib/dom"),d=E("./config"),l=E("./layer/gutter").Gutter,a=E("./layer/marker").Marker,t=E("./layer/text").Text,e=E("./layer/cursor").Cursor,n=E("./scrollbar").HScrollBar,r=E("./scrollbar").VScrollBar,i=E("./renderloop").RenderLoop,o=E("./layer/font_metrics").FontMetrics,h=E("./lib/event_emitter").EventEmitter,p=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}`,y=E("./lib/useragent"),L=y.isIE;R.importCssString(p,"ace_editor.css");var m=function(s,f){var _=this;this.container=s||R.createElement("div"),R.addCssClass(this.container,"ace_editor"),R.HI_DPI&&R.addCssClass(this.container,"ace_hidpi"),this.setTheme(f),this.$gutter=R.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=R.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=R.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new l(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var g=this.$textLayer=new t(this.content);this.canvas=g.element,this.$markerFront=new a(this.content),this.$cursorLayer=new e(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new r(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.on("scroll",function(v){_.$scrollAnimation||_.session.setScrollTop(v.data-_.scrollMargin.top)}),this.scrollBarH.on("scroll",function(v){_.$scrollAnimation||_.session.setScrollLeft(v.data-_.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new o(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(v){_.updateCharacterSize(),_.onResize(!0,_.gutterWidth,_.$size.width,_.$size.height),_._signal("changeCharacterSize",v)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new i(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),d.resetOptions(this),d._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,C.implement(this,h),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),R.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(s){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=s,s&&this.scrollMargin.top&&s.getScrollTop()<=0&&s.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(s),this.$markerBack.setSession(s),this.$markerFront.setSession(s),this.$gutterLayer.setSession(s),this.$textLayer.setSession(s),s&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(s,f,_){if(f===void 0&&(f=1/0),this.$changedLines?(this.$changedLines.firstRow>s&&(this.$changedLines.firstRow=s),this.$changedLines.lastRow<f&&(this.$changedLines.lastRow=f)):this.$changedLines={firstRow:s,lastRow:f},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!_)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(s){s?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(s,f,_,g){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=s?1:0;var v=this.container;g||(g=v.clientHeight||v.scrollHeight),_||(_=v.clientWidth||v.scrollWidth);var c=this.$updateCachedSize(s,f,_,g);if(!this.$size.scrollerHeight||!_&&!g)return this.resizing=0;s&&(this.$gutterLayer.$padding=null),s?this.$renderChanges(c|this.$changes,!0):this.$loop.schedule(c|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(s,f,_,g){g-=this.$extraHeight||0;var v=0,c=this.$size,b={width:c.width,height:c.height,scrollerHeight:c.scrollerHeight,scrollerWidth:c.scrollerWidth};if(g&&(s||c.height!=g)&&(c.height=g,v|=this.CHANGE_SIZE,c.scrollerHeight=c.height,this.$horizScroll&&(c.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",v|=this.CHANGE_SCROLL),_&&(s||c.width!=_)){v|=this.CHANGE_SIZE,c.width=_,f==null&&(f=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=f,R.setStyle(this.scrollBarH.element.style,"left",f+"px"),R.setStyle(this.scroller.style,"left",f+this.margin.left+"px"),c.scrollerWidth=Math.max(0,_-f-this.scrollBarV.getWidth()-this.margin.h),R.setStyle(this.$gutter.style,"left",this.margin.left+"px");var k=this.scrollBarV.getWidth()+"px";R.setStyle(this.scrollBarH.element.style,"right",k),R.setStyle(this.scroller.style,"right",k),R.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||s)&&(v|=this.CHANGE_FULL)}return c.$dirty=!_||!g,v&&this._signal("resize",b),v},this.onGutterResize=function(s){var f=this.$showGutter?s:0;f!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,f,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var s=this.$size.scrollerWidth-this.$padding*2,f=Math.floor(s/this.characterWidth);return this.session.adjustWrapLimit(f,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(s){this.setOption("animatedScroll",s)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(s){this.setOption("showInvisibles",s),this.session.$bidiHandler.setShowInvisibles(s)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(s){this.setOption("displayIndentGuides",s)},this.setShowPrintMargin=function(s){this.setOption("showPrintMargin",s)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(s){this.setOption("printMarginColumn",s)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(s){return this.setOption("showGutter",s)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(s){this.setOption("fadeFoldWidgets",s)},this.setHighlightGutterLine=function(s){this.setOption("highlightGutterLine",s)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var s=R.createElement("div");s.className="ace_layer ace_print-margin-layer",this.$printMarginEl=R.createElement("div"),this.$printMarginEl.className="ace_print-margin",s.appendChild(this.$printMarginEl),this.content.insertBefore(s,this.content.firstChild)}var f=this.$printMarginEl.style;f.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",f.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var s=this.textarea.style,f=this.$composition;if(!this.$keepTextAreaAtCursor&&!f){R.translate(this.textarea,-100,0);return}var _=this.$cursorLayer.$pixelPos;if(_){f&&f.markerRange&&(_=this.$cursorLayer.getPixelPosition(f.markerRange.start,!0));var g=this.layerConfig,v=_.top,c=_.left;v-=g.offset;var b=f&&f.useTextareaForIME?this.lineHeight:L?0:1;if(v<0||v>g.height-b){R.translate(this.textarea,0,0);return}var k=1,F=this.$size.height-b;if(!f)v+=this.lineHeight;else if(f.useTextareaForIME){var x=this.textarea.value;k=this.characterWidth*this.session.$getStringScreenWidth(x)[0]}else v+=this.lineHeight+2;c-=this.scrollLeft,c>this.$size.scrollerWidth-k&&(c=this.$size.scrollerWidth-k),c+=this.gutterWidth+this.margin.left,R.setStyle(s,"height",b+"px"),R.setStyle(s,"width",k+"px"),R.translate(this.textarea,Math.min(c,this.$size.scrollerWidth-k),Math.min(v,F))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var s=this.layerConfig,f=s.lastRow,_=this.session.documentToScreenRow(f,0)*s.lineHeight;return _-this.session.getScrollTop()>s.height-s.lineHeight?f-1:f},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(s){this.$padding=s,this.$textLayer.setPadding(s),this.$cursorLayer.setPadding(s),this.$markerFront.setPadding(s),this.$markerBack.setPadding(s),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(s,f,_,g){var v=this.scrollMargin;v.top=s|0,v.bottom=f|0,v.right=g|0,v.left=_|0,v.v=v.top+v.bottom,v.h=v.left+v.right,v.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-v.top),this.updateFull()},this.setMargin=function(s,f,_,g){var v=this.margin;v.top=s|0,v.bottom=f|0,v.right=g|0,v.left=_|0,v.v=v.top+v.bottom,v.h=v.left+v.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(s){this.setOption("hScrollBarAlwaysVisible",s)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(s){this.setOption("vScrollBarAlwaysVisible",s)},this.$updateScrollBarV=function(){var s=this.layerConfig.maxHeight,f=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(s-=(f-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>s-f&&(s=this.scrollTop+f,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(s+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(s,f){if(this.$changes&&(s|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!s&&!f){this.$changes|=s;return}if(this.$size.$dirty)return this.$changes|=s,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",s),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var _=this.layerConfig;if(s&this.CHANGE_FULL||s&this.CHANGE_SIZE||s&this.CHANGE_TEXT||s&this.CHANGE_LINES||s&this.CHANGE_SCROLL||s&this.CHANGE_H_SCROLL){if(s|=this.$computeLayerConfig()|this.$loop.clear(),_.firstRow!=this.layerConfig.firstRow&&_.firstRowScreen==this.layerConfig.firstRowScreen){var g=this.scrollTop+(_.firstRow-this.layerConfig.firstRow)*this.lineHeight;g>0&&(this.scrollTop=g,s|=this.CHANGE_SCROLL,s|=this.$computeLayerConfig()|this.$loop.clear())}_=this.layerConfig,this.$updateScrollBarV(),s&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),R.translate(this.content,-this.scrollLeft,-_.offset);var v=_.width+2*this.$padding+"px",c=_.minHeight+"px";R.setStyle(this.content.style,"width",v),R.setStyle(this.content.style,"height",c)}if(s&this.CHANGE_H_SCROLL&&(R.translate(this.content,-this.scrollLeft,-_.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),s&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",s);return}if(s&this.CHANGE_SCROLL){this.$changedLines=null,s&this.CHANGE_TEXT||s&this.CHANGE_LINES?this.$textLayer.update(_):this.$textLayer.scrollLines(_),this.$showGutter&&(s&this.CHANGE_GUTTER||s&this.CHANGE_LINES?this.$gutterLayer.update(_):this.$gutterLayer.scrollLines(_)),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",s);return}s&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_)):s&this.CHANGE_LINES?(this.$updateLines()||s&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(_):s&this.CHANGE_TEXT||s&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(_):s&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(_),s&this.CHANGE_CURSOR&&(this.$cursorLayer.update(_),this.$moveTextAreaToCursor()),s&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(_),s&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(_),this._signal("afterRender",s)},this.$autosize=function(){var s=this.session.getScreenLength()*this.lineHeight,f=this.$maxLines*this.lineHeight,_=Math.min(f,Math.max((this.$minLines||1)*this.lineHeight,s))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(_+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&_>this.$maxPixelHeight&&(_=this.$maxPixelHeight);var g=_<=2*this.lineHeight,v=!g&&s>f;if(_!=this.desiredHeight||this.$size.height!=this.desiredHeight||v!=this.$vScroll){v!=this.$vScroll&&(this.$vScroll=v,this.scrollBarV.setVisible(v));var c=this.container.clientWidth;this.container.style.height=_+"px",this.$updateCachedSize(!0,this.$gutterWidth,c,_),this.desiredHeight=_,this._signal("autosize")}},this.$computeLayerConfig=function(){var s=this.session,f=this.$size,_=f.height<=2*this.lineHeight,g=this.session.getScreenLength(),v=g*this.lineHeight,c=this.$getLongestLine(),b=!_&&(this.$hScrollBarAlwaysVisible||f.scrollerWidth-c-2*this.$padding<0),k=this.$horizScroll!==b;k&&(this.$horizScroll=b,this.scrollBarH.setVisible(b));var F=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var x=f.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(f.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;v+=N;var G=this.scrollMargin;this.session.setScrollTop(Math.max(-G.top,Math.min(this.scrollTop,v-f.scrollerHeight+G.bottom))),this.session.setScrollLeft(Math.max(-G.left,Math.min(this.scrollLeft,c+2*this.$padding-f.scrollerWidth+G.right)));var q=!_&&(this.$vScrollBarAlwaysVisible||f.scrollerHeight-v+N<0||this.scrollTop>G.top),ne=F!==q;ne&&(this.$vScroll=q,this.scrollBarV.setVisible(q));var Z=this.scrollTop%this.lineHeight,K=Math.ceil(x/this.lineHeight)-1,X=Math.max(0,Math.round((this.scrollTop-Z)/this.lineHeight)),ee=X+K,ie,le,ce=this.lineHeight;X=s.screenToDocumentRow(X,0);var ye=s.getFoldLine(X);ye&&(X=ye.start.row),ie=s.documentToScreenRow(X,0),le=s.getRowLength(X)*ce,ee=Math.min(s.screenToDocumentRow(ee,0),s.getLength()-1),x=f.scrollerHeight+s.getRowLength(ee)*ce+le,Z=this.scrollTop-ie*ce;var pe=0;return(this.layerConfig.width!=c||k)&&(pe=this.CHANGE_H_SCROLL),(k||ne)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,f.width,f.height),this._signal("scrollbarVisibilityChanged"),ne&&(c=this.$getLongestLine())),this.layerConfig={width:c,padding:this.$padding,firstRow:X,firstRowScreen:ie,lastRow:ee,lineHeight:ce,characterWidth:this.characterWidth,minHeight:x,maxHeight:v,offset:Z,gutterOffset:ce?Math.max(0,Math.ceil((Z+f.height-f.scrollerHeight)/ce)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(c-this.$padding),pe},this.$updateLines=function(){if(this.$changedLines){var s=this.$changedLines.firstRow,f=this.$changedLines.lastRow;this.$changedLines=null;var _=this.layerConfig;if(!(s>_.lastRow+1)&&!(f<_.firstRow)){if(f===1/0){this.$showGutter&&this.$gutterLayer.update(_),this.$textLayer.update(_);return}return this.$textLayer.updateLines(_,s,f),!0}}},this.$getLongestLine=function(){var s=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(s+=1),this.$textLayer&&s>this.$textLayer.MAX_LINE_LENGTH&&(s=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(s*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(s,f){this.$gutterLayer.addGutterDecoration(s,f)},this.removeGutterDecoration=function(s,f){this.$gutterLayer.removeGutterDecoration(s,f)},this.updateBreakpoints=function(s){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(s){this.$gutterLayer.setAnnotations(s),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(s,f,_){this.scrollCursorIntoView(s,_),this.scrollCursorIntoView(f,_)},this.scrollCursorIntoView=function(s,f,_){if(this.$size.scrollerHeight!==0){var g=this.$cursorLayer.getPixelPosition(s),v=g.left,c=g.top,b=_&&_.top||0,k=_&&_.bottom||0,F=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;F+b>c?(f&&F+b>c+this.lineHeight&&(c-=f*this.$size.scrollerHeight),c===0&&(c=-this.scrollMargin.top),this.session.setScrollTop(c)):F+this.$size.scrollerHeight-k<c+this.lineHeight&&(f&&F+this.$size.scrollerHeight-k<c-this.lineHeight&&(c+=f*this.$size.scrollerHeight),this.session.setScrollTop(c+this.lineHeight+k-this.$size.scrollerHeight));var x=this.scrollLeft;x>v?(v<this.$padding+2*this.layerConfig.characterWidth&&(v=-this.scrollMargin.left),this.session.setScrollLeft(v)):x+this.$size.scrollerWidth<v+this.characterWidth?this.session.setScrollLeft(Math.round(v+this.characterWidth-this.$size.scrollerWidth)):x<=this.$padding&&v-x<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(s){this.session.setScrollTop(s*this.lineHeight)},this.alignCursor=function(s,f){typeof s=="number"&&(s={row:s,column:0});var _=this.$cursorLayer.getPixelPosition(s),g=this.$size.scrollerHeight-this.lineHeight,v=_.top-g*(f||0);return this.session.setScrollTop(v),v},this.STEPS=8,this.$calcSteps=function(s,f){var _=0,g=this.STEPS,v=[],c=function(b,k,F){return F*(Math.pow(b-1,3)+1)+k};for(_=0;_<g;++_)v.push(c(_/this.STEPS,s,f-s));return v},this.scrollToLine=function(s,f,_,g){var v=this.$cursorLayer.getPixelPosition({row:s,column:0}),c=v.top;f&&(c-=this.$size.scrollerHeight/2);var b=this.scrollTop;this.session.setScrollTop(c),_!==!1&&this.animateScrolling(b,g)},this.animateScrolling=function(s,f){var _=this.scrollTop;if(this.$animatedScroll){var g=this;if(s!=_){if(this.$scrollAnimation){var v=this.$scrollAnimation.steps;if(v.length&&(s=v[0],s==_))return}var c=g.$calcSteps(s,_);this.$scrollAnimation={from:s,to:_,steps:c},clearInterval(this.$timer),g.session.setScrollTop(c.shift()),g.session.$scrollTop=_,this.$timer=setInterval(function(){if(!g.session)return clearInterval(g.$timer);c.length?(g.session.setScrollTop(c.shift()),g.session.$scrollTop=_):_!=null?(g.session.$scrollTop=-1,g.session.setScrollTop(_),_=null):(g.$timer=clearInterval(g.$timer),g.$scrollAnimation=null,f&&f())},10)}}},this.scrollToY=function(s){this.scrollTop!==s&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=s)},this.scrollToX=function(s){this.scrollLeft!==s&&(this.scrollLeft=s),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(s,f){this.session.setScrollTop(f),this.session.setScrollLeft(f)},this.scrollBy=function(s,f){f&&this.session.setScrollTop(this.session.getScrollTop()+f),s&&this.session.setScrollLeft(this.session.getScrollLeft()+s)},this.isScrollableBy=function(s,f){if(f<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||f>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||s<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||s>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(s,f){var _;if(this.$hasCssTransforms){_={top:0,left:0};var g=this.$fontMetrics.transformCoordinates([s,f]);s=g[1]-this.gutterWidth-this.margin.left,f=g[0]}else _=this.scroller.getBoundingClientRect();var v=s+this.scrollLeft-_.left-this.$padding,c=v/this.characterWidth,b=Math.floor((f+this.scrollTop-_.top)/this.lineHeight),k=this.$blockCursor?Math.floor(c):Math.round(c);return{row:b,column:k,side:c-k>0?1:-1,offsetX:v}},this.screenToTextCoordinates=function(s,f){var _;if(this.$hasCssTransforms){_={top:0,left:0};var g=this.$fontMetrics.transformCoordinates([s,f]);s=g[1]-this.gutterWidth-this.margin.left,f=g[0]}else _=this.scroller.getBoundingClientRect();var v=s+this.scrollLeft-_.left-this.$padding,c=v/this.characterWidth,b=this.$blockCursor?Math.floor(c):Math.round(c),k=Math.floor((f+this.scrollTop-_.top)/this.lineHeight);return this.session.screenToDocumentPosition(k,Math.max(b,0),v)},this.textToScreenCoordinates=function(s,f){var _=this.scroller.getBoundingClientRect(),g=this.session.documentToScreenPosition(s,f),v=this.$padding+(this.session.$bidiHandler.isBidiRow(g.row,s)?this.session.$bidiHandler.getPosLeft(g.column):Math.round(g.column*this.characterWidth)),c=g.row*this.lineHeight;return{pageX:_.left+v-this.scrollLeft,pageY:_.top+c-this.scrollTop}},this.visualizeFocus=function(){R.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){R.removeCssClass(this.container,"ace_focus")},this.showComposition=function(s){this.$composition=s,s.cssText||(s.cssText=this.textarea.style.cssText),s.useTextareaForIME==null&&(s.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(R.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):s.markerId=this.session.addMarker(s.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(s){var f=this.session.selection.cursor;this.addToken(s,"composition_placeholder",f.row,f.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),R.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var s=this.session.selection.cursor;this.removeExtraToken(s.row,s.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(s,f,_,g){var v=this.session;v.bgTokenizer.lines[_]=null;var c={type:f,value:s},b=v.getTokens(_);if(g==null)b.push(c);else for(var k=0,F=0;F<b.length;F++){var x=b[F];if(k+=x.value.length,g<=k){var N=x.value.length-(k-g),G=x.value.slice(0,N),q=x.value.slice(N);b.splice(F,1,{type:x.type,value:G},c,{type:x.type,value:q});break}}this.updateLines(_,_)},this.removeExtraToken=function(s,f){this.updateLines(s,s)},this.setTheme=function(s,f){function _(c){if(g.$themeId!=s)return f&&f();if(!c||!c.cssClass)throw new Error("couldn't load module "+s+" or it didn't call define");c.$id&&(g.$themeId=c.$id),R.importCssString(c.cssText,c.cssClass,g.container),g.theme&&R.removeCssClass(g.container,g.theme.cssClass);var b="padding"in c?c.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&b!=g.$padding&&g.setPadding(b),g.$theme=c.cssClass,g.theme=c,R.addCssClass(g.container,c.cssClass),R.setCssClass(g.container,"ace_dark",c.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:c}),f&&f()}var g=this;if(this.$themeId=s,g._dispatchEvent("themeChange",{theme:s}),!s||typeof s=="string"){var v=s||this.$options.theme.initialValue;d.loadModule(["theme",v],_)}else _(s)},this.getTheme=function(){return this.$themeId},this.setStyle=function(s,f){R.setCssClass(this.container,s,f!==!1)},this.unsetStyle=function(s){R.removeCssClass(this.container,s)},this.setCursorStyle=function(s){R.setStyle(this.scroller.style,"cursor",s)},this.setMouseCursor=function(s){R.setStyle(this.scroller.style,"cursor",s)},this.attachToShadowRoot=function(){R.importCssString(p,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(m.prototype),d.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(s){this.$textLayer.setShowInvisibles(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(s){typeof s=="number"&&(this.$printMarginColumn=s),this.$showPrintMargin=!!s,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(s){this.$gutter.style.display=s?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(s){R.setCssClass(this.$gutter,"ace_fade-fold-widgets",s)},initialValue:!1},showFoldWidgets:{set:function(s){this.$gutterLayer.setShowFoldWidgets(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(s){this.$textLayer.setDisplayIndentGuides(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(s){this.$gutterLayer.setHighlightGutterLine(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(s){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(s){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(s){typeof s=="number"&&(s+="px"),this.container.style.fontSize=s,this.updateFontSize()},initialValue:12},fontFamily:{set:function(s){this.container.style.fontFamily=s,this.updateFontSize()}},maxLines:{set:function(s){this.updateFull()}},minLines:{set:function(s){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(s){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(s){s=+s||0,this.$scrollPastEnd!=s&&(this.$scrollPastEnd=s,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(s){this.$gutterLayer.$fixedWidth=!!s,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(s){this.setTheme(s)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),M.VirtualRenderer=m}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(E,M,w){function C(r){var i="importScripts('"+l.qualifyURL(r)+"');";try{return new Blob([i],{type:"application/javascript"})}catch{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,h=new o;return h.append(i),h.getBlob("application/javascript")}}function R(r){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(t.get("loadWorkerFromBlob")){var i=C(r),o=window.URL||window.webkitURL,h=o.createObjectURL(i);return new Worker(h)}return new Worker(r)}var d=E("../lib/oop"),l=E("../lib/net"),a=E("../lib/event_emitter").EventEmitter,t=E("../config"),e=function(r){r.postMessage||(r=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=r,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,a),this.$createWorkerFromOldConfig=function(r,i,o,h,p){if(E.nameToUrl&&!E.toUrl&&(E.toUrl=E.nameToUrl),t.get("packaged")||!E.toUrl)h=h||t.moduleUrl(i,"worker");else{var y=this.$normalizePath;h=h||y(E.toUrl("ace/worker/worker.js",null,"_"));var L={};r.forEach(function(m){L[m]=y(E.toUrl(m,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=R(h),p&&this.send("importScripts",p),this.$worker.postMessage({init:!0,tlns:L,module:i,classname:o}),this.$worker},this.onMessage=function(r){var i=r.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var o=this.callbacks[i.id];o&&(o(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data)}},this.reportError=function(r){window.console&&console.error&&console.error(r)},this.$normalizePath=function(r){return l.qualifyURL(r)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(r,i){this.$worker.postMessage({command:r,args:i})},this.call=function(r,i,o){if(o){var h=this.callbackId++;this.callbacks[h]=o,i.push(h)}this.send(r,i)},this.emit=function(r,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker.postMessage({event:r,data:{data:i.data}})}catch(o){console.error(o.stack)}},this.attachToDocument=function(r){this.$doc&&this.terminate(),this.$doc=r,this.call("setValue",[r.getValue()]),r.on("change",this.changeListener)},this.changeListener=function(r){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),r.action=="insert"?this.deltaQueue.push(r.start,r.lines):this.deltaQueue.push(r.start,r.end)},this.$sendDeltaQueue=function(){var r=this.deltaQueue;r&&(this.deltaQueue=null,r.length>50&&r.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:r}))}}).call(e.prototype);var n=function(r,i,o){var h=null,p=!1,y=Object.create(a),L=[],m=new e({messageBuffer:L,terminate:function(){},postMessage:function(f){L.push(f),h&&(p?setTimeout(s):s())}});m.setEmitSync=function(f){p=f};var s=function(){var f=L.shift();f.command?h[f.command].apply(h,f.args):f.event&&y._signal(f.event,f.data)};return y.postMessage=function(f){m.onMessage({data:f})},y.callback=function(f,_){this.postMessage({type:"call",id:_,data:f})},y.emit=function(f,_){this.postMessage({type:"event",name:f,data:_})},t.loadModule(["worker",i],function(f){for(h=new f[o](y);L.length;)s()}),m};M.UIWorkerClient=n,M.WorkerClient=e,M.createWorker=R}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(E,M,w){var C=E("./range").Range,R=E("./lib/event_emitter").EventEmitter,d=E("./lib/oop"),l=function(a,t,e,n,r,i){var o=this;this.length=t,this.session=a,this.doc=a.getDocument(),this.mainClass=r,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=e;var h=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){d.implement(this,R),this.setup=function(){var a=this,t=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=e.addMarker(new C(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(r){var i=t.createAnchor(r.row,r.column);i.$insertRight=!0,i.detach(),a.others.push(i)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,t=this;this.othersActive=!0,this.others.forEach(function(e){e.markerId=a.addMarker(new C(e.row,e.column,e.row,e.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},this.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var t=a;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var e=a.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(a),n&&(this.length+=e),n&&!this.session.$fromUndo){if(a.action==="insert")for(var i=this.others.length-1;i>=0;i--){var o=this.others[i],h={row:o.row,column:o.column+r};this.doc.insertMergedLines(h,a.lines)}else if(a.action==="remove")for(var i=this.others.length-1;i>=0;i--){var o=this.others[i],h={row:o.row,column:o.column+r};this.doc.remove(new C(h.row,h.column,h.row,h.column-e))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(a){this.pos.onChange(a);for(var t=this.others.length;t--;)this.others[t].onChange(a);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var a=this,t=this.session,e=function(r,i){t.removeMarker(r.markerId),r.markerId=t.addMarker(new C(r.row,r.column,r.row,r.column+a.length),i,null,!1)};e(this.pos,this.mainClass);for(var n=this.others.length;n--;)e(this.others[n],this.othersClass)}},this.onCursorChange=function(a){if(!(this.$updating||!this.session)){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),t=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,e=0;e<t;e++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(l.prototype),M.PlaceHolder=l}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(E,M,w){function C(a,t){return a.row==t.row&&a.column==t.column}function R(a){var t=a.domEvent,e=t.altKey,n=t.shiftKey,r=t.ctrlKey,i=a.getAccelKey(),o=a.getButton();if(r&&l.isMac&&(o=t.button),a.editor.inMultiSelectMode&&o==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!r&&!e&&!i){o===0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}if(o===0){var h=a.editor,p=h.selection,y=h.inMultiSelectMode,L=a.getDocumentPosition(),m=p.getCursor(),s=a.inSelection()||p.isEmpty()&&C(L,m),f=a.x,_=a.y,g=function(X){f=X.clientX,_=X.clientY},v=h.session,c=h.renderer.pixelToScreenCoordinates(f,_),b=c,k;if(h.$mouseHandler.$enableJumpToDef)r&&e||i&&e?k=n?"block":"add":e&&h.$blockSelectEnabled&&(k="block");else if(i&&!e){if(k="add",!y&&n)return}else e&&h.$blockSelectEnabled&&(k="block");if(k&&l.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),k=="add"){if(!y&&s)return;if(!y){var F=p.toOrientedRange();h.addSelectionMarker(F)}var x=p.rangeList.rangeAtPoint(L);h.inVirtualSelectionMode=!0,n&&(x=null,F=p.ranges[0]||F,h.removeSelectionMarker(F)),h.once("mouseup",function(){var X=p.toOrientedRange();x&&X.isEmpty()&&C(x.cursor,X.cursor)?p.substractPoint(X.cursor):(n?p.substractPoint(F.cursor):F&&(h.removeSelectionMarker(F),p.addRange(F)),p.addRange(X)),h.inVirtualSelectionMode=!1})}else if(k=="block"){a.stop(),h.inVirtualSelectionMode=!0;var N,G=[],q=function(){var X=h.renderer.pixelToScreenCoordinates(f,_),ee=v.screenToDocumentPosition(X.row,X.column,X.offsetX);C(b,X)&&C(ee,p.lead)||(b=X,h.selection.moveToPosition(ee),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(G),G=p.rectangularRangeBlock(b,c),h.$mouseHandler.$clickSelection&&G.length==1&&G[0].isEmpty()&&(G[0]=h.$mouseHandler.$clickSelection.clone()),G.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};y&&!i?p.toSingleRange():!y&&i&&(N=p.toOrientedRange(),h.addSelectionMarker(N)),n?c=v.documentToScreenPosition(p.lead):p.moveToPosition(L),b={row:-1,column:-1};var ne=function(X){q(),clearInterval(K),h.removeSelectionMarkers(G),G.length||(G=[p.toOrientedRange()]),N&&(h.removeSelectionMarker(N),p.toSingleRange(N));for(var ee=0;ee<G.length;ee++)p.addRange(G[ee]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null},Z=q;d.capture(h.container,g,ne);var K=setInterval(function(){Z()},20);return a.preventDefault()}}}var d=E("../lib/event"),l=E("../lib/useragent");M.onMouseDown=R}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(E,M,w){M.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(R){R.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(R){R.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(R){R.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(R){R.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(R){R.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(R){R.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(R){R.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(R){R.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(R){R.multiSelect.rangeCount>1?R.multiSelect.joinSelections():R.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(R){R.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(R){R.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(R){R.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],M.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(R){R.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(R){return R&&R.inMultiSelectMode}}];var C=E("../keyboard/hash_handler").HashHandler;M.keyboardHandler=new C(M.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(E,M,w){function C(m,s,f){return p.$options.wrap=!0,p.$options.needle=s,p.$options.backwards=f==-1,p.find(m)}function R(m,s){return m.row==s.row&&m.column==s.column}function d(m){m.$multiselectOnSessionChange||(m.$onAddRange=m.$onAddRange.bind(m),m.$onRemoveRange=m.$onRemoveRange.bind(m),m.$onMultiSelect=m.$onMultiSelect.bind(m),m.$onSingleSelect=m.$onSingleSelect.bind(m),m.$multiselectOnSessionChange=M.onSessionChange.bind(m),m.$checkMultiselectChange=m.$checkMultiselectChange.bind(m),m.$multiselectOnSessionChange(m),m.on("changeSession",m.$multiselectOnSessionChange),m.on("mousedown",n),m.commands.addCommands(o.defaultCommands),l(m))}function l(m){function s(g){_&&(m.renderer.setMouseCursor(""),_=!1)}if(m.textInput){var f=m.textInput.getElement(),_=!1;r.addListener(f,"keydown",function(g){var v=g.keyCode==18&&!(g.ctrlKey||g.shiftKey||g.metaKey);m.$blockSelectEnabled&&v?_||(m.renderer.setMouseCursor("crosshair"),_=!0):_&&s()},m),r.addListener(f,"keyup",s,m),r.addListener(f,"blur",s,m)}}var a=E("./range_list").RangeList,t=E("./range").Range,e=E("./selection").Selection,n=E("./mouse/multi_select_handler").onMouseDown,r=E("./lib/event"),i=E("./lib/lang"),o=E("./commands/multi_select_commands");M.commands=o.defaultCommands.concat(o.multiSelectCommands);var h=E("./search").Search,p=new h,y=E("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(y.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(m,s){if(m){if(!this.inMultiSelectMode&&this.rangeCount===0){var f=this.toOrientedRange();if(this.rangeList.add(f),this.rangeList.add(m),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),s||this.fromOrientedRange(m);this.rangeList.removeAll(),this.rangeList.add(f),this.$onAddRange(f)}m.cursor||(m.cursor=m.end);var _=this.rangeList.add(m);return this.$onAddRange(m),_.length&&this.$onRemoveRange(_),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),s||this.fromOrientedRange(m)}},this.toSingleRange=function(m){m=m||this.ranges[0];var s=this.rangeList.removeAll();s.length&&this.$onRemoveRange(s),m&&this.fromOrientedRange(m)},this.substractPoint=function(m){var s=this.rangeList.substractPoint(m);if(s)return this.$onRemoveRange(s),s[0]},this.mergeOverlappingRanges=function(){var m=this.rangeList.merge();m.length&&this.$onRemoveRange(m)},this.$onAddRange=function(m){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(m),this._signal("addRange",{range:m})},this.$onRemoveRange=function(m){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var s=this.rangeList.ranges.pop();m.push(s),this.rangeCount=0}for(var f=m.length;f--;){var _=this.ranges.indexOf(m[f]);this.ranges.splice(_,1)}this._signal("removeRange",{ranges:m}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),s=s||this.ranges[0],s&&!s.isEqual(this.getRange())&&this.fromOrientedRange(s)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var m=this.ranges.length?this.ranges:[this.getRange()],s=[],f=0;f<m.length;f++){var _=m[f],g=_.start.row,v=_.end.row;if(g===v)s.push(_.clone());else{for(s.push(new t(g,_.start.column,g,this.session.getLine(g).length));++g<v;)s.push(this.getLineRange(g,!0));s.push(new t(v,0,v,_.end.column))}f==0&&!this.isBackwards()&&(s=s.reverse())}this.toSingleRange();for(var f=s.length;f--;)this.addRange(s[f])},this.joinSelections=function(){var m=this.rangeList.ranges,s=m[m.length-1],f=t.fromPoints(m[0].start,s.end);this.toSingleRange(),this.setSelectionRange(f,s.cursor==s.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var m=this.rangeList.ranges,s=m[m.length-1],f=t.fromPoints(m[0].start,s.end);this.toSingleRange(),this.setSelectionRange(f,s.cursor==s.start)}else{var _=this.session.documentToScreenPosition(this.cursor),g=this.session.documentToScreenPosition(this.anchor),v=this.rectangularRangeBlock(_,g);v.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(m,s,f){var _=[],g=m.column<s.column;if(g)var v=m.column,c=s.column,b=m.offsetX,k=s.offsetX;else var v=s.column,c=m.column,b=s.offsetX,k=m.offsetX;var F=m.row<s.row;if(F)var x=m.row,N=s.row;else var x=s.row,N=m.row;v<0&&(v=0),x<0&&(x=0),x==N&&(f=!0);for(var G,q=x;q<=N;q++){var ne=t.fromPoints(this.session.screenToDocumentPosition(q,v,b),this.session.screenToDocumentPosition(q,c,k));if(ne.isEmpty()){if(G&&R(ne.end,G))break;G=ne.end}ne.cursor=g?ne.start:ne.end,_.push(ne)}if(F&&_.reverse(),!f){for(var Z=_.length-1;_[Z].isEmpty()&&Z>0;)Z--;if(Z>0)for(var K=0;_[K].isEmpty();)K++;for(var X=Z;X>=K;X--)_[X].isEmpty()&&_.splice(X,1)}return _}}).call(e.prototype);var L=E("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(m){m.cursor||(m.cursor=m.end);var s=this.getSelectionStyle();return m.marker=this.session.addMarker(m,"ace_selection",s),this.session.$selectionMarkers.push(m),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,m},this.removeSelectionMarker=function(m){if(m.marker){this.session.removeMarker(m.marker);var s=this.session.$selectionMarkers.indexOf(m);s!=-1&&this.session.$selectionMarkers.splice(s,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(m){for(var s=this.session.$selectionMarkers,f=m.length;f--;){var _=m[f];if(_.marker){this.session.removeMarker(_.marker);var g=s.indexOf(_);g!=-1&&s.splice(g,1)}}this.session.selectionMarkerCount=s.length},this.$onAddRange=function(m){this.addSelectionMarker(m.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(m){this.removeSelectionMarkers(m.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(m){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(o.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(m){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(o.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(m){var s=m.command,f=m.editor;if(f.multiSelect){if(s.multiSelectAction)s.multiSelectAction=="forEach"?_=f.forEachSelection(s,m.args):s.multiSelectAction=="forEachLine"?_=f.forEachSelection(s,m.args,!0):s.multiSelectAction=="single"?(f.exitMultiSelectMode(),_=s.exec(f,m.args||{})):_=s.multiSelectAction(f,m.args||{});else{var _=s.exec(f,m.args||{});f.multiSelect.addRange(f.multiSelect.toOrientedRange()),f.multiSelect.mergeOverlappingRanges()}return _}},this.forEachSelection=function(m,s,f){if(!this.inVirtualSelectionMode){var _=f&&f.keepOrder,g=f==1||f&&f.$byLines,v=this.session,c=this.selection,b=c.rangeList,k=(_?c:b).ranges,F;if(!k.length)return m.exec?m.exec(this,s||{}):m(this,s||{});var x=c._eventRegistry;c._eventRegistry={};var N=new e(v);this.inVirtualSelectionMode=!0;for(var G=k.length;G--;){if(g)for(;G>0&&k[G].start.row==k[G-1].end.row;)G--;N.fromOrientedRange(k[G]),N.index=G,this.selection=v.selection=N;var q=m.exec?m.exec(this,s||{}):m(this,s||{});!F&&q!==void 0&&(F=q),N.toOrientedRange(k[G])}N.detach(),this.selection=v.selection=c,this.inVirtualSelectionMode=!1,c._eventRegistry=x,c.mergeOverlappingRanges(),c.ranges[0]&&c.fromOrientedRange(c.ranges[0]);var ne=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ne&&ne.from==ne.to&&this.renderer.animateScrolling(ne.from),F}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var m="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var s=this.multiSelect.rangeList.ranges,f=[],_=0;_<s.length;_++)f.push(this.session.getTextRange(s[_]));var g=this.session.getDocument().getNewLineCharacter();m=f.join(g),m.length==(f.length-1)*g.length&&(m="")}else this.selection.isEmpty()||(m=this.session.getTextRange(this.getSelectionRange()));return m},this.$checkMultiselectChange=function(m,s){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var f=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&s==this.multiSelect.anchor)return;var _=s==this.multiSelect.anchor?f.cursor==f.start?f.end:f.start:f.cursor;_.row!=s.row||this.session.$clipPositionToDocument(_.row,_.column).column!=s.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(m,s,f){if(s=s||{},s.needle=m||s.needle,s.needle==null){var _=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();s.needle=this.session.getTextRange(_)}this.$search.set(s);var g=this.$search.findAll(this.session);if(!g.length)return 0;var v=this.multiSelect;f||v.toSingleRange(g[0]);for(var c=g.length;c--;)v.addRange(g[c],!0);return _&&v.rangeList.rangeAtPoint(_.start)&&v.addRange(_,!0),g.length},this.selectMoreLines=function(m,s){var f=this.selection.toOrientedRange(),_=f.cursor==f.end,g=this.session.documentToScreenPosition(f.cursor);this.selection.$desiredColumn&&(g.column=this.selection.$desiredColumn);var v=this.session.screenToDocumentPosition(g.row+m,g.column);if(f.isEmpty())var b=v;else var c=this.session.documentToScreenPosition(_?f.end:f.start),b=this.session.screenToDocumentPosition(c.row+m,c.column);if(_){var k=t.fromPoints(v,b);k.cursor=k.start}else{var k=t.fromPoints(b,v);k.cursor=k.end}if(k.desiredColumn=g.column,!this.selection.inMultiSelectMode)this.selection.addRange(f);else if(s)var F=f.cursor;this.selection.addRange(k),F&&this.selection.substractPoint(F)},this.transposeSelections=function(m){for(var s=this.session,f=s.multiSelect,_=f.ranges,g=_.length;g--;){var v=_[g];if(v.isEmpty()){var c=s.getWordRange(v.start.row,v.start.column);v.start.row=c.start.row,v.start.column=c.start.column,v.end.row=c.end.row,v.end.column=c.end.column}}f.mergeOverlappingRanges();for(var b=[],g=_.length;g--;){var v=_[g];b.unshift(s.getTextRange(v))}m<0?b.unshift(b.pop()):b.push(b.shift());for(var g=_.length;g--;){var v=_[g],c=v.clone();s.replace(v,b[g]),v.start.row=c.start.row,v.start.column=c.start.column}f.fromOrientedRange(f.ranges[0])},this.selectMore=function(m,s,f){var _=this.session,g=_.multiSelect,v=g.toOrientedRange();if(!(v.isEmpty()&&(v=_.getWordRange(v.start.row,v.start.column),v.cursor=m==-1?v.start:v.end,this.multiSelect.addRange(v),f))){var c=_.getTextRange(v),b=C(_,c,m);b&&(b.cursor=m==-1?b.start:b.end,this.session.unfold(b),this.multiSelect.addRange(b),this.renderer.scrollCursorIntoView(null,.5)),s&&this.multiSelect.substractPoint(v.cursor)}},this.alignCursors=function(){var m=this.session,s=m.multiSelect,f=s.ranges,_=-1,g=f.filter(function(Z){if(Z.cursor.row==_)return!0;_=Z.cursor.row});if(!f.length||g.length==f.length-1){var v=this.selection.getRange(),c=v.start.row,b=v.end.row,k=c==b;if(k){var F=this.session.getLength(),x;do x=this.session.getLine(b);while(/[=:]/.test(x)&&++b<F);do x=this.session.getLine(c);while(/[=:]/.test(x)&&--c>0);c<0&&(c=0),b>=F&&(b=F-1)}var N=this.session.removeFullLines(c,b);N=this.$reAlignText(N,k),this.session.insert({row:c,column:0},N.join(`
`)+`
`),k||(v.start.column=0,v.end.column=N[N.length-1].length),this.selection.setRange(v)}else{g.forEach(function(Z){s.substractPoint(Z.cursor)});var G=0,q=1/0,ne=f.map(function(Z){var K=Z.cursor,X=m.getLine(K.row),ee=X.substr(K.column).search(/\S/g);return ee==-1&&(ee=0),K.column>G&&(G=K.column),ee<q&&(q=ee),ee});f.forEach(function(Z,K){var X=Z.cursor,ee=G-X.column,ie=ne[K]-q;ee>ie?m.insert(X,i.stringRepeat(" ",ee-ie)):m.remove(new t(X.row,X.column,X.row,X.column-ee+ie)),Z.start.column=Z.end.column=G,Z.start.row=Z.end.row=X.row,Z.cursor=Z.end}),s.fromOrientedRange(f[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(m,s){function f(N){return i.stringRepeat(" ",N)}function _(N){return N[2]?f(k)+N[2]+f(F-N[2].length+x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function g(N){return N[2]?f(k+F-N[2].length)+N[2]+f(x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function v(N){return N[2]?f(k)+N[2]+f(x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}var c=!0,b=!0,k,F,x;return m.map(function(N){var G=N.match(/(\s*)(.*?)(\s*)([=:].*)/);return G?k==null?(k=G[1].length,F=G[2].length,x=G[3].length,G):(k+F+x!=G[1].length+G[2].length+G[3].length&&(b=!1),k!=G[1].length&&(c=!1),k>G[1].length&&(k=G[1].length),F<G[2].length&&(F=G[2].length),x>G[3].length&&(x=G[3].length),G):[N]}).map(s?_:c?b?g:_:v)}}).call(L.prototype),M.onSessionChange=function(m){var s=m.session;s&&!s.multiSelect&&(s.$selectionMarkers=[],s.selection.$initRangeList(),s.multiSelect=s.selection),this.multiSelect=s&&s.multiSelect;var f=m.oldSession;f&&(f.multiSelect.off("addRange",this.$onAddRange),f.multiSelect.off("removeRange",this.$onRemoveRange),f.multiSelect.off("multiSelect",this.$onMultiSelect),f.multiSelect.off("singleSelect",this.$onSingleSelect),f.multiSelect.lead.off("change",this.$checkMultiselectChange),f.multiSelect.anchor.off("change",this.$checkMultiselectChange)),s&&(s.multiSelect.on("addRange",this.$onAddRange),s.multiSelect.on("removeRange",this.$onRemoveRange),s.multiSelect.on("multiSelect",this.$onMultiSelect),s.multiSelect.on("singleSelect",this.$onSingleSelect),s.multiSelect.lead.on("change",this.$checkMultiselectChange),s.multiSelect.anchor.on("change",this.$checkMultiselectChange)),s&&this.inMultiSelectMode!=s.selection.inMultiSelectMode&&(s.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},M.MultiSelect=d,E("./config").defineOptions(L.prototype,"editor",{enableMultiselect:{set:function(m){d(this),m?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",n)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",n))},value:!0},enableBlockSelect:{set:function(m){this.$blockSelectEnabled=m},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(E,M,w){var C=E("../../range").Range,R=M.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(d,l,a){var t=d.getLine(a);return this.foldingStartMarker.test(t)?"start":l=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(d,l,a){return null},this.indentationBlock=function(d,l,a){var t=/\S/,e=d.getLine(l),n=e.search(t);if(n!=-1){for(var r=a||e.length,i=d.getLength(),o=l,h=l;++l<i;){var p=d.getLine(l).search(t);if(p!=-1){if(p<=n){var y=d.getTokenAt(l,0);if(!y||y.type!=="string")break}h=l}}if(h>o){var L=d.getLine(h).length;return new C(o,r,h,L)}}},this.openingBracketBlock=function(d,l,a,t,e){var n={row:a,column:t+1},r=d.$findClosingBracket(l,n,e);if(r){var i=d.foldWidgets[r.row];return i==null&&(i=d.getFoldWidget(r.row)),i=="start"&&r.row>n.row&&(r.row--,r.column=d.getLine(r.row).length),C.fromPoints(n,r)}},this.closingBracketBlock=function(d,l,a,t,e){var n={row:a,column:t},r=d.$findOpeningBracket(l,n);if(r)return r.column++,n.column--,C.fromPoints(r,n)}}).call(R.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(E,M,w){M.isDark=!1,M.cssClass="ace-tm",M.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',M.$id="ace/theme/textmate";var C=E("../lib/dom");C.importCssString(M.cssText,M.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(E,M,w){function C(d){this.session=d,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var R=E("./lib/dom");(function(){this.getRowLength=function(d){var l;return this.lineWidgets?l=this.lineWidgets[d]&&this.lineWidgets[d].rowCount||0:l=0,!this.$useWrapMode||!this.$wrapData[d]?1+l:this.$wrapData[d].length+1+l},this.$getWidgetScreenLength=function(){var d=0;return this.lineWidgets.forEach(function(l){l&&l.rowCount&&!l.hidden&&(d+=l.rowCount)}),d},this.$onChangeEditor=function(d){this.attach(d.editor)},this.attach=function(d){d&&d.widgetManager&&d.widgetManager!=this&&d.widgetManager.detach(),this.editor!=d&&(this.detach(),this.editor=d,d&&(d.widgetManager=this,d.renderer.on("beforeRender",this.measureWidgets),d.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(d){var l=this.editor;if(l){this.editor=null,l.widgetManager=null,l.renderer.off("beforeRender",this.measureWidgets),l.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(d,l){var a=l.lineWidgets;if(!(!a||!d.action)){for(var t=d.data,e=t.start.row,n=t.end.row,r=d.action=="add",i=e+1;i<n;i++)a[i]&&(a[i].hidden=r);a[n]&&(r?a[e]?a[n].hidden=r:a[e]=a[n]:(a[e]==a[n]&&(a[e]=void 0),a[n].hidden=r))}},this.updateOnChange=function(d){var l=this.session.lineWidgets;if(l){var a=d.start.row,t=d.end.row-a;if(t!==0)if(d.action=="remove"){var e=l.splice(a+1,t);!l[a]&&e[e.length-1]&&(l[a]=e.pop()),e.forEach(function(r){r&&this.removeLineWidget(r)},this),this.$updateRows()}else{var n=new Array(t);l[a]&&l[a].column!=null&&d.start.column>l[a].column&&a++,n.unshift(a,0),l.splice.apply(l,n),this.$updateRows()}}},this.$updateRows=function(){var d=this.session.lineWidgets;if(d){var l=!0;d.forEach(function(a,t){if(a)for(l=!1,a.row=t;a.$oldWidget;)a.$oldWidget.row=t,a=a.$oldWidget}),l&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(d){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var l=this.session.lineWidgets[d.row];return l&&(d.$oldWidget=l,l.el&&l.el.parentNode&&(l.el.parentNode.removeChild(l.el),l._inDocument=!1)),this.session.lineWidgets[d.row]=d,d},this.addLineWidget=function(d){if(this.$registerLineWidget(d),d.session=this.session,!this.editor)return d;var l=this.editor.renderer;d.html&&!d.el&&(d.el=R.createElement("div"),d.el.innerHTML=d.html),d.el&&(R.addCssClass(d.el,"ace_lineWidgetContainer"),d.el.style.position="absolute",d.el.style.zIndex=5,l.container.appendChild(d.el),d._inDocument=!0,d.coverGutter||(d.el.style.zIndex=3),d.pixelHeight==null&&(d.pixelHeight=d.el.offsetHeight)),d.rowCount==null&&(d.rowCount=d.pixelHeight/l.layerConfig.lineHeight);var a=this.session.getFoldAt(d.row,0);if(d.$fold=a,a){var t=this.session.lineWidgets;d.row==a.end.row&&!t[a.start.row]?t[a.start.row]=d:d.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows(),this.renderWidgets(null,l),this.onWidgetChanged(d),d},this.removeLineWidget=function(d){if(d._inDocument=!1,d.session=null,d.el&&d.el.parentNode&&d.el.parentNode.removeChild(d.el),d.editor&&d.editor.destroy)try{d.editor.destroy()}catch{}if(this.session.lineWidgets){var l=this.session.lineWidgets[d.row];if(l==d)this.session.lineWidgets[d.row]=d.$oldWidget,d.$oldWidget&&this.onWidgetChanged(d.$oldWidget);else for(;l;){if(l.$oldWidget==d){l.$oldWidget=d.$oldWidget;break}l=l.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(d){for(var l=this.session.lineWidgets,a=l&&l[d],t=[];a;)t.push(a),a=a.$oldWidget;return t},this.onWidgetChanged=function(d){this.session._changedWidgets.push(d),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(d,l){var a=this.session._changedWidgets,t=l.layerConfig;if(!(!a||!a.length)){for(var e=1/0,n=0;n<a.length;n++){var r=a[n];if(!(!r||!r.el)&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,l.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/t.characterWidth));var i=r.h/t.lineHeight;r.coverLine&&(i-=this.session.getRowLineCount(r.row),i<0&&(i=0)),r.rowCount!=i&&(r.rowCount=i,r.row<e&&(e=r.row))}}e!=1/0&&(this.session._emit("changeFold",{data:{start:{row:e}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(d,l){var a=l.layerConfig,t=this.session.lineWidgets;if(t){for(var e=Math.min(this.firstRow,a.firstRow),n=Math.max(this.lastRow,a.lastRow,t.length);e>0&&!t[e];)e--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,l.$cursorLayer.config=a;for(var r=e;r<=n;r++){var i=t[r];if(!(!i||!i.el)){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,l.container.appendChild(i.el));var o=l.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;i.coverLine||(o+=a.lineHeight*this.session.getRowLineCount(i.row)),i.el.style.top=o-a.offset+"px";var h=i.coverGutter?0:l.gutterWidth;i.fixedWidth||(h-=l.scrollLeft),i.el.style.left=h+"px",i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=a.width+2*a.padding+"px"),i.fixedWidth?i.el.style.right=l.scrollBar.getWidth()+"px":i.el.style.right=""}}}}}).call(C.prototype),M.LineWidgets=C}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(E,M,w){function C(t,e,n){for(var r=0,i=t.length-1;r<=i;){var o=r+i>>1,h=n(e,t[o]);if(h>0)r=o+1;else{if(!(h<0))return o;i=o-1}}return-(r+1)}function R(t,e,n){var r=t.getAnnotations().sort(a.comparePoints);if(r.length){var i=C(r,{row:e,column:-1},a.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:i===0&&n<0&&(i=r.length-1);var o=r[i];if(!(!o||!n)){if(o.row===e){do o=r[i+=n];while(o&&o.row===e);if(!o)return r.slice()}var h=[];e=o.row;do h[n<0?"unshift":"push"](o),o=r[i+=n];while(o&&o.row==e);return h.length&&h}}}var d=E("../line_widgets").LineWidgets,l=E("../lib/dom"),a=E("../range").Range;M.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new d(n),n.widgetManager.attach(t));var r=t.getCursorPosition(),i=r.row,o=n.widgetManager.getWidgetsAtRow(i).filter(function(g){return g.type=="errorMarker"})[0];o?o.destroy():i-=e;var h=R(n,i,e),p;if(h){var y=h[0];r.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,r.row=y.row,p=t.renderer.$gutterLayer.$annotations[r.row]}else{if(o)return;p={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(r.row),t.selection.moveToPosition(r);var L={row:r.row,fixedWidth:!0,coverGutter:!0,el:l.createElement("div"),type:"errorMarker"},m=L.el.appendChild(l.createElement("div")),s=L.el.appendChild(l.createElement("div"));s.className="error_widget_arrow "+p.className;var f=t.renderer.$cursorLayer.getPixelPosition(r).left;s.style.left=f+t.renderer.gutterWidth-5+"px",L.el.className="error_widget_wrapper",m.className="error_widget "+p.className,m.innerHTML=p.text.join("<br>"),m.appendChild(l.createElement("div"));var _=function(g,v,c){if(v===0&&(c==="esc"||c==="return"))return L.destroy(),{command:"null"}};L.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(_),n.widgetManager.removeLineWidget(L),t.off("changeSelection",L.destroy),t.off("changeSession",L.destroy),t.off("mouseup",L.destroy),t.off("change",L.destroy))},t.keyBinding.addKeyboardHandler(_),t.on("changeSelection",L.destroy),t.on("changeSession",L.destroy),t.on("mouseup",L.destroy),t.on("change",L.destroy),t.session.widgetManager.addLineWidget(L),L.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:L.el.offsetHeight})},l.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(E,M,w){E("./lib/fixoldbrowsers");var C=E("./lib/dom"),R=E("./lib/event"),d=E("./range").Range,l=E("./editor").Editor,a=E("./edit_session").EditSession,t=E("./undomanager").UndoManager,e=E("./virtual_renderer").VirtualRenderer;E("./worker/worker_client"),E("./keyboard/hash_handler"),E("./placeholder"),E("./multi_select"),E("./mode/folding/fold_mode"),E("./theme/textmate"),E("./ext/error_marker"),M.config=E("./config"),M.require=E,typeof define=="function"&&(M.define=define),M.edit=function(n,r){if(typeof n=="string"){var i=n;if(n=document.getElementById(i),!n)throw new Error("ace.edit can't find div #"+i)}if(n&&n.env&&n.env.editor instanceof l)return n.env.editor;var o="";if(n&&/input|textarea/i.test(n.tagName)){var h=n;o=h.value,n=C.createElement("pre"),h.parentNode.replaceChild(n,h)}else n&&(o=n.textContent,n.innerHTML="");var p=M.createEditSession(o),y=new l(new e(n),p,r),L={document:p,editor:y,onResize:y.resize.bind(y,null)};return h&&(L.textarea=h),R.addListener(window,"resize",L.onResize),y.on("destroy",function(){R.removeListener(window,"resize",L.onResize),L.editor.container.env=null}),y.container.env=y.env=L,y},M.createEditSession=function(n,r){var i=new a(n,r);return i.setUndoManager(new t),i},M.Range=d,M.Editor=l,M.EditSession=a,M.UndoManager=t,M.VirtualRenderer=e,M.version=M.config.version});(function(){window.require(["ace/ace"],function(E){E&&(E.config.init(!0),E.define=window.define),window.ace||(window.ace=E);for(var M in E)E.hasOwnProperty(M)&&(window.ace[M]=E[M]);window.ace.default=window.ace,typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=window.ace)})})();define("ace/theme/tomorrow",["require","exports","module","ace/lib/dom"],function(E,M,w){M.isDark=!1,M.cssClass="ace-tomorrow",M.cssText=".ace-tomorrow .ace_gutter {background: #f6f6f6;color: #4D4D4C}.ace-tomorrow .ace_print-margin {width: 1px;background: #f6f6f6}.ace-tomorrow {background-color: #FFFFFF;color: #4D4D4C}.ace-tomorrow .ace_cursor {color: #AEAFAD}.ace-tomorrow .ace_marker-layer .ace_selection {background: #D6D6D6}.ace-tomorrow.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-tomorrow .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-tomorrow .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #D1D1D1}.ace-tomorrow .ace_marker-layer .ace_active-line {background: #EFEFEF}.ace-tomorrow .ace_gutter-active-line {background-color : #dcdcdc}.ace-tomorrow .ace_marker-layer .ace_selected-word {border: 1px solid #D6D6D6}.ace-tomorrow .ace_invisible {color: #D1D1D1}.ace-tomorrow .ace_keyword,.ace-tomorrow .ace_meta,.ace-tomorrow .ace_storage,.ace-tomorrow .ace_storage.ace_type,.ace-tomorrow .ace_support.ace_type {color: #8959A8}.ace-tomorrow .ace_keyword.ace_operator {color: #3E999F}.ace-tomorrow .ace_constant.ace_character,.ace-tomorrow .ace_constant.ace_language,.ace-tomorrow .ace_constant.ace_numeric,.ace-tomorrow .ace_keyword.ace_other.ace_unit,.ace-tomorrow .ace_support.ace_constant,.ace-tomorrow .ace_variable.ace_parameter {color: #F5871F}.ace-tomorrow .ace_constant.ace_other {color: #666969}.ace-tomorrow .ace_invalid {color: #FFFFFF;background-color: #C82829}.ace-tomorrow .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #8959A8}.ace-tomorrow .ace_fold {background-color: #4271AE;border-color: #4D4D4C}.ace-tomorrow .ace_entity.ace_name.ace_function,.ace-tomorrow .ace_support.ace_function,.ace-tomorrow .ace_variable {color: #4271AE}.ace-tomorrow .ace_support.ace_class,.ace-tomorrow .ace_support.ace_type {color: #C99E00}.ace-tomorrow .ace_heading,.ace-tomorrow .ace_markup.ace_heading,.ace-tomorrow .ace_string {color: #718C00}.ace-tomorrow .ace_entity.ace_name.ace_tag,.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow .ace_meta.ace_tag,.ace-tomorrow .ace_string.ace_regexp,.ace-tomorrow .ace_variable {color: #C82829}.ace-tomorrow .ace_comment {color: #8E908C}.ace-tomorrow .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y}";var C=E("../lib/dom");C.importCssString(M.cssText,M.cssClass)});(function(){window.require(["ace/theme/tomorrow"],function(E){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=E)})})();define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(E,M,w){function C(m){var s=new Date().toLocaleString("en-us",m);return s.length==1?"0"+s:s}var R=E("./lib/oop"),d=E("./lib/event_emitter").EventEmitter,l=E("./lib/lang"),a=E("./range").Range,t=E("./range_list").RangeList,e=E("./keyboard/hash_handler").HashHandler,n=E("./tokenizer").Tokenizer,r=E("./clipboard"),i={CURRENT_WORD:function(m){return m.session.getTextRange(m.session.getWordRange())},SELECTION:function(m,s,f){var _=m.session.getTextRange();return f?_.replace(/\n\r?([ \t]*\S)/g,`
`+f+"$1"):_},CURRENT_LINE:function(m){return m.session.getLine(m.getCursorPosition().row)},PREV_LINE:function(m){return m.session.getLine(m.getCursorPosition().row-1)},LINE_INDEX:function(m){return m.getCursorPosition().row},LINE_NUMBER:function(m){return m.getCursorPosition().row+1},SOFT_TABS:function(m){return m.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(m){return m.session.getTabSize()},CLIPBOARD:function(m){return r.getText&&r.getText()},FILENAME:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0]},FILENAME_BASE:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(m){return this.FILEPATH(m).replace(/[^/\\]*$/,"")},FILEPATH:function(m){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(m){var s=m.session.$mode||{};return s.blockComment&&s.blockComment.start||""},BLOCK_COMMENT_END:function(m){var s=m.session.$mode||{};return s.blockComment&&s.blockComment.end||""},LINE_COMMENT:function(m){var s=m.session.$mode||{};return s.lineCommentStart||""},CURRENT_YEAR:C.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:C.bind(null,{year:"2-digit"}),CURRENT_MONTH:C.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:C.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:C.bind(null,{month:"short"}),CURRENT_DATE:C.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:C.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:C.bind(null,{weekday:"short"}),CURRENT_HOUR:C.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:C.bind(null,{minute:"2-digit"}),CURRENT_SECOND:C.bind(null,{second:"2-digit"})};i.SELECTED_TEXT=i.SELECTION;var o=function(){this.snippetMap={},this.snippetNameMap={}};(function(){R.implement(this,d),this.getTokenizer=function(){return o.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function m(_){return _=_.substr(1),/^\d+$/.test(_)?[{tabstopId:parseInt(_,10)}]:[{text:_}]}function s(_){return"(?:[^\\\\"+_+"]|\\\\.)"}var f={regex:"/("+s("/")+"+)/",onMatch:function(_,g,v){var c=v[0];return c.fmtString=!0,c.guard=_.slice(1,-1),c.flag="",""},next:"formatString"};return o.$tokenizer=new n({start:[{regex:/\\./,onMatch:function(_,g,v){var c=_[1];return(c=="}"&&v.length||"`$\\".indexOf(c)!=-1)&&(_=c),[_]}},{regex:/}/,onMatch:function(_,g,v){return[v.length?v.shift():_]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(_,g,v){var c=m(_.substr(1));return v.unshift(c[0]),c},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+s("\\|")+"*\\|",onMatch:function(_,g,v){var c=_.slice(1,-1).replace(/\\[,|\\]|,/g,function(b){return b.length==2?b[1]:"\0"}).split("\0").map(function(b){return{value:b}});return v[0].choices=c,[c[0]]},next:"start"},f,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(_,g,v){return v.length&&v[0].expectElse?(v[0].expectElse=!1,v[0].ifEnd={elseEnd:v[0]},[v[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(_,g,v){var c=_[1];return c=="}"&&v.length||"`$\\".indexOf(c)!=-1?_=c:c=="n"?_=`
`:c=="t"?_="	":"ulULE".indexOf(c)!=-1&&(_={changeCase:c,local:c>"a"}),[_]}},{regex:"/\\w*}",onMatch:function(_,g,v){var c=v.shift();return c&&(c.flag=_.slice(1,-1)),this.next=c&&c.tabstopId?"start":"",[c||_]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(_,g,v){return[{text:_.slice(1)}]}},{regex:/\${\w+/,onMatch:function(_,g,v){var c={text:_.slice(2)};return v.unshift(c),[c]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(_,g,v){var c=v.shift();return this.next=c&&c.tabstopId?"start":"",[c||_]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(_,g,v){var c=v[0];return c.formatFunction=_.slice(2,-1),[v.shift()]},next:"formatString"},f,{regex:/:[\?\-+]?/,onMatch:function(_,g,v){_[1]=="+"&&(v[0].ifEnd=v[0]),_[1]=="?"&&(v[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),o.$tokenizer},this.tokenizeTmSnippet=function(m,s){return this.getTokenizer().getLineTokens(m,s).tokens.map(function(f){return f.value||f})},this.getVariableValue=function(m,s,f){if(/^\d+$/.test(s))return(this.variables.__||{})[s]||"";if(/^[A-Z]\d+$/.test(s))return(this.variables[s[0]+"__"]||{})[s.substr(1)]||"";if(s=s.replace(/^TM_/,""),!this.variables.hasOwnProperty(s))return"";var _=this.variables[s];return typeof _=="function"&&(_=this.variables[s](m,s,f)),_??""},this.variables=i,this.tmStrFormat=function(m,s,f){if(!s.fmt)return m;var _=s.flag||"",g=s.guard;g=new RegExp(g,_.replace(/[^gim]/g,""));var v=typeof s.fmt=="string"?this.tokenizeTmSnippet(s.fmt,"formatString"):s.fmt,c=this,b=m.replace(g,function(){var k=c.variables.__;c.variables.__=[].slice.call(arguments);for(var F=c.resolveVariables(v,f),x="E",N=0;N<F.length;N++){var G=F[N];if(typeof G=="object")if(F[N]="",G.changeCase&&G.local){var q=F[N+1];q&&typeof q=="string"&&(G.changeCase=="u"?F[N]=q[0].toUpperCase():F[N]=q[0].toLowerCase(),F[N+1]=q.substr(1))}else G.changeCase&&(x=G.changeCase);else x=="U"?F[N]=G.toUpperCase():x=="L"&&(F[N]=G.toLowerCase())}return c.variables.__=k,F.join("")});return b},this.tmFormatFunction=function(m,s,f){return s.formatFunction=="upcase"?m.toUpperCase():s.formatFunction=="downcase"?m.toLowerCase():m},this.resolveVariables=function(m,s){function f(x){var N=m.indexOf(x,c+1);N!=-1&&(c=N)}for(var _=[],g="",v=!0,c=0;c<m.length;c++){var b=m[c];if(typeof b=="string"){_.push(b),b==`
`?(v=!0,g=""):v&&(g=/^\t*/.exec(b)[0],v=/\S/.test(b));continue}if(b){if(v=!1,b.fmtString){var k=m.indexOf(b,c+1);k==-1&&(k=m.length),b.fmt=m.slice(c+1,k),c=k}if(b.text){var F=this.getVariableValue(s,b.text,g)+"";b.fmtString&&(F=this.tmStrFormat(F,b,s)),b.formatFunction&&(F=this.tmFormatFunction(F,b,s)),F&&!b.ifEnd?(_.push(F),f(b)):!F&&b.ifEnd&&f(b.ifEnd)}else b.elseEnd?f(b.elseEnd):(b.tabstopId!=null||b.changeCase!=null)&&_.push(b)}}return _},this.insertSnippetForSelection=function(m,s){function f(pe){for(var Se=[],Le=0;Le<pe.length;Le++){var Ee=pe[Le];if(typeof Ee=="object"){if(F[Ee.tabstopId])continue;var Fe=pe.lastIndexOf(Ee,Le-1);Ee=Se[Fe]||{tabstopId:Ee.tabstopId}}Se[Le]=Ee}return Se}var _=m.getCursorPosition(),g=m.session.getLine(_.row),v=m.session.getTabString(),c=g.match(/^\s*/)[0];_.column<c.length&&(c=c.slice(0,_.column)),s=s.replace(/\r/g,"");var b=this.tokenizeTmSnippet(s);b=this.resolveVariables(b,m),b=b.map(function(pe){return pe==`
`?pe+c:typeof pe=="string"?pe.replace(/\t/g,v):pe});var k=[];b.forEach(function(pe,Se){if(typeof pe=="object"){var Le=pe.tabstopId,Ee=k[Le];if(Ee||(Ee=k[Le]=[],Ee.index=Le,Ee.value="",Ee.parents={}),Ee.indexOf(pe)===-1){pe.choices&&!Ee.choices&&(Ee.choices=pe.choices),Ee.push(pe);var Fe=b.indexOf(pe,Se+1);if(Fe!==-1){var Ve=b.slice(Se+1,Fe),Je=Ve.some(function(I){return typeof I=="object"});Je&&!Ee.value?Ee.value=Ve:Ve.length&&(!Ee.value||typeof Ee.value!="string")&&(Ee.value=Ve.join(""))}}}}),k.forEach(function(pe){pe.length=0});for(var F={},x=0;x<b.length;x++){var N=b[x];if(typeof N=="object"){var G=N.tabstopId,q=k[G],ne=b.indexOf(N,x+1);if(F[G]){F[G]===N&&(delete F[G],Object.keys(F).forEach(function(pe){q.parents[pe]=!0}));continue}F[G]=N;var Z=q.value;typeof Z!="string"?Z=f(Z):N.fmt&&(Z=this.tmStrFormat(Z,N,m)),b.splice.apply(b,[x+1,Math.max(0,ne-x)].concat(Z,N)),q.indexOf(N)===-1&&q.push(N)}}var K=0,X=0,ee="";b.forEach(function(pe){if(typeof pe=="string"){var Se=pe.split(`
`);Se.length>1?(X=Se[Se.length-1].length,K+=Se.length-1):X+=pe.length,ee+=pe}else pe&&(pe.start?pe.end={row:K,column:X}:pe.start={row:K,column:X})});var ie=m.getSelectionRange(),le=m.session.replace(ie,ee),ce=new h(m),ye=m.inVirtualSelectionMode&&m.selection.index;ce.addTabstops(k,ie.start,le,ye)},this.insertSnippet=function(m,s){var f=this;if(m.inVirtualSelectionMode)return f.insertSnippetForSelection(m,s);m.forEachSelection(function(){f.insertSnippetForSelection(m,s)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},this.$getScope=function(m){var s=m.session.$mode.$id||"";if(s=s.split("/").pop(),s==="html"||s==="php"){s==="php"&&!m.session.$mode.inlinePhp&&(s="html");var f=m.getCursorPosition(),_=m.session.getState(f.row);typeof _=="object"&&(_=_[0]),_.substring&&(_.substring(0,3)=="js-"?s="javascript":_.substring(0,4)=="css-"?s="css":_.substring(0,4)=="php-"&&(s="php"))}return s},this.getActiveScopes=function(m){var s=this.$getScope(m),f=[s],_=this.snippetMap;return _[s]&&_[s].includeScopes&&f.push.apply(f,_[s].includeScopes),f.push("_"),f},this.expandWithTab=function(m,s){var f=this,_=m.forEachSelection(function(){return f.expandSnippetForSelection(m,s)},null,{keepOrder:!0});return _&&m.tabstopManager&&m.tabstopManager.tabNext(),_},this.expandSnippetForSelection=function(m,s){var f=m.getCursorPosition(),_=m.session.getLine(f.row),g=_.substring(0,f.column),v=_.substr(f.column),c=this.snippetMap,b;return this.getActiveScopes(m).some(function(k){var F=c[k];return F&&(b=this.findMatchingSnippet(F,g,v)),!!b},this),b?(s&&s.dryRun||(m.session.doc.removeInLine(f.row,f.column-b.replaceBefore.length,f.column+b.replaceAfter.length),this.variables.M__=b.matchBefore,this.variables.T__=b.matchAfter,this.insertSnippetForSelection(m,b.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(m,s,f){for(var _=m.length;_--;){var g=m[_];if(!(g.startRe&&!g.startRe.test(s))&&!(g.endRe&&!g.endRe.test(f))&&!(!g.startRe&&!g.endRe))return g.matchBefore=g.startRe?g.startRe.exec(s):[""],g.matchAfter=g.endRe?g.endRe.exec(f):[""],g.replaceBefore=g.triggerRe?g.triggerRe.exec(s)[0]:"",g.replaceAfter=g.endTriggerRe?g.endTriggerRe.exec(f)[0]:"",g}},this.snippetMap={},this.snippetNameMap={},this.register=function(m,s){function f(k){return k&&!/^\^?\(.*\)\$?$|^\\b$/.test(k)&&(k="(?:"+k+")"),k||""}function _(k,F,x){return k=f(k),F=f(F),x?(k=F+k,k&&k[k.length-1]!="$"&&(k+="$")):(k+=F,k&&k[0]!="^"&&(k="^"+k)),new RegExp(k)}function g(k){k.scope||(k.scope=s||"_"),s=k.scope,v[s]||(v[s]=[],c[s]={});var F=c[s];if(k.name){var x=F[k.name];x&&b.unregister(x),F[k.name]=k}v[s].push(k),k.prefix&&(k.tabTrigger=k.prefix),!k.content&&k.body&&(k.content=Array.isArray(k.body)?k.body.join(`
`):k.body),k.tabTrigger&&!k.trigger&&(!k.guard&&/^\w/.test(k.tabTrigger)&&(k.guard="\\b"),k.trigger=l.escapeRegExp(k.tabTrigger)),!(!k.trigger&&!k.guard&&!k.endTrigger&&!k.endGuard)&&(k.startRe=_(k.trigger,k.guard,!0),k.triggerRe=new RegExp(k.trigger),k.endRe=_(k.endTrigger,k.endGuard,!0),k.endTriggerRe=new RegExp(k.endTrigger))}var v=this.snippetMap,c=this.snippetNameMap,b=this;m||(m=[]),Array.isArray(m)?m.forEach(g):Object.keys(m).forEach(function(k){g(m[k])}),this._signal("registerSnippets",{scope:s})},this.unregister=function(m,s){function f(v){var c=g[v.scope||s];if(c&&c[v.name]){delete c[v.name];var b=_[v.scope||s],k=b&&b.indexOf(v);k>=0&&b.splice(k,1)}}var _=this.snippetMap,g=this.snippetNameMap;m.content?f(m):Array.isArray(m)&&m.forEach(f)},this.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var s=[],f={},_=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,g;g=_.exec(m);){if(g[1])try{f=JSON.parse(g[1]),s.push(f)}catch{}if(g[4])f.content=g[4].replace(/^\t/gm,""),s.push(f),f={};else{var v=g[2],c=g[3];if(v=="regex"){var b=/\/((?:[^\/\\]|\\.)*)|$/g;f.guard=b.exec(c)[1],f.trigger=b.exec(c)[1],f.endTrigger=b.exec(c)[1],f.endGuard=b.exec(c)[1]}else v=="snippet"?(f.tabTrigger=c.match(/^\S*/)[0],f.name||(f.name=c)):v&&(f[v]=c)}}return s},this.getSnippetByName=function(m,s){var f=this.snippetNameMap,_;return this.getActiveScopes(s).some(function(g){var v=f[g];return v&&(_=v[m]),!!_},this),_}}).call(o.prototype);var h=function(m){if(m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)};(function(){this.attach=function(m){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(m){for(var s=m.action[0]=="r",f=this.selectedTabstop||{},_=f.parents||{},g=(this.tabstops||[]).slice(),v=0;v<g.length;v++){var c=g[v],b=c==f||_[c.index];if(c.rangeList.$bias=b?0:1,m.action=="remove"&&c!==f){var k=c.parents&&c.parents[f.index],F=c.rangeList.pointIndex(m.start,k);F=F<0?-F-1:F+1;var x=c.rangeList.pointIndex(m.end,k);x=x<0?-x-1:x-1;for(var N=c.rangeList.ranges.slice(F,x),G=0;G<N.length;G++)this.removeRange(N[G])}c.rangeList.$onChange(m)}var q=this.editor.session;!this.$inChange&&s&&q.getLength()==1&&!q.getValue()&&this.detach()},this.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var s=this.editor.session,f=s.getTextRange(m.firstNonLinked),_=0;_<m.length;_++){var g=m[_];if(g.linked){var v=g.original,c=M.snippetManager.tmStrFormat(f,v,this.editor);s.replace(g,c)}}this.$inChange=!1}},this.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,s=this.editor.selection.anchor,f=this.editor.selection.isEmpty(),_=0;_<this.ranges.length;_++)if(!this.ranges[_].linked){var g=this.ranges[_].contains(m.row,m.column),v=f||this.ranges[_].contains(s.row,s.column);if(g&&v)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(m){var s=this.tabstops.length,f=this.index+(m||1);f=Math.min(Math.max(f,1),s),f==s&&(f=0),this.selectTabstop(f),f===0&&this.detach()},this.selectTabstop=function(m){this.$openTabstops=null;var s=this.tabstops[this.index];if(s&&this.addTabstopMarkers(s),this.index=m,s=this.tabstops[this.index],!(!s||!s.length)){this.selectedTabstop=s;var f=s.firstNonLinked||s;if(s.choices&&(f.cursor=f.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(f);else{var _=this.editor.multiSelect;_.toSingleRange(f);for(var g=0;g<s.length;g++)s.hasLinkedRanges&&s[g].linked||_.addRange(s[g].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(m,s,f){var _=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var g=a.fromPoints(f,f);y(g.start,s),y(g.end,s),m[0]=[g],m[0].index=0}var v=this.index,c=[v+1,0],b=this.ranges;m.forEach(function(k,F){for(var x=this.$openTabstops[F]||k,N=0;N<k.length;N++){var G=k[N],q=a.fromPoints(G.start,G.end||G.start);p(q.start,s),p(q.end,s),q.original=G,q.tabstop=x,b.push(q),x!=k?x.unshift(q):x[N]=q,G.fmtString||x.firstNonLinked&&_?(q.linked=!0,x.hasLinkedRanges=!0):x.firstNonLinked||(x.firstNonLinked=q)}x.firstNonLinked||(x.hasLinkedRanges=!1),x===k&&(c.push(x),this.$openTabstops[F]=x),this.addTabstopMarkers(x),x.rangeList=x.rangeList||new t,x.rangeList.$bias=0,x.rangeList.addList(x)},this),c.length>2&&(this.tabstops.length&&c.push(c.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,c))},this.addTabstopMarkers=function(m){var s=this.editor.session;m.forEach(function(f){f.markerId||(f.markerId=s.addMarker(f,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(m){var s=this.editor.session;m.forEach(function(f){s.removeMarker(f.markerId),f.markerId=null})},this.removeRange=function(m){var s=m.tabstop.indexOf(m);s!=-1&&m.tabstop.splice(s,1),s=this.ranges.indexOf(m),s!=-1&&this.ranges.splice(s,1),s=m.tabstop.rangeList.ranges.indexOf(m),s!=-1&&m.tabstop.splice(s,1),this.editor.session.removeMarker(m.markerId),m.tabstop.length||(s=this.tabstops.indexOf(m.tabstop),s!=-1&&this.tabstops.splice(s,1),this.tabstops.length||this.detach())},this.keyboardHandler=new e,this.keyboardHandler.bindKeys({Tab:function(m){M.snippetManager&&M.snippetManager.expandWithTab(m)||(m.tabstopManager.tabNext(1),m.renderer.scrollCursorIntoView())},"Shift-Tab":function(m){m.tabstopManager.tabNext(-1),m.renderer.scrollCursorIntoView()},Esc:function(m){m.tabstopManager.detach()}})}).call(h.prototype);var p=function(m,s){m.row==0&&(m.column+=s.column),m.row+=s.row},y=function(m,s){m.row==s.row&&(m.column-=s.column),m.row-=s.row};E("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),M.snippetManager=new o;var L=E("./editor").Editor;(function(){this.insertSnippet=function(m,s){return M.snippetManager.insertSnippet(this,m,s)},this.expandSnippet=function(m){return M.snippetManager.expandWithTab(this,m)}}).call(L.prototype)}),define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(E,M,w){var C=E("../virtual_renderer").VirtualRenderer,R=E("../editor").Editor,d=E("../range").Range,l=E("../lib/event"),a=E("../lib/lang"),t=E("../lib/dom"),e=function(r){var i=new C(r);i.$maxLines=4;var o=new R(i);return o.setHighlightActiveLine(!1),o.setShowPrintMargin(!1),o.renderer.setShowGutter(!1),o.renderer.setHighlightGutterLine(!1),o.$mouseHandler.$focusTimeout=0,o.$highlightTagPending=!0,o},n=function(r){var i=t.createElement("div"),o=new e(i);r&&r.appendChild(i),i.style.display="none",o.renderer.content.style.cursor="default",o.renderer.setStyle("ace_autocomplete"),o.setOption("displayIndentGuides",!1),o.setOption("dragDelay",150);var h=function(){};o.focus=h,o.$isFocused=!0,o.renderer.$cursorLayer.restartTimer=h,o.renderer.$cursorLayer.element.style.opacity=0,o.renderer.$maxLines=8,o.renderer.$keepTextAreaAtCursor=!1,o.setHighlightActiveLine(!1),o.session.highlight(""),o.session.$searchHighlight.clazz="ace_highlight-marker",o.on("mousedown",function(_){var g=_.getDocumentPosition();o.selection.moveToPosition(g),L.start.row=L.end.row=g.row,_.stop()});var p,y=new d(-1,0,-1,1/0),L=new d(-1,0,-1,1/0);L.id=o.session.addMarker(L,"ace_active-line","fullLine"),o.setSelectOnHover=function(_){_?y.id&&(o.session.removeMarker(y.id),y.id=null):y.id=o.session.addMarker(y,"ace_line-hover","fullLine")},o.setSelectOnHover(!1),o.on("mousemove",function(_){if(!p){p=_;return}if(!(p.x==_.x&&p.y==_.y)){p=_,p.scrollTop=o.renderer.scrollTop;var g=p.getDocumentPosition().row;y.start.row!=g&&(y.id||o.setRow(g),s(g))}}),o.renderer.on("beforeRender",function(){if(p&&y.start.row!=-1){p.$pos=null;var _=p.getDocumentPosition().row;y.id||o.setRow(_),s(_,!0)}}),o.renderer.on("afterRender",function(){var _=o.getRow(),g=o.renderer.$textLayer,v=g.element.childNodes[_-g.config.firstRow];v!==g.selectedNode&&g.selectedNode&&t.removeCssClass(g.selectedNode,"ace_selected"),g.selectedNode=v,v&&t.addCssClass(v,"ace_selected")});var m=function(){s(-1)},s=function(_,g){_!==y.start.row&&(y.start.row=y.end.row=_,g||o.session._emit("changeBackMarker"),o._emit("changeHoverMarker"))};o.getHoveredRow=function(){return y.start.row},l.addListener(o.container,"mouseout",m),o.on("hide",m),o.on("changeSelection",m),o.session.doc.getLength=function(){return o.data.length},o.session.doc.getLine=function(_){var g=o.data[_];return typeof g=="string"?g:g&&g.value||""};var f=o.session.bgTokenizer;return f.$tokenizeRow=function(_){function g(Z,K){Z&&c.push({type:(v.className||"")+(K||""),value:Z})}var v=o.data[_],c=[];if(!v)return c;typeof v=="string"&&(v={value:v});for(var b=v.caption||v.value||v.name,k=b.toLowerCase(),F=(o.filterText||"").toLowerCase(),x=0,N=0,G=0;G<=F.length;G++)if(G!=N&&(v.matchMask&1<<G||G==F.length)){var q=F.slice(N,G);N=G;var ne=k.indexOf(q,x);if(ne==-1)continue;g(b.slice(x,ne),""),x=ne+q.length,g(b.slice(ne,x),"completion-highlight")}return g(b.slice(x,b.length),""),v.meta&&c.push({type:"completion-meta",value:v.meta}),v.message&&c.push({type:"completion-message",value:v.message}),c},f.$updateOnChange=h,f.start=h,o.session.$computeWidth=function(){return this.screenWidth=0},o.isOpen=!1,o.isTopdown=!1,o.autoSelect=!0,o.filterText="",o.data=[],o.setData=function(_,g){o.filterText=g||"",o.setValue(a.stringRepeat(`
`,_.length),-1),o.data=_||[],o.setRow(0)},o.getData=function(_){return o.data[_]},o.getRow=function(){return L.start.row},o.setRow=function(_){_=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,_)),L.start.row!=_&&(o.selection.clearSelection(),L.start.row=L.end.row=_||0,o.session._emit("changeBackMarker"),o.moveCursorTo(_||0,0),o.isOpen&&o._signal("select"))},o.on("changeSelection",function(){o.isOpen&&o.setRow(o.selection.lead.row),o.renderer.scrollCursorIntoView()}),o.hide=function(){this.container.style.display="none",this._signal("hide"),o.isOpen=!1},o.show=function(_,g,v){var c=this.container,b=window.innerHeight,k=window.innerWidth,F=this.renderer,x=F.$maxLines*g*1.4,N=_.top+this.$borderSize,G=N>b/2&&!v;G&&N+g+x>b?(F.$maxPixelHeight=N-2*this.$borderSize,c.style.top="",c.style.bottom=b-N+"px",o.isTopdown=!1):(N+=g,F.$maxPixelHeight=b-N-.2*g,c.style.top=N+"px",c.style.bottom="",o.isTopdown=!0),c.style.display="";var q=_.left;q+c.offsetWidth>k&&(q=k-c.offsetWidth),c.style.left=q+"px",this._signal("show"),p=null,o.isOpen=!0},o.goTo=function(_){var g=this.getRow(),v=this.session.getLength()-1;switch(_){case"up":g=g<=0?v:g-1;break;case"down":g=g>=v?-1:g+1;break;case"start":g=0;break;case"end":g=v}this.setRow(g)},o.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},o.$imageSize=0,o.$borderSize=1,o};t.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),M.AcePopup=n,M.$singleLineEditor=e}),define("ace/autocomplete/util",["require","exports","module"],function(E,M,w){M.parForEach=function(R,d,l){var a=0,t=R.length;t===0&&l();for(var e=0;e<t;e++)d(R[e],function(n,r){a++,a===t&&l(n,r)})};var C=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;M.retrievePrecedingIdentifier=function(R,d,l){l=l||C;for(var a=[],t=d-1;t>=0&&l.test(R[t]);t--)a.push(R[t]);return a.reverse().join("")},M.retrieveFollowingIdentifier=function(R,d,l){l=l||C;for(var a=[],t=d;t<R.length&&l.test(R[t]);t++)a.push(R[t]);return a},M.getCompletionPrefix=function(R){var d=R.getCursorPosition(),l=R.session.getLine(d.row),a;return R.completers.forEach((function(t){t.identifierRegexps&&t.identifierRegexps.forEach((function(e){!a&&e&&(a=this.retrievePrecedingIdentifier(l,d.column,e))}).bind(this))}).bind(this)),a||this.retrievePrecedingIdentifier(l,d.column)}}),define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(E,M,w){var C=E("./keyboard/hash_handler").HashHandler,R=E("./autocomplete/popup").AcePopup,d=E("./autocomplete/util"),l=E("./lib/lang"),a=E("./lib/dom"),t=E("./snippets").snippetManager,e=E("./config"),n=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new C,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=l.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=l.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new R(document.body||document.documentElement),this.popup.on("click",(function(i){this.insertMatch(),i.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(i,o,h){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),i.keyBinding.addKeyboardHandler(this.keyboardHandler);var p=i.renderer;if(this.popup.setRow(this.autoSelect?0:-1),h)h&&!o&&this.detach();else{this.popup.setTheme(i.getTheme()),this.popup.setFontSize(i.getFontSize());var y=p.layerConfig.lineHeight,L=p.$cursorLayer.getPixelPosition(this.base,!0);L.left-=this.popup.getTextLeftOffset();var m=i.container.getBoundingClientRect();L.top+=m.top-p.layerConfig.offset,L.left+=m.left-i.renderer.scrollLeft,L.left+=p.gutterWidth,this.popup.show(L,y)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(i){var o=this.editor.selection.lead;(o.row!=this.base.row||o.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(i){var o=document.activeElement,h=this.editor.textInput.getElement(),p=i.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(i.relatedTarget),y=this.popup&&this.popup.container;o!=h&&o.parentNode!=y&&!p&&o!=this.tooltipNode&&i.relatedTarget!=h&&this.detach()},this.mousedownListener=function(i){this.detach()},this.mousewheelListener=function(i){this.detach()},this.goTo=function(i){this.popup.goTo(i)},this.insertMatch=function(i,o){if(i||(i=this.popup.getData(this.popup.getRow())),!i)return!1;var h=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),i.completer&&i.completer.insertMatch)i.completer.insertMatch(this.editor,i);else{if(h.filterText)for(var p=this.editor.selection.getAllRanges(),y=0,L;L=p[y];y++)L.start.column-=h.filterText.length,this.editor.session.remove(L);i.snippet?t.insertSnippet(this.editor,i.snippet):this.editor.execCommand("insertstring",i.value||i)}this.completions==h&&this.detach(),this.editor.endOperation()},this.commands={Up:function(i){i.completer.goTo("up")},Down:function(i){i.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(i){i.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(i){i.completer.goTo("end")},Esc:function(i){i.completer.detach()},Return:function(i){return i.completer.insertMatch()},"Shift-Return":function(i){i.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(i){var o=i.completer.insertMatch();if(o||i.tabstopManager)return o;i.completer.goTo("down")},PageUp:function(i){i.completer.popup.gotoPageUp()},PageDown:function(i){i.completer.popup.gotoPageDown()}},this.gatherCompletions=function(i,o){var h=i.getSession(),p=i.getCursorPosition(),y=d.getCompletionPrefix(i);this.base=h.doc.createAnchor(p.row,p.column-y.length),this.base.$insertRight=!0;var L=[],m=i.completers.length;return i.completers.forEach(function(s,f){s.getCompletions(i,h,p,y,function(_,g){!_&&g&&(L=L.concat(g)),o(null,{prefix:d.getCompletionPrefix(i),matches:L,finished:--m===0})})}),!0},this.showPopup=function(i,o){this.editor&&this.detach(),this.activated=!0,this.editor=i,i.completer!=this&&(i.completer&&i.completer.detach(),i.completer=this),i.on("changeSelection",this.changeListener),i.on("blur",this.blurListener),i.on("mousedown",this.mousedownListener),i.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,o)},this.updateCompletions=function(i,o){if(i&&this.base&&this.completions){var h=this.editor.getCursorPosition(),p=this.editor.session.getTextRange({start:this.base,end:h});if(p==this.completions.filterText)return;if(this.completions.setFilter(p),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==p&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,p,i);return}if(o&&o.matches){var h=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(h.row,h.column),this.base.$insertRight=!0,this.completions=new r(o.matches),this.openPopup(this.editor,"",i)}var y=this.gatherCompletionsId;this.gatherCompletions(this.editor,(function(L,m){var s=(function(){if(m.finished)return this.detach()}).bind(this),f=m.prefix,_=m&&m.matches;if(!_||!_.length)return s();if(!(f.indexOf(m.prefix)!==0||y!=this.gatherCompletionsId)){this.completions=new r(_),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(f);var g=this.completions.filtered;if(!g.length||g.length==1&&g[0].value==f&&!g[0].snippet)return s();if(this.autoInsert&&g.length==1&&m.finished)return this.insertMatch(g[0]);this.openPopup(this.editor,f,i)}}).bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var i=this.popup,o=i.data,h=o&&(o[i.getHoveredRow()]||o[i.getRow()]),p=null;if(!h||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();if(this.editor.completers.some(function(y){return y.getDocTooltip&&(p=y.getDocTooltip(h)),p}),!p&&typeof h!="string"&&(p=h),typeof p=="string"&&(p={docText:p}),!p||!p.docHTML&&!p.docText)return this.hideDocTooltip();this.showDocTooltip(p)},this.showDocTooltip=function(i){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var o=this.tooltipNode;i.docHTML?o.innerHTML=i.docHTML:i.docText&&(o.textContent=i.docText),o.parentNode||document.body.appendChild(o);var h=this.popup,p=h.container.getBoundingClientRect();o.style.top=h.container.style.top,o.style.bottom=h.container.style.bottom,o.style.display="block",window.innerWidth-p.right<320?p.left<320?h.isTopdown?(o.style.top=p.bottom+"px",o.style.left=p.left+"px",o.style.right="",o.style.bottom=""):(o.style.top=h.container.offsetTop-o.offsetHeight+"px",o.style.left=p.left+"px",o.style.right="",o.style.bottom=""):(o.style.right=window.innerWidth-p.left+"px",o.style.left=""):(o.style.left=p.right+1+"px",o.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var i=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==i&&this.editor.focus(),this.tooltipNode=null,i.parentNode&&i.parentNode.removeChild(i)}},this.onTooltipClick=function(i){for(var o=i.target;o&&o!=this.tooltipNode;){if(o.nodeName=="A"&&o.href){o.rel="noreferrer",o.target="_blank";break}o=o.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var i=this.popup.container;i&&i.parentNode&&i.parentNode.removeChild(i)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call(n.prototype),n.for=function(i){return i.completer||(e.get("sharedPopups")?(n.$shared||(n.$sharedInstance=new n),i.completer=n.$sharedInstance):(i.completer=new n,i.once("destroy",function(o,h){h.completer.destroy()}))),i.completer},n.startCommand={name:"startAutocomplete",exec:function(i,o){var h=n.for(i);h.autoInsert=!1,h.autoSelect=!0,h.showPopup(i,o),h.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var r=function(i,o){this.all=i,this.filtered=i,this.filterText=o||"",this.exactMatch=!1};(function(){this.setFilter=function(i){if(i.length>this.filterText&&i.lastIndexOf(this.filterText,0)===0)var o=this.filtered;else var o=this.all;this.filterText=i,o=this.filterCompletions(o,this.filterText),o=o.sort(function(p,y){return y.exactMatch-p.exactMatch||y.$score-p.$score||(p.caption||p.value).localeCompare(y.caption||y.value)});var h=null;o=o.filter(function(p){var y=p.snippet||p.caption||p.value;return y===h?!1:(h=y,!0)}),this.filtered=o},this.filterCompletions=function(i,o){var h=[],p=o.toUpperCase(),y=o.toLowerCase();e:for(var L=0,m;m=i[L];L++){var s=m.caption||m.value||m.snippet;if(s){var f=-1,_=0,g=0,v,c;if(this.exactMatch){if(o!==s.substr(0,o.length))continue e}else{var b=s.toLowerCase().indexOf(y);if(b>-1)g=b;else for(var k=0;k<o.length;k++){var F=s.indexOf(y[k],f+1),x=s.indexOf(p[k],f+1);if(v=F>=0&&(x<0||F<x)?F:x,v<0)continue e;c=v-f-1,c>0&&(f===-1&&(g+=10),g+=c,_|=1<<k),f=v}}m.matchMask=_,m.exactMatch=g?0:1,m.$score=(m.score||0)-g,h.push(m)}}return h}}).call(r.prototype),M.Autocomplete=n,M.FilteredList=r}),define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(E,M,w){function C(a,t){var e=a.getTextRange(d.fromPoints({row:0,column:0},t));return e.split(l).length-1}function R(a,t){var e=C(a,t),n=a.getValue().split(l),r=Object.create(null),i=n[e];return n.forEach(function(o,h){if(!(!o||o===i)){var p=Math.abs(e-h),y=n.length-p;r[o]?r[o]=Math.max(y,r[o]):r[o]=y}}),r}var d=E("../range").Range,l=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;M.getCompletions=function(a,t,e,n,r){var i=R(t,e),o=Object.keys(i);r(null,o.map(function(h){return{caption:h,value:h,score:i[h],meta:"local"}}))}}),define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(E,M,w){var C=E("../snippets").snippetManager,R=E("../autocomplete").Autocomplete,d=E("../config"),l=E("../lib/lang"),a=E("../autocomplete/util"),t=E("../autocomplete/text_completer"),e={getCompletions:function(m,s,f,_,g){if(s.$mode.completer)return s.$mode.completer.getCompletions(m,s,f,_,g);var v=m.session.getState(f.row),c=s.$mode.getCompletions(v,s,f,_);g(null,c)}},n={getCompletions:function(m,s,f,_,g){var v=[],c=s.getTokenAt(f.row,f.column);c&&c.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?v.push("html-tag"):v=C.getActiveScopes(m);var b=C.snippetMap,k=[];v.forEach(function(F){for(var x=b[F]||[],N=x.length;N--;){var G=x[N],q=G.name||G.tabTrigger;q&&k.push({caption:q,snippet:G.content,meta:G.tabTrigger&&!G.name?G.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),g(null,k)},getDocTooltip:function(m){m.type=="snippet"&&!m.docHTML&&(m.docHTML=["<b>",l.escapeHTML(m.caption),"</b>","<hr></hr>",l.escapeHTML(m.snippet)].join(""))}},r=[n,t,e];M.setCompleters=function(m){r.length=0,m&&r.push.apply(r,m)},M.addCompleter=function(m){r.push(m)},M.textCompleter=t,M.keyWordCompleter=e,M.snippetCompleter=n;var i={name:"expandSnippet",exec:function(m){return C.expandWithTab(m)},bindKey:"Tab"},o=function(m,s){h(s.session.$mode)},h=function(m){typeof m=="string"&&(m=d.$modes[m]),m&&(C.files||(C.files={}),p(m.$id,m.snippetFileId),m.modes&&m.modes.forEach(h))},p=function(m,s){!s||!m||C.files[m]||(C.files[m]={},d.loadModule(s,function(f){f&&(C.files[m]=f,!f.snippets&&f.snippetText&&(f.snippets=C.parseSnippetFile(f.snippetText)),C.register(f.snippets||[],f.scope),f.includeScopes&&(C.snippetMap[f.scope].includeScopes=f.includeScopes,f.includeScopes.forEach(function(_){h("ace/mode/"+_)})))}))},y=function(m){var s=m.editor,f=s.completer&&s.completer.activated;if(m.command.name==="backspace")f&&!a.getCompletionPrefix(s)&&s.completer.detach();else if(m.command.name==="insertstring"){var _=a.getCompletionPrefix(s);if(_&&!f){var g=R.for(s);g.autoInsert=!1,g.showPopup(s)}}},L=E("../editor").Editor;E("../config").defineOptions(L.prototype,"editor",{enableBasicAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:r),this.commands.addCommand(R.startCommand)):this.commands.removeCommand(R.startCommand)},value:!1},enableLiveAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:r),this.commands.on("afterExec",y)):this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(m){m?(this.commands.addCommand(i),this.on("changeMode",o),o(null,this)):(this.commands.removeCommand(i),this.off("changeMode",o))},value:!1}})});(function(){window.require(["ace/ext/language_tools"],function(E){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=E)})})();define("ace/mode/gbz80_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(E,M,w){var C=E("../lib/oop"),R=E("./text_highlight_rules").TextHighlightRules,d=function(){var l="\\b(?:"+Object.keys(_t).join("|")+")\\b";this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|CP|DEC|INC|OR|SBC|SUB|XOR|BIT|RES|SET|SWAP|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|SLA|SRA|SRL|LD|LDH|CALL|JP|JR|RET|RETI|RST|POP|PUSH|CCF|CPL|DAA|DI|EI|HALT|NOP|SCF|STOP)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:ROM0|ROMX|VRAM|WRAM0|WRAMX|OAM|HRAM)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:SECTION|INCLUDE|BANK|ALIGN|PURGE|INCBIN|CHARMAP|NEWCHARMAP|SETCHARMAP|PUSHC|POPC|FAIL|WARN|FATAL|ASSERT|STATIC_ASSERT|MACRO|ENDM|SHIFT|REPT|ENDR|LOAD|ENDL|IF|ELSE|ELIF|ENDC|UNION|NEXTU|EQU|EQUS|PUSHS|POPS|PUSHO|POPO|OPT)\\b",caseInsensitive:!0},{token:"variable.constant",regex:l,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL)\\b",caseInsensitive:!0},{token:"constant.character.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.character.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.character.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.character.hexadecimal.assembly",regex:"\\$[A-F0-9]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/'([^\\']|\\.)*'/},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()};d.metaData={fileTypes:["asm"],name:"Gameboy Z80",scopeName:"source.assembly"},C.inherits(d,R),M.GBZ80HighlightRules=d});define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(E,M,w){var C=E("../../lib/oop"),R=E("./fold_mode").FoldMode,d=E("../../range").Range,l=M.FoldMode=function(){};C.inherits(l,R),(function(){this.getFoldWidgetRange=function(a,t,e){var n=this.indentationBlock(a,e);if(n)return n;var r=/\S/,i=a.getLine(e),o=i.search(r);if(!(o==-1||i[o]!="#")){for(var h=i.length,p=a.getLength(),y=e,L=e;++e<p;){i=a.getLine(e);var m=i.search(r);if(m!=-1){if(i[m]!="#")break;L=e}}if(L>y){var s=a.getLine(L).length;return new d(y,h,L,s)}}},this.getFoldWidget=function(a,t,e){var n=a.getLine(e),r=n.search(/\S/),i=a.getLine(e+1),o=a.getLine(e-1),h=o.search(/\S/),p=i.search(/\S/);if(r==-1)return a.foldWidgets[e-1]=h!=-1&&h<p?"start":"","";if(h==-1){if(r==p&&n[r]=="#"&&i[r]=="#")return a.foldWidgets[e-1]="",a.foldWidgets[e+1]="","start"}else if(h==r&&n[r]=="#"&&o[r]=="#"&&a.getLine(e-2).search(/\S/)==-1)return a.foldWidgets[e-1]="start",a.foldWidgets[e+1]="","";return h!=-1&&h<r?a.foldWidgets[e-1]="start":a.foldWidgets[e-1]="",r<p?"start":""}}).call(l.prototype)});define("ace/mode/gbz80",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/gbz80_highlight_rules","ace/mode/folding/coffee"],function(E,M,w){var C=E("../lib/oop"),R=E("./text").Mode,d=E("./gbz80_highlight_rules").GBZ80HighlightRules,l=E("./folding/coffee").FoldMode,a=function(){this.HighlightRules=d,this.foldingRules=new l,this.$behaviour=this.$defaultBehaviour};C.inherits(a,R),(function(){this.lineCommentStart=[";"],this.$id="ace/mode/gbz80"}).call(a.prototype),M.Mode=a});(function(){window.require(["ace/mode/gbz80"],function(E){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=E)})})();var Pr=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],Tr=[];Pr.forEach(function(E){var M="<table><tr><td colspan=2>"+E.description;M+="<tr><td>cycles:<td>"+E.cycles,M+="<tr><td>size:<td>"+E.bytes,M+="<tr><td>Flag Z:<td>"+E.flags.z,M+="<tr><td>Flag N:<td>"+E.flags.n,M+="<tr><td>Flag H:<td>"+E.flags.H,M+="<tr><td>Flag C:<td>"+E.flags.C;var w={caption:E.name,value:E.name,meta:"",docHTML:M};w.completer={insertMatch:function(C,R){}},Tr.push(w)});var Fr=[];for(var br in _t){var Nt=_t[br],dr="";if(Nt.description&&(dr=Nt.description.replace(`
`,"<br>")),Nt.value&&(dr+="<br><b>Value:</b> "+Nt.value),Nt.flags)for(var Rr in Nt.flags)dr+="<br><b>"+Rr+":</b> "+Nt.flags[Rr].description;Nt.alias&&(dr+="<br><b>Alias:</b> "+Nt.alias);var Nr={caption:br,value:br,meta:"",docHTML:dr};Fr.push(Nr)}var zr={getCompletions:function(E,M,w,C,R){var d=M.getLine(w.row),l=d.substr(0,w.column-1).trim();l.trim()==""||l.trim().endsWith(":")?R(null,Tr.filter(function(a){return a.value.startsWith(C.toLowerCase())})):R(null,Fr.filter(function(a){return a.value.toLowerCase().startsWith(C.toLowerCase())}))}};globalThis.Tooltip=require("ace/tooltip").Tooltip;var wr=require("ace/lib/event");globalThis.TokenTooltip=function(M){M.tokenTooltip||(Tooltip.call(this,M.container),M.tokenTooltip=this,this.editor=M,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),wr.addListener(M.renderer.scroller,"mousemove",this.onMouseMove),wr.addListener(M.renderer.content,"mouseout",this.onMouseOut))};require("ace/lib/oop").inherits(TokenTooltip,Tooltip);(function(){this.token={},this.range=new Range,this.update=function(){this.$timer=null;var E=this.editor.renderer;this.lastT-(E.timeStamp||0)>1e3&&(E.rect=null,E.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var M=E.rect||(E.rect=E.scroller.getBoundingClientRect()),w=(this.x+E.scrollLeft-M.left-E.$padding)/E.characterWidth,C=Math.floor((this.y+E.scrollTop-M.top)/E.lineHeight),R=Math.round(w),d={row:C,column:R,side:w-R>0?1:-1},l=this.editor.session,a=l.screenToDocumentPosition(d.row,d.column),t=l.getTokenAt(a.row,a.column);if(!t&&!l.getLine(a.row)&&(t={type:"",value:"",state:l.bgTokenizer.getState(0)}),!t){this.hide();return}var e="";if(t.type=="variable.constant"&&t.value in gameboy_hardware_constants){var n=gameboy_hardware_constants[t.value];if(e=n.description,n.value&&(e+=`
Value: `+n.value),n.flags){e+=`
`;for(var r in n.flags)e+=`
`+r+": "+n.flags[r].description}}else{this.hide();return}this.tokenText!=e&&(this.setText(e),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=e),this.show(null,this.x,this.y),this.token=t},this.onMouseMove=function(E){this.x=E.clientX,this.y=E.clientY,this.isOpen&&(this.lastT=E.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))},this.onMouseOut=function(E){E&&E.currentTarget.contains(E.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))},this.setPosition=function(E,M){E+10+this.width>this.maxWidth&&(E=window.innerWidth-this.width-10),(M>window.innerHeight*.75||M+20+this.height>this.maxHeight)&&(M=M-this.height-30),Tooltip.prototype.setPosition.call(this,E+10,M+20)},this.destroy=function(){this.onMouseOut(),wr.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),wr.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}).call(TokenTooltip.prototype);var Wr=(()=>{var E=import.meta.url;return function(M={}){var w=M,C,R;w.ready=new Promise((oe,_e)=>{C=oe,R=_e});var d=Object.assign({},w),l=(oe,_e)=>{throw _e},a=!0,t="";function e(oe){return w.locateFile?w.locateFile(oe,t):t+oe}typeof document<"u"&&document.currentScript&&(t=document.currentScript.src),E&&(t=E),t.indexOf("blob:")!==0?t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1):t="";var n=w.print||console.log.bind(console),r=w.printErr||console.error.bind(console);Object.assign(w,d),d=null,w.arguments&&w.arguments,w.thisProgram&&w.thisProgram,w.quit&&(l=w.quit);var i;w.wasmBinary&&(i=w.wasmBinary);var o=w.noExitRuntime||!0;typeof WebAssembly!="object"&&ee("no native wasm support detected");var h,p=!1,y,L,m,s;function f(){var oe=h.buffer;w.HEAP8=new Int8Array(oe),w.HEAP16=new Int16Array(oe),w.HEAPU8=y=new Uint8Array(oe),w.HEAPU16=new Uint16Array(oe),w.HEAP32=L=new Int32Array(oe),w.HEAPU32=m=new Uint32Array(oe),w.HEAPF32=new Float32Array(oe),w.HEAPF64=s=new Float64Array(oe)}var _=[],g=[],v=[],c=0;function b(){return o||c>0}function k(){if(w.preRun)for(typeof w.preRun=="function"&&(w.preRun=[w.preRun]);w.preRun.length;)N(w.preRun.shift());Je(_)}function F(){Je(g)}function x(){if(w.postRun)for(typeof w.postRun=="function"&&(w.postRun=[w.postRun]);w.postRun.length;)q(w.postRun.shift());Je(v)}function N(oe){_.unshift(oe)}function G(oe){g.unshift(oe)}function q(oe){v.unshift(oe)}var ne=0,Z=null;function K(oe){ne++,w.monitorRunDependencies&&w.monitorRunDependencies(ne)}function X(oe){if(ne--,w.monitorRunDependencies&&w.monitorRunDependencies(ne),ne==0&&Z){var _e=Z;Z=null,_e()}}function ee(oe){w.onAbort&&w.onAbort(oe),oe="Aborted("+oe+")",r(oe),p=!0,oe+=". Build with -sASSERTIONS for more info.";var _e=new WebAssembly.RuntimeError(oe);throw R(_e),_e}var ie="data:application/octet-stream;base64,";function le(oe){return oe.startsWith(ie)}var ce;w.locateFile?(ce="binjgb.wasm",le(ce)||(ce=e(ce))):ce=new URL("/rgbds-live/assets/binjgb-7302efab.wasm",self.location).href;function ye(oe){if(oe==ce&&i)return new Uint8Array(i);throw"both async and sync fetching of the wasm failed"}function pe(oe){return!i&&a&&typeof fetch=="function"?fetch(oe,{credentials:"same-origin"}).then(_e=>{if(!_e.ok)throw"failed to load wasm binary file at '"+oe+"'";return _e.arrayBuffer()}).catch(()=>ye(oe)):Promise.resolve().then(()=>ye(oe))}function Se(oe,_e,He){return pe(oe).then(et=>WebAssembly.instantiate(et,_e)).then(et=>et).then(He,et=>{r(`failed to asynchronously prepare wasm: ${et}`),ee(et)})}function Le(oe,_e,He,et){return!oe&&typeof WebAssembly.instantiateStreaming=="function"&&!le(_e)&&typeof fetch=="function"?fetch(_e,{credentials:"same-origin"}).then(De=>{var gt=WebAssembly.instantiateStreaming(De,He);return gt.then(et,function(Ie){return r(`wasm streaming compile failed: ${Ie}`),r("falling back to ArrayBuffer instantiation"),Se(_e,He,et)})}):Se(_e,He,et)}function Ee(){var oe={a:Qe};function _e(et,De){var gt=et.exports;return Me=gt,h=Me.h,f(),Me.G,G(Me.i),X(),gt}K();function He(et){_e(et.instance)}if(w.instantiateWasm)try{return w.instantiateWasm(oe,_e)}catch(et){r(`Module.instantiateWasm callback failed with error: ${et}`),R(et)}return Le(i,ce,oe,He).catch(R),{}}var Fe={13604:oe=>{emulator.serialCallback(oe)}};function Ve(oe){this.name="ExitStatus",this.message=`Program terminated with exit(${oe})`,this.status=oe}var Je=oe=>{for(;oe.length>0;)oe.shift()(w)},I=[],ge=(oe,_e)=>{I.length=0;for(var He;He=y[oe++];)_e+=He!=105&&_e%8?4:0,I.push(He==105?L[_e>>2]:s[_e>>3]),_e+=He==105?4:8;return I},fe=(oe,_e,He)=>{var et=ge(_e,He);return Fe[oe].apply(null,et)},te=(oe,_e,He)=>fe(oe,_e,He),J=(oe,_e,He)=>y.copyWithin(oe,_e,_e+He),he=oe=>{ee("OOM")},me=oe=>{y.length,he()},Y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(oe,_e,He)=>{for(var et=_e+He,De=_e;oe[De]&&!(De>=et);)++De;if(De-_e>16&&oe.buffer&&Y)return Y.decode(oe.subarray(_e,De));for(var gt="";_e<De;){var Ie=oe[_e++];if(!(Ie&128)){gt+=String.fromCharCode(Ie);continue}var vt=oe[_e++]&63;if((Ie&224)==192){gt+=String.fromCharCode((Ie&31)<<6|vt);continue}var Ue=oe[_e++]&63;if((Ie&240)==224?Ie=(Ie&15)<<12|vt<<6|Ue:Ie=(Ie&7)<<18|vt<<12|Ue<<6|oe[_e++]&63,Ie<65536)gt+=String.fromCharCode(Ie);else{var Wt=Ie-65536;gt+=String.fromCharCode(55296|Wt>>10,56320|Wt&1023)}}return gt},we=oe=>{b()||(w.onExit&&w.onExit(oe),p=!0),l(oe,new Ve(oe))},ke=(oe,_e)=>{we(oe)},be=ke,xe=oe=>52;function Pe(oe,_e,He,et,De){return 70}var Re=[null,[],[]],Xe=(oe,_e)=>{var He=Re[oe];_e===0||_e===10?((oe===1?n:r)(re(He,0)),He.length=0):He.push(_e)},Ce=(oe,_e,He,et)=>{for(var De=0,gt=0;gt<He;gt++){var Ie=m[_e>>2],vt=m[_e+4>>2];_e+=8;for(var Ue=0;Ue<vt;Ue++)Xe(oe,y[Ie+Ue]);De+=vt}return m[et>>2]=De,0},Qe={g:te,f:J,d:me,b:be,e:xe,c:Pe,a:Ce},Me=Ee();w._malloc=oe=>(w._malloc=Me.j)(oe),w._emulator_set_builtin_palette=(oe,_e)=>(w._emulator_set_builtin_palette=Me.k)(oe,_e),w._emulator_was_ext_ram_updated=oe=>(w._emulator_was_ext_ram_updated=Me.l)(oe),w._emulator_read_ext_ram=(oe,_e)=>(w._emulator_read_ext_ram=Me.m)(oe,_e),w._emulator_write_ext_ram=(oe,_e)=>(w._emulator_write_ext_ram=Me.n)(oe,_e),w._file_data_delete=oe=>(w._file_data_delete=Me.o)(oe),w._emulator_delete=oe=>(w._emulator_delete=Me.p)(oe),w._emulator_get_PC=oe=>(w._emulator_get_PC=Me.q)(oe),w._emulator_get_A=oe=>(w._emulator_get_A=Me.r)(oe),w._emulator_get_BC=oe=>(w._emulator_get_BC=Me.s)(oe),w._emulator_get_DE=oe=>(w._emulator_get_DE=Me.t)(oe),w._emulator_get_HL=oe=>(w._emulator_get_HL=Me.u)(oe),w._emulator_get_F=oe=>(w._emulator_get_F=Me.v)(oe),w._emulator_get_SP=oe=>(w._emulator_get_SP=Me.w)(oe),w._emulator_set_PC=(oe,_e)=>(w._emulator_set_PC=Me.x)(oe,_e),w._emulator_get_wram_ptr=oe=>(w._emulator_get_wram_ptr=Me.y)(oe),w._emulator_get_hram_ptr=oe=>(w._emulator_get_hram_ptr=Me.z)(oe),w._emulator_read_mem=(oe,_e)=>(w._emulator_read_mem=Me.A)(oe,_e),w._emulator_write_mem=(oe,_e,He)=>(w._emulator_write_mem=Me.B)(oe,_e,He),w._emulator_set_breakpoint=(oe,_e)=>(w._emulator_set_breakpoint=Me.C)(oe,_e),w._emulator_clear_breakpoints=oe=>(w._emulator_clear_breakpoints=Me.D)(oe),w._emulator_render_vram=(oe,_e)=>(w._emulator_render_vram=Me.E)(oe,_e),w._emulator_render_background=(oe,_e,He)=>(w._emulator_render_background=Me.F)(oe,_e,He),w._joypad_new=()=>(w._joypad_new=Me.H)(),w._joypad_delete=oe=>(w._joypad_delete=Me.I)(oe),w._rewind_append=(oe,_e)=>(w._rewind_append=Me.J)(oe,_e),w._rewind_delete=oe=>(w._rewind_delete=Me.K)(oe),w._emulator_new_simple=(oe,_e,He,et,De)=>(w._emulator_new_simple=Me.L)(oe,_e,He,et,De),w._emulator_get_ticks_f64=oe=>(w._emulator_get_ticks_f64=Me.M)(oe),w._emulator_run_until_f64=(oe,_e)=>(w._emulator_run_until_f64=Me.N)(oe,_e),w._rewind_get_newest_ticks_f64=oe=>(w._rewind_get_newest_ticks_f64=Me.O)(oe),w._rewind_get_oldest_ticks_f64=oe=>(w._rewind_get_oldest_ticks_f64=Me.P)(oe),w._emulator_set_default_joypad_callback=(oe,_e)=>(w._emulator_set_default_joypad_callback=Me.Q)(oe,_e),w._emulator_set_bw_palette_simple=(oe,_e,He,et,De,gt)=>(w._emulator_set_bw_palette_simple=Me.R)(oe,_e,He,et,De,gt),w._rewind_new_simple=(oe,_e,He)=>(w._rewind_new_simple=Me.S)(oe,_e,He),w._rewind_begin=(oe,_e,He)=>(w._rewind_begin=Me.T)(oe,_e,He),w._emulator_set_rewind_joypad_callback=oe=>(w._emulator_set_rewind_joypad_callback=Me.U)(oe),w._rewind_to_ticks_wrapper=(oe,_e)=>(w._rewind_to_ticks_wrapper=Me.V)(oe,_e),w._rewind_end=oe=>(w._rewind_end=Me.W)(oe),w._set_joyp_up=(oe,_e)=>(w._set_joyp_up=Me.X)(oe,_e),w._set_joyp_down=(oe,_e)=>(w._set_joyp_down=Me.Y)(oe,_e),w._set_joyp_left=(oe,_e)=>(w._set_joyp_left=Me.Z)(oe,_e),w._set_joyp_right=(oe,_e)=>(w._set_joyp_right=Me._)(oe,_e),w._set_joyp_B=(oe,_e)=>(w._set_joyp_B=Me.$)(oe,_e),w._set_joyp_A=(oe,_e)=>(w._set_joyp_A=Me.aa)(oe,_e),w._set_joyp_start=(oe,_e)=>(w._set_joyp_start=Me.ba)(oe,_e),w._set_joyp_select=(oe,_e)=>(w._set_joyp_select=Me.ca)(oe,_e),w._get_frame_buffer_ptr=oe=>(w._get_frame_buffer_ptr=Me.da)(oe),w._get_frame_buffer_size=oe=>(w._get_frame_buffer_size=Me.ea)(oe),w._get_sgb_frame_buffer_ptr=oe=>(w._get_sgb_frame_buffer_ptr=Me.fa)(oe),w._get_sgb_frame_buffer_size=oe=>(w._get_sgb_frame_buffer_size=Me.ga)(oe),w._get_audio_buffer_ptr=oe=>(w._get_audio_buffer_ptr=Me.ha)(oe),w._get_audio_buffer_capacity=oe=>(w._get_audio_buffer_capacity=Me.ia)(oe),w._ext_ram_file_data_new=oe=>(w._ext_ram_file_data_new=Me.ja)(oe),w._get_file_data_ptr=oe=>(w._get_file_data_ptr=Me.ka)(oe),w._get_file_data_size=oe=>(w._get_file_data_size=Me.la)(oe),w._set_log_apu_writes=(oe,_e)=>(w._set_log_apu_writes=Me.ma)(oe,_e),w._get_apu_log_data_size=oe=>(w._get_apu_log_data_size=Me.na)(oe),w._get_apu_log_data_ptr=oe=>(w._get_apu_log_data_ptr=Me.oa)(oe),w._reset_apu_log=oe=>(w._reset_apu_log=Me.pa)(oe);var Ke;Z=function oe(){Ke||pt(),Ke||(Z=oe)};function pt(){if(ne>0||(k(),ne>0))return;function oe(){Ke||(Ke=!0,w.calledRun=!0,!p&&(F(),C(w),w.onRuntimeInitialized&&w.onRuntimeInitialized(),x()))}w.setStatus?(w.setStatus("Running..."),setTimeout(function(){setTimeout(function(){w.setStatus("")},1),oe()},1)):oe()}if(w.preInit)for(typeof w.preInit=="function"&&(w.preInit=[w.preInit]);w.preInit.length>0;)w.preInit.pop()();return pt(),M.ready}})();globalThis.emulator=new Object;Wr().then(E=>globalThis.Module=E);(function(E){var M,w,C=0,R,d,l,a,t=null,e=2048;E.init=function(r,i){E.isAvailable()&&E.destroy(),typeof l>"u"&&(l=new AudioContext);var o=(i.length-1|16383)+1;o<32768&&(o=32768),C<o&&(typeof w<"u"&&Module._free(w),w=Module._malloc(o),C=o);for(var h=0;h<C;h++)Module.HEAP8[w+h]=0;for(var h=0;h<i.length;h++)Module.HEAP8[w+h]=i[h];M=Module._emulator_new_simple(w,C,l.sampleRate,e),Module._emulator_set_bw_palette_simple(M,0,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_bw_palette_simple(M,1,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_bw_palette_simple(M,2,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_default_joypad_callback(M,0),r&&(R=r.getContext("2d"),d=R.createImageData(r.width,r.height)),l.resume(),a=l.currentTime},E.updateRom=function(r){if(!E.isAvailable())return!1;var i=(r.length-1|16383)+1;if(i<32768&&(i=32768),C<i)return!1;for(var o=0;o<C;o++)Module.HEAP8[w+o]=0;for(var o=0;o<r.length;o++)Module.HEAP8[w+o]=r[o];return!0},E.destroy=function(){E.isAvailable()&&(Module._emulator_delete(M),M=void 0)},E.isAvailable=function(){return typeof M<"u"},E.step=function(r){if(E.isAvailable()){var i=Module._emulator_get_ticks_f64(M);for(r=="single"?i+=1:r=="frame"&&(i+=70224);;){var o=Module._emulator_run_until_f64(M,i);if(o&2&&n(),o&8||o&16)return!0;if(o!=2&&r!="run")return!1;if(r=="run"&&o&4)if(a<l.currentTime+.1)i+=70224;else return!1}}},E.renderScreen=function(){if(E.isAvailable()){var r=new Uint8Array(Module.HEAP8.buffer,Module._get_frame_buffer_ptr(M),Module._get_frame_buffer_size(M));d.data.set(r),R.putImageData(d,0,0)}},E.renderVRam=function(r){if(E.isAvailable()){var i=r.getContext("2d"),o=R.createImageData(256,256),h=Module._malloc(4*256*256);Module._emulator_render_vram(M,h);var p=new Uint8Array(Module.HEAP8.buffer,h,4*256*256);o.data.set(p),i.putImageData(o,0,0),Module._free(h)}},E.renderBackground=function(r,i){if(E.isAvailable()){var o=r.getContext("2d"),h=R.createImageData(256,256),p=Module._malloc(4*256*256);Module._emulator_render_background(M,p,i);var y=new Uint8Array(Module.HEAP8.buffer,p,4*256*256);h.data.set(y),o.putImageData(h,0,0),Module._free(p)}},E.getWRam=function(){if(E.isAvailable()){var r=Module._emulator_get_wram_ptr(M);return new Uint8Array(Module.HEAP8.buffer,r,32768)}},E.getHRam=function(){if(E.isAvailable()){var r=Module._emulator_get_hram_ptr(M);return new Uint8Array(Module.HEAP8.buffer,r,127)}},E.getPC=function(){return Module._emulator_get_PC(M)},E.setPC=function(r){Module._emulator_set_PC(M,r)},E.getSP=function(){return Module._emulator_get_SP(M)},E.getA=function(){return Module._emulator_get_A(M)},E.getBC=function(){return Module._emulator_get_BC(M)},E.getDE=function(){return Module._emulator_get_DE(M)},E.getHL=function(){return Module._emulator_get_HL(M)},E.getFlags=function(){var r=Module._emulator_get_F(M),i="";return r&128&&(i+="Z "),r&16&&(i+="C "),r&32&&(i+="H "),r&64&&(i+="N "),i},E.readMem=function(r){return E.isAvailable()?Module._emulator_read_mem(M,r):255},E.writeMem=function(r,i){if(E.isAvailable())return Module._emulator_write_mem(M,r,i)},E.setBreakpoint=function(r){E.isAvailable()&&Module._emulator_set_breakpoint(M,r)},E.clearBreakpoints=function(){E.isAvailable()&&Module._emulator_clear_breakpoints(M)},E.setKeyPad=function(r,i){E.isAvailable()&&(r=="right"&&Module._set_joyp_right(M,i),r=="left"&&Module._set_joyp_left(M,i),r=="up"&&Module._set_joyp_up(M,i),r=="down"&&Module._set_joyp_down(M,i),r=="a"&&Module._set_joyp_A(M,i),r=="b"&&Module._set_joyp_B(M,i),r=="select"&&Module._set_joyp_select(M,i),r=="start"&&Module._set_joyp_start(M,i))},E.setSerialCallback=function(r){t=r},E.serialCallback=function(r){t&&t(r)};function n(){a<l.currentTime&&(a=l.currentTime);var r=new Uint8Array(Module.HEAP8.buffer,Module._get_audio_buffer_ptr(M),Module._get_audio_buffer_capacity(M));const i=.5,o=l.createBuffer(2,e,l.sampleRate),h=o.getChannelData(0),p=o.getChannelData(1);for(let m=0;m<e;m++)h[m]=r[2*m]*i/255,p[m]=r[2*m+1]*i/255;const y=l.createBufferSource();y.buffer=o,y.connect(l.destination),y.start(a);const L=e/l.sampleRate;a+=L}})(globalThis.emulator);globalThis.storage=new Object;(function(E){var M=new XMLHttpRequest;M.open("GET",new URL("/rgbds-live/assets/hardware-ffcf3094.inc",self.location),!1),M.send();var w=new XMLHttpRequest;w.open("GET",new URL("/rgbds-live/assets/main-d5a35e56.asm",self.location),!1),w.send();var C={"hardware.inc":M.response,"main.asm":w.response};E.autoUrl=!1,E.autoLocalStorage=!1,E.reset=function(){var l=new XMLHttpRequest;l.open("GET",new URL("/rgbds-live/assets/hardware-ffcf3094.inc",self.location),!1),l.send();var a=new XMLHttpRequest;a.open("GET",new URL("/rgbds-live/assets/main-d5a35e56.asm",self.location),!1),a.send(),l.response,a.response},E.autoLoad=function(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(E.loadGithubGist(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?(E.loadSingleUrl(location.hash.slice(1)),location.hash=""):(E.loadUrlHash(),E.autoUrl=!0);else if("rgbds_storage"in localStorage){C={"hardware.inc":M};for(var[l,a]of Object.entries(JSON.parse(localStorage.rgbds_storage)))a instanceof Object&&(a=Uint8Array.from(Object.values(a))),C[l]=a;E.autoLocalStorage=!0}},E.getFiles=function(){return C},E.update=function(l,a){typeof l<"u"&&(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a===null?delete C[l]:C[l]=a),E.autoUrl&&(document.location.hash=new URL(E.getHashUrl()).hash),E.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(C))},E.loadUrlHash=function(){var l=LZString.decompressFromEncodedURIComponent(location.hash.slice(1));if(l==null)return!1;if(l.indexOf("\0")<0)return C["main.asm"]=l,!0;l=l.split("\0"),C={"hardware.inc":M};for(var a=0;a<l.length-1;a+=2)C[l[a]]=l[a+1];return!0},E.getHashUrl=function(){var l="";for(var[a,t]of Object.entries(C))a=="hardware.inc"&&t==M||(l+=a+"\0"+t+"\0");var e=new URL(document.location);return e.hash=LZString.compressToEncodedURIComponent(l),e.hash.length>1024*2?"Sorry, code too large for direct URL generation":e.toString()};function R(l){var a=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(l);return a?a[1]:null}E.loadGithubGist=function(l){var a=R(l);if(a!=null){var t=new XMLHttpRequest;t.open("GET","https://api.github.com/gists/"+a,!1),t.send(),JSON.parse(t.response);var e=JSON.parse(t.responseText);C={"hardware.inc":M};for(var[n,r]of Object.entries(e.files))C[n]=r.content;d()}},E.saveGithubGist=function(l,a,t){var e={};for(var[n,r]of Object.entries(C))e[n]={content:r};if(t==""){var o=new XMLHttpRequest;return o.open("POST","https://api.github.com/gists",!1),o.setRequestHeader("Authorization","Basic "+btoa(l+":"+a)),o.send(JSON.stringify({files:e})),o.status>=400?null:JSON.parse(o.response).html_url}var i=R(t);if(i==null)return null;var o=new XMLHttpRequest;return o.open("PATCH","https://api.github.com/gists/"+i,!1),o.setRequestHeader("Authorization","Basic "+btoa(l+":"+a)),o.send(JSON.stringify({files:e})),o.status>=400?null:t},E.downloadZip=function(){var l=new JSZip;for(var[a,t]of Object.entries(C))l.file(a,t);l.generateAsync({type:"blob"}).then(function(e){var n=document.createElement("a"),r=window.URL.createObjectURL(e,{type:"application/octet-stream"});n.setAttribute("href",r),n.setAttribute("download","source.zip"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)})},E.loadZip=function(l){C={"hardware.inc":M},JSZip.loadAsync(l).then(function(a){var t=Object.values(a.files);function e(){if(!(t.length<1)){var n=t.pop(),r=editors.getFileType(n.name)=="text"?"string":"uint8array";n.async(r).then(function(i){C[n.name]=i,e(),d()})}}e()})},E.loadSingleUrl=function(l){C={"hardware.inc":M};var a=new XMLHttpRequest;a.open("GET",l,!1),a.send(),C["main.asm"]=a.response,d()};function d(){editors.setCurrentFile(Object.keys(C)[0]),updateFileList()}})(globalThis.storage);globalThis.editors=new Object;(function(E){var M={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},w=M,C="";E.getCurrentFilename=function(){return C},E.setCurrentFile=function(R){C=R;var d=w;return typeof storage.getFiles()[R]=="string"?w=textEditor:w=gfxEditor,d!=w&&(d.hide(),w.show()),w.setCurrentFile(R)},E.getFileType=function(R){var d=R.lastIndexOf(".");if(d<0)return"binary";var l=R.substr(d+1).toLowerCase();return l=="inc"||l=="asm"||l=="z80"||l=="h"||l=="c"||l=="cpp"||l=="hpp"||l=="txt"?"text":"binary"}})(globalThis.editors);var Hr=(()=>{var E=import.meta.url;return function(M={}){var w=M,C,R;w.ready=new Promise((A,D)=>{C=A,R=D});var d=Object.assign({},w),l=[],a="./this.program",t=(A,D)=>{throw D},e=!0,n="";function r(A){return w.locateFile?w.locateFile(A,n):n+A}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),E&&(n=E),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=A=>{var D=new XMLHttpRequest;return D.open("GET",A,!1),D.send(null),D.responseText},o=(A,D,P)=>{var V=new XMLHttpRequest;V.open("GET",A,!0),V.responseType="arraybuffer",V.onload=()=>{if(V.status==200||V.status==0&&V.response){D(V.response);return}P()},V.onerror=P,V.send(null)};var h=w.print||console.log.bind(console),p=w.printErr||console.error.bind(console);Object.assign(w,d),d=null,w.arguments&&(l=w.arguments),w.thisProgram&&(a=w.thisProgram),w.quit&&(t=w.quit);var y;w.wasmBinary&&(y=w.wasmBinary);var L=w.noExitRuntime||!0;typeof WebAssembly!="object"&&Ve("no native wasm support detected");var m,s=!1,f;function _(A,D){A||Ve(D)}var g,v,c,b,k;function F(){var A=m.buffer;w.HEAP8=g=new Int8Array(A),w.HEAP16=c=new Int16Array(A),w.HEAPU8=v=new Uint8Array(A),w.HEAPU16=new Uint16Array(A),w.HEAP32=b=new Int32Array(A),w.HEAPU32=k=new Uint32Array(A),w.HEAPF32=new Float32Array(A),w.HEAPF64=new Float64Array(A)}var x=[],N=[],G=[],q=[],ne=0;function Z(){return L||ne>0}function K(){if(w.preRun)for(typeof w.preRun=="function"&&(w.preRun=[w.preRun]);w.preRun.length;)le(w.preRun.shift());ke(x)}function X(){!w.noFSInit&&!z.init.initialized&&z.init(),z.ignorePermissions=!1,ke(N)}function ee(){ke(G)}function ie(){if(w.postRun)for(typeof w.postRun=="function"&&(w.postRun=[w.postRun]);w.postRun.length;)ye(w.postRun.shift());ke(q)}function le(A){x.unshift(A)}function ce(A){N.unshift(A)}function ye(A){q.unshift(A)}var pe=0,Se=null;function Le(A){return A}function Ee(A){pe++,w.monitorRunDependencies&&w.monitorRunDependencies(pe)}function Fe(A){if(pe--,w.monitorRunDependencies&&w.monitorRunDependencies(pe),pe==0&&Se){var D=Se;Se=null,D()}}function Ve(A){w.onAbort&&w.onAbort(A),A="Aborted("+A+")",p(A),s=!0,f=1,A+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(A);throw R(D),D}var Je="data:application/octet-stream;base64,";function I(A){return A.startsWith(Je)}var ge;w.locateFile?(ge="rgbasm.wasm",I(ge)||(ge=r(ge))):ge=new URL("/rgbds-live/assets/rgbasm-442999d8.wasm",self.location).href;function fe(A){if(A==ge&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function te(A){return!y&&e&&typeof fetch=="function"?fetch(A,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+A+"'";return D.arrayBuffer()}).catch(()=>fe(A)):Promise.resolve().then(()=>fe(A))}function J(A,D,P){return te(A).then(V=>WebAssembly.instantiate(V,D)).then(V=>V).then(P,V=>{p(`failed to asynchronously prepare wasm: ${V}`),Ve(V)})}function he(A,D,P,V){return!A&&typeof WebAssembly.instantiateStreaming=="function"&&!I(D)&&typeof fetch=="function"?fetch(D,{credentials:"same-origin"}).then(Q=>{var ae=WebAssembly.instantiateStreaming(Q,P);return ae.then(V,function(ue){return p(`wasm streaming compile failed: ${ue}`),p("falling back to ArrayBuffer instantiation"),J(D,P,V)})}):J(D,P,V)}function me(){var A={a:ut};function D(V,Q){var ae=V.exports;return lt=ae,m=lt.v,F(),lt.z,ce(lt.w),Fe(),ae}Ee();function P(V){D(V.instance)}if(w.instantiateWasm)try{return w.instantiateWasm(A,D)}catch(V){p(`Module.instantiateWasm callback failed with error: ${V}`),R(V)}return he(y,ge,A,P).catch(R),{}}var Y,re;function we(A){this.name="ExitStatus",this.message=`Program terminated with exit(${A})`,this.status=A}var ke=A=>{for(;A.length>0;)A.shift()(w)},be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(A,D,P)=>{for(var V=D+P,Q=D;A[Q]&&!(Q>=V);)++Q;if(Q-D>16&&A.buffer&&be)return be.decode(A.subarray(D,Q));for(var ae="";D<Q;){var ue=A[D++];if(!(ue&128)){ae+=String.fromCharCode(ue);continue}var ve=A[D++]&63;if((ue&224)==192){ae+=String.fromCharCode((ue&31)<<6|ve);continue}var Te=A[D++]&63;if((ue&240)==224?ue=(ue&15)<<12|ve<<6|Te:ue=(ue&7)<<18|ve<<12|Te<<6|A[D++]&63,ue<65536)ae+=String.fromCharCode(ue);else{var Ye=ue-65536;ae+=String.fromCharCode(55296|Ye>>10,56320|Ye&1023)}}return ae},Pe=(A,D)=>A?xe(v,A,D):"",Re=(A,D,P,V)=>{Ve(`Assertion failed: ${Pe(A)}, at: `+[D?Pe(D):"unknown filename",P,V?Pe(V):"unknown function"])},Xe=A=>(b[St()>>2]=A,A),Ce={isAbs:A=>A.charAt(0)==="/",splitPath:A=>{var D=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return D.exec(A).slice(1)},normalizeArray:(A,D)=>{for(var P=0,V=A.length-1;V>=0;V--){var Q=A[V];Q==="."?A.splice(V,1):Q===".."?(A.splice(V,1),P++):P&&(A.splice(V,1),P--)}if(D)for(;P;P--)A.unshift("..");return A},normalize:A=>{var D=Ce.isAbs(A),P=A.substr(-1)==="/";return A=Ce.normalizeArray(A.split("/").filter(V=>!!V),!D).join("/"),!A&&!D&&(A="."),A&&P&&(A+="/"),(D?"/":"")+A},dirname:A=>{var D=Ce.splitPath(A),P=D[0],V=D[1];return!P&&!V?".":(V&&(V=V.substr(0,V.length-1)),P+V)},basename:A=>{if(A==="/")return"/";A=Ce.normalize(A),A=A.replace(/\/$/,"");var D=A.lastIndexOf("/");return D===-1?A:A.substr(D+1)},join:function(){var A=Array.prototype.slice.call(arguments);return Ce.normalize(A.join("/"))},join2:(A,D)=>Ce.normalize(A+"/"+D)},Qe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return A=>crypto.getRandomValues(A);Ve("initRandomDevice")},Me=A=>(Me=Qe())(A),Ke={resolve:function(){for(var A="",D=!1,P=arguments.length-1;P>=-1&&!D;P--){var V=P>=0?arguments[P]:z.cwd();if(typeof V!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!V)return"";A=V+"/"+A,D=Ce.isAbs(V)}return A=Ce.normalizeArray(A.split("/").filter(Q=>!!Q),!D).join("/"),(D?"/":"")+A||"."},relative:(A,D)=>{A=Ke.resolve(A).substr(1),D=Ke.resolve(D).substr(1);function P(Ye){for(var tt=0;tt<Ye.length&&Ye[tt]==="";tt++);for(var it=Ye.length-1;it>=0&&Ye[it]==="";it--);return tt>it?[]:Ye.slice(tt,it-tt+1)}for(var V=P(A.split("/")),Q=P(D.split("/")),ae=Math.min(V.length,Q.length),ue=ae,ve=0;ve<ae;ve++)if(V[ve]!==Q[ve]){ue=ve;break}for(var Te=[],ve=ue;ve<V.length;ve++)Te.push("..");return Te=Te.concat(Q.slice(ue)),Te.join("/")}},pt=[],oe=A=>{for(var D=0,P=0;P<A.length;++P){var V=A.charCodeAt(P);V<=127?D++:V<=2047?D+=2:V>=55296&&V<=57343?(D+=4,++P):D+=3}return D},_e=(A,D,P,V)=>{if(!(V>0))return 0;for(var Q=P,ae=P+V-1,ue=0;ue<A.length;++ue){var ve=A.charCodeAt(ue);if(ve>=55296&&ve<=57343){var Te=A.charCodeAt(++ue);ve=65536+((ve&1023)<<10)|Te&1023}if(ve<=127){if(P>=ae)break;D[P++]=ve}else if(ve<=2047){if(P+1>=ae)break;D[P++]=192|ve>>6,D[P++]=128|ve&63}else if(ve<=65535){if(P+2>=ae)break;D[P++]=224|ve>>12,D[P++]=128|ve>>6&63,D[P++]=128|ve&63}else{if(P+3>=ae)break;D[P++]=240|ve>>18,D[P++]=128|ve>>12&63,D[P++]=128|ve>>6&63,D[P++]=128|ve&63}}return D[P]=0,P-Q};function He(A,D,P){var V=P>0?P:oe(A)+1,Q=new Array(V),ae=_e(A,Q,0,Q.length);return D&&(Q.length=ae),Q}var et=()=>{if(!pt.length){var A=null;if(typeof window<"u"&&typeof window.prompt=="function"?(A=window.prompt("Input: "),A!==null&&(A+=`
`)):typeof readline=="function"&&(A=readline(),A!==null&&(A+=`
`)),!A)return null;pt=He(A,!0)}return pt.shift()},De={ttys:[],init(){},shutdown(){},register(A,D){De.ttys[A]={input:[],output:[],ops:D},z.registerDevice(A,De.stream_ops)},stream_ops:{open(A){var D=De.ttys[A.node.rdev];if(!D)throw new z.ErrnoError(43);A.tty=D,A.seekable=!1},close(A){A.tty.ops.fsync(A.tty)},fsync(A){A.tty.ops.fsync(A.tty)},read(A,D,P,V,Q){if(!A.tty||!A.tty.ops.get_char)throw new z.ErrnoError(60);for(var ae=0,ue=0;ue<V;ue++){var ve;try{ve=A.tty.ops.get_char(A.tty)}catch{throw new z.ErrnoError(29)}if(ve===void 0&&ae===0)throw new z.ErrnoError(6);if(ve==null)break;ae++,D[P+ue]=ve}return ae&&(A.node.timestamp=Date.now()),ae},write(A,D,P,V,Q){if(!A.tty||!A.tty.ops.put_char)throw new z.ErrnoError(60);try{for(var ae=0;ae<V;ae++)A.tty.ops.put_char(A.tty,D[P+ae])}catch{throw new z.ErrnoError(29)}return V&&(A.node.timestamp=Date.now()),ae}},default_tty_ops:{get_char(A){return et()},put_char(A,D){D===null||D===10?(h(xe(A.output,0)),A.output=[]):D!=0&&A.output.push(D)},fsync(A){A.output&&A.output.length>0&&(h(xe(A.output,0)),A.output=[])},ioctl_tcgets(A){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(A,D,P){return 0},ioctl_tiocgwinsz(A){return[24,80]}},default_tty1_ops:{put_char(A,D){D===null||D===10?(p(xe(A.output,0)),A.output=[]):D!=0&&A.output.push(D)},fsync(A){A.output&&A.output.length>0&&(p(xe(A.output,0)),A.output=[])}}},gt=(A,D)=>(v.fill(0,A,A+D),A),Ie=(A,D)=>Math.ceil(A/D)*D,vt=A=>{A=Ie(A,65536);var D=Pt(65536,A);return D?gt(D,A):0},Ue={ops_table:null,mount(A){return Ue.createNode(null,"/",16895,0)},createNode(A,D,P,V){if(z.isBlkdev(P)||z.isFIFO(P))throw new z.ErrnoError(63);Ue.ops_table||(Ue.ops_table={dir:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,lookup:Ue.node_ops.lookup,mknod:Ue.node_ops.mknod,rename:Ue.node_ops.rename,unlink:Ue.node_ops.unlink,rmdir:Ue.node_ops.rmdir,readdir:Ue.node_ops.readdir,symlink:Ue.node_ops.symlink},stream:{llseek:Ue.stream_ops.llseek}},file:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:{llseek:Ue.stream_ops.llseek,read:Ue.stream_ops.read,write:Ue.stream_ops.write,allocate:Ue.stream_ops.allocate,mmap:Ue.stream_ops.mmap,msync:Ue.stream_ops.msync}},link:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,readlink:Ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:z.chrdev_stream_ops}});var Q=z.createNode(A,D,P,V);return z.isDir(Q.mode)?(Q.node_ops=Ue.ops_table.dir.node,Q.stream_ops=Ue.ops_table.dir.stream,Q.contents={}):z.isFile(Q.mode)?(Q.node_ops=Ue.ops_table.file.node,Q.stream_ops=Ue.ops_table.file.stream,Q.usedBytes=0,Q.contents=null):z.isLink(Q.mode)?(Q.node_ops=Ue.ops_table.link.node,Q.stream_ops=Ue.ops_table.link.stream):z.isChrdev(Q.mode)&&(Q.node_ops=Ue.ops_table.chrdev.node,Q.stream_ops=Ue.ops_table.chrdev.stream),Q.timestamp=Date.now(),A&&(A.contents[D]=Q,A.timestamp=Q.timestamp),Q},getFileDataAsTypedArray(A){return A.contents?A.contents.subarray?A.contents.subarray(0,A.usedBytes):new Uint8Array(A.contents):new Uint8Array(0)},expandFileStorage(A,D){var P=A.contents?A.contents.length:0;if(!(P>=D)){var V=1024*1024;D=Math.max(D,P*(P<V?2:1.125)>>>0),P!=0&&(D=Math.max(D,256));var Q=A.contents;A.contents=new Uint8Array(D),A.usedBytes>0&&A.contents.set(Q.subarray(0,A.usedBytes),0)}},resizeFileStorage(A,D){if(A.usedBytes!=D)if(D==0)A.contents=null,A.usedBytes=0;else{var P=A.contents;A.contents=new Uint8Array(D),P&&A.contents.set(P.subarray(0,Math.min(D,A.usedBytes))),A.usedBytes=D}},node_ops:{getattr(A){var D={};return D.dev=z.isChrdev(A.mode)?A.id:1,D.ino=A.id,D.mode=A.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=A.rdev,z.isDir(A.mode)?D.size=4096:z.isFile(A.mode)?D.size=A.usedBytes:z.isLink(A.mode)?D.size=A.link.length:D.size=0,D.atime=new Date(A.timestamp),D.mtime=new Date(A.timestamp),D.ctime=new Date(A.timestamp),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr(A,D){D.mode!==void 0&&(A.mode=D.mode),D.timestamp!==void 0&&(A.timestamp=D.timestamp),D.size!==void 0&&Ue.resizeFileStorage(A,D.size)},lookup(A,D){throw z.genericErrors[44]},mknod(A,D,P,V){return Ue.createNode(A,D,P,V)},rename(A,D,P){if(z.isDir(A.mode)){var V;try{V=z.lookupNode(D,P)}catch{}if(V)for(var Q in V.contents)throw new z.ErrnoError(55)}delete A.parent.contents[A.name],A.parent.timestamp=Date.now(),A.name=P,D.contents[P]=A,D.timestamp=A.parent.timestamp,A.parent=D},unlink(A,D){delete A.contents[D],A.timestamp=Date.now()},rmdir(A,D){var P=z.lookupNode(A,D);for(var V in P.contents)throw new z.ErrnoError(55);delete A.contents[D],A.timestamp=Date.now()},readdir(A){var D=[".",".."];for(var P in A.contents)A.contents.hasOwnProperty(P)&&D.push(P);return D},symlink(A,D,P){var V=Ue.createNode(A,D,41471,0);return V.link=P,V},readlink(A){if(!z.isLink(A.mode))throw new z.ErrnoError(28);return A.link}},stream_ops:{read(A,D,P,V,Q){var ae=A.node.contents;if(Q>=A.node.usedBytes)return 0;var ue=Math.min(A.node.usedBytes-Q,V);if(ue>8&&ae.subarray)D.set(ae.subarray(Q,Q+ue),P);else for(var ve=0;ve<ue;ve++)D[P+ve]=ae[Q+ve];return ue},write(A,D,P,V,Q,ae){if(!V)return 0;var ue=A.node;if(ue.timestamp=Date.now(),D.subarray&&(!ue.contents||ue.contents.subarray)){if(ae)return ue.contents=D.subarray(P,P+V),ue.usedBytes=V,V;if(ue.usedBytes===0&&Q===0)return ue.contents=D.slice(P,P+V),ue.usedBytes=V,V;if(Q+V<=ue.usedBytes)return ue.contents.set(D.subarray(P,P+V),Q),V}if(Ue.expandFileStorage(ue,Q+V),ue.contents.subarray&&D.subarray)ue.contents.set(D.subarray(P,P+V),Q);else for(var ve=0;ve<V;ve++)ue.contents[Q+ve]=D[P+ve];return ue.usedBytes=Math.max(ue.usedBytes,Q+V),V},llseek(A,D,P){var V=D;if(P===1?V+=A.position:P===2&&z.isFile(A.node.mode)&&(V+=A.node.usedBytes),V<0)throw new z.ErrnoError(28);return V},allocate(A,D,P){Ue.expandFileStorage(A.node,D+P),A.node.usedBytes=Math.max(A.node.usedBytes,D+P)},mmap(A,D,P,V,Q){if(!z.isFile(A.node.mode))throw new z.ErrnoError(43);var ae,ue,ve=A.node.contents;if(!(Q&2)&&ve.buffer===g.buffer)ue=!1,ae=ve.byteOffset;else{if((P>0||P+D<ve.length)&&(ve.subarray?ve=ve.subarray(P,P+D):ve=Array.prototype.slice.call(ve,P,P+D)),ue=!0,ae=vt(D),!ae)throw new z.ErrnoError(48);g.set(ve,ae)}return{ptr:ae,allocated:ue}},msync(A,D,P,V,Q){return Ue.stream_ops.write(A,D,0,V,P,!1),0}}},Wt=(A,D,P,V)=>{var Q=V?"":`al ${A}`;o(A,ae=>{_(ae,`Loading data file "${A}" failed (no arrayBuffer).`),D(new Uint8Array(ae)),Q&&Fe()},ae=>{if(P)P();else throw`Loading data file "${A}" failed.`}),Q&&Ee()},Ut=w.preloadPlugins||[],W=(A,D,P,V)=>{typeof Browser<"u"&&Browser.init();var Q=!1;return Ut.forEach(ae=>{Q||ae.canHandle(D)&&(ae.handle(A,D,P,V),Q=!0)}),Q},ht=(A,D,P,V,Q,ae,ue,ve,Te,Ye)=>{var tt=D?Ke.resolve(Ce.join2(A,D)):A;function it(je){function qe(rt){Ye&&Ye(),ve||z.createDataFile(A,D,rt,V,Q,Te),ae&&ae(),Fe()}W(je,tt,qe,()=>{ue&&ue(),Fe()})||qe(je)}Ee(),typeof P=="string"?Wt(P,je=>it(je),ue):it(P)},H=A=>{var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},P=D[A];if(typeof P>"u")throw new Error(`Unknown file open mode: ${A}`);return P},st=(A,D)=>{var P=0;return A&&(P|=365),D&&(P|=146),P},z={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(A,D={}){if(A=Ke.resolve(A),!A)return{path:"",node:null};var P={follow_mount:!0,recurse_count:0};if(D=Object.assign(P,D),D.recurse_count>8)throw new z.ErrnoError(32);for(var V=A.split("/").filter(it=>!!it),Q=z.root,ae="/",ue=0;ue<V.length;ue++){var ve=ue===V.length-1;if(ve&&D.parent)break;if(Q=z.lookupNode(Q,V[ue]),ae=Ce.join2(ae,V[ue]),z.isMountpoint(Q)&&(!ve||ve&&D.follow_mount)&&(Q=Q.mounted.root),!ve||D.follow)for(var Te=0;z.isLink(Q.mode);){var Ye=z.readlink(ae);ae=Ke.resolve(Ce.dirname(ae),Ye);var tt=z.lookupPath(ae,{recurse_count:D.recurse_count+1});if(Q=tt.node,Te++>40)throw new z.ErrnoError(32)}}return{path:ae,node:Q}},getPath(A){for(var D;;){if(z.isRoot(A)){var P=A.mount.mountpoint;return D?P[P.length-1]!=="/"?`${P}/${D}`:P+D:P}D=D?`${A.name}/${D}`:A.name,A=A.parent}},hashName(A,D){for(var P=0,V=0;V<D.length;V++)P=(P<<5)-P+D.charCodeAt(V)|0;return(A+P>>>0)%z.nameTable.length},hashAddNode(A){var D=z.hashName(A.parent.id,A.name);A.name_next=z.nameTable[D],z.nameTable[D]=A},hashRemoveNode(A){var D=z.hashName(A.parent.id,A.name);if(z.nameTable[D]===A)z.nameTable[D]=A.name_next;else for(var P=z.nameTable[D];P;){if(P.name_next===A){P.name_next=A.name_next;break}P=P.name_next}},lookupNode(A,D){var P=z.mayLookup(A);if(P)throw new z.ErrnoError(P,A);for(var V=z.hashName(A.id,D),Q=z.nameTable[V];Q;Q=Q.name_next){var ae=Q.name;if(Q.parent.id===A.id&&ae===D)return Q}return z.lookup(A,D)},createNode(A,D,P,V){var Q=new z.FSNode(A,D,P,V);return z.hashAddNode(Q),Q},destroyNode(A){z.hashRemoveNode(A)},isRoot(A){return A===A.parent},isMountpoint(A){return!!A.mounted},isFile(A){return(A&61440)===32768},isDir(A){return(A&61440)===16384},isLink(A){return(A&61440)===40960},isChrdev(A){return(A&61440)===8192},isBlkdev(A){return(A&61440)===24576},isFIFO(A){return(A&61440)===4096},isSocket(A){return(A&49152)===49152},flagsToPermissionString(A){var D=["r","w","rw"][A&3];return A&512&&(D+="w"),D},nodePermissions(A,D){return z.ignorePermissions?0:D.includes("r")&&!(A.mode&292)||D.includes("w")&&!(A.mode&146)||D.includes("x")&&!(A.mode&73)?2:0},mayLookup(A){var D=z.nodePermissions(A,"x");return D||(A.node_ops.lookup?0:2)},mayCreate(A,D){try{var P=z.lookupNode(A,D);return 20}catch{}return z.nodePermissions(A,"wx")},mayDelete(A,D,P){var V;try{V=z.lookupNode(A,D)}catch(ae){return ae.errno}var Q=z.nodePermissions(A,"wx");if(Q)return Q;if(P){if(!z.isDir(V.mode))return 54;if(z.isRoot(V)||z.getPath(V)===z.cwd())return 10}else if(z.isDir(V.mode))return 31;return 0},mayOpen(A,D){return A?z.isLink(A.mode)?32:z.isDir(A.mode)&&(z.flagsToPermissionString(D)!=="r"||D&512)?31:z.nodePermissions(A,z.flagsToPermissionString(D)):44},MAX_OPEN_FDS:4096,nextfd(){for(var A=0;A<=z.MAX_OPEN_FDS;A++)if(!z.streams[A])return A;throw new z.ErrnoError(33)},getStreamChecked(A){var D=z.getStream(A);if(!D)throw new z.ErrnoError(8);return D},getStream:A=>z.streams[A],createStream(A,D=-1){return z.FSStream||(z.FSStream=function(){this.shared={}},z.FSStream.prototype={},Object.defineProperties(z.FSStream.prototype,{object:{get(){return this.node},set(P){this.node=P}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(P){this.shared.flags=P}},position:{get(){return this.shared.position},set(P){this.shared.position=P}}})),A=Object.assign(new z.FSStream,A),D==-1&&(D=z.nextfd()),A.fd=D,z.streams[D]=A,A},closeStream(A){z.streams[A]=null},chrdev_stream_ops:{open(A){var D=z.getDevice(A.node.rdev);A.stream_ops=D.stream_ops,A.stream_ops.open&&A.stream_ops.open(A)},llseek(){throw new z.ErrnoError(70)}},major:A=>A>>8,minor:A=>A&255,makedev:(A,D)=>A<<8|D,registerDevice(A,D){z.devices[A]={stream_ops:D}},getDevice:A=>z.devices[A],getMounts(A){for(var D=[],P=[A];P.length;){var V=P.pop();D.push(V),P.push.apply(P,V.mounts)}return D},syncfs(A,D){typeof A=="function"&&(D=A,A=!1),z.syncFSRequests++,z.syncFSRequests>1&&p(`warning: ${z.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var P=z.getMounts(z.root.mount),V=0;function Q(ue){return z.syncFSRequests--,D(ue)}function ae(ue){if(ue)return ae.errored?void 0:(ae.errored=!0,Q(ue));++V>=P.length&&Q(null)}P.forEach(ue=>{if(!ue.type.syncfs)return ae(null);ue.type.syncfs(ue,A,ae)})},mount(A,D,P){var V=P==="/",Q=!P,ae;if(V&&z.root)throw new z.ErrnoError(10);if(!V&&!Q){var ue=z.lookupPath(P,{follow_mount:!1});if(P=ue.path,ae=ue.node,z.isMountpoint(ae))throw new z.ErrnoError(10);if(!z.isDir(ae.mode))throw new z.ErrnoError(54)}var ve={type:A,opts:D,mountpoint:P,mounts:[]},Te=A.mount(ve);return Te.mount=ve,ve.root=Te,V?z.root=Te:ae&&(ae.mounted=ve,ae.mount&&ae.mount.mounts.push(ve)),Te},unmount(A){var D=z.lookupPath(A,{follow_mount:!1});if(!z.isMountpoint(D.node))throw new z.ErrnoError(28);var P=D.node,V=P.mounted,Q=z.getMounts(V);Object.keys(z.nameTable).forEach(ue=>{for(var ve=z.nameTable[ue];ve;){var Te=ve.name_next;Q.includes(ve.mount)&&z.destroyNode(ve),ve=Te}}),P.mounted=null;var ae=P.mount.mounts.indexOf(V);P.mount.mounts.splice(ae,1)},lookup(A,D){return A.node_ops.lookup(A,D)},mknod(A,D,P){var V=z.lookupPath(A,{parent:!0}),Q=V.node,ae=Ce.basename(A);if(!ae||ae==="."||ae==="..")throw new z.ErrnoError(28);var ue=z.mayCreate(Q,ae);if(ue)throw new z.ErrnoError(ue);if(!Q.node_ops.mknod)throw new z.ErrnoError(63);return Q.node_ops.mknod(Q,ae,D,P)},create(A,D){return D=D!==void 0?D:438,D&=4095,D|=32768,z.mknod(A,D,0)},mkdir(A,D){return D=D!==void 0?D:511,D&=1023,D|=16384,z.mknod(A,D,0)},mkdirTree(A,D){for(var P=A.split("/"),V="",Q=0;Q<P.length;++Q)if(P[Q]){V+="/"+P[Q];try{z.mkdir(V,D)}catch(ae){if(ae.errno!=20)throw ae}}},mkdev(A,D,P){return typeof P>"u"&&(P=D,D=438),D|=8192,z.mknod(A,D,P)},symlink(A,D){if(!Ke.resolve(A))throw new z.ErrnoError(44);var P=z.lookupPath(D,{parent:!0}),V=P.node;if(!V)throw new z.ErrnoError(44);var Q=Ce.basename(D),ae=z.mayCreate(V,Q);if(ae)throw new z.ErrnoError(ae);if(!V.node_ops.symlink)throw new z.ErrnoError(63);return V.node_ops.symlink(V,Q,A)},rename(A,D){var P=Ce.dirname(A),V=Ce.dirname(D),Q=Ce.basename(A),ae=Ce.basename(D),ue,ve,Te;if(ue=z.lookupPath(A,{parent:!0}),ve=ue.node,ue=z.lookupPath(D,{parent:!0}),Te=ue.node,!ve||!Te)throw new z.ErrnoError(44);if(ve.mount!==Te.mount)throw new z.ErrnoError(75);var Ye=z.lookupNode(ve,Q),tt=Ke.relative(A,V);if(tt.charAt(0)!==".")throw new z.ErrnoError(28);if(tt=Ke.relative(D,P),tt.charAt(0)!==".")throw new z.ErrnoError(55);var it;try{it=z.lookupNode(Te,ae)}catch{}if(Ye!==it){var je=z.isDir(Ye.mode),qe=z.mayDelete(ve,Q,je);if(qe)throw new z.ErrnoError(qe);if(qe=it?z.mayDelete(Te,ae,je):z.mayCreate(Te,ae),qe)throw new z.ErrnoError(qe);if(!ve.node_ops.rename)throw new z.ErrnoError(63);if(z.isMountpoint(Ye)||it&&z.isMountpoint(it))throw new z.ErrnoError(10);if(Te!==ve&&(qe=z.nodePermissions(ve,"w"),qe))throw new z.ErrnoError(qe);z.hashRemoveNode(Ye);try{ve.node_ops.rename(Ye,Te,ae)}catch(rt){throw rt}finally{z.hashAddNode(Ye)}}},rmdir(A){var D=z.lookupPath(A,{parent:!0}),P=D.node,V=Ce.basename(A),Q=z.lookupNode(P,V),ae=z.mayDelete(P,V,!0);if(ae)throw new z.ErrnoError(ae);if(!P.node_ops.rmdir)throw new z.ErrnoError(63);if(z.isMountpoint(Q))throw new z.ErrnoError(10);P.node_ops.rmdir(P,V),z.destroyNode(Q)},readdir(A){var D=z.lookupPath(A,{follow:!0}),P=D.node;if(!P.node_ops.readdir)throw new z.ErrnoError(54);return P.node_ops.readdir(P)},unlink(A){var D=z.lookupPath(A,{parent:!0}),P=D.node;if(!P)throw new z.ErrnoError(44);var V=Ce.basename(A),Q=z.lookupNode(P,V),ae=z.mayDelete(P,V,!1);if(ae)throw new z.ErrnoError(ae);if(!P.node_ops.unlink)throw new z.ErrnoError(63);if(z.isMountpoint(Q))throw new z.ErrnoError(10);P.node_ops.unlink(P,V),z.destroyNode(Q)},readlink(A){var D=z.lookupPath(A),P=D.node;if(!P)throw new z.ErrnoError(44);if(!P.node_ops.readlink)throw new z.ErrnoError(28);return Ke.resolve(z.getPath(P.parent),P.node_ops.readlink(P))},stat(A,D){var P=z.lookupPath(A,{follow:!D}),V=P.node;if(!V)throw new z.ErrnoError(44);if(!V.node_ops.getattr)throw new z.ErrnoError(63);return V.node_ops.getattr(V)},lstat(A){return z.stat(A,!0)},chmod(A,D,P){var V;if(typeof A=="string"){var Q=z.lookupPath(A,{follow:!P});V=Q.node}else V=A;if(!V.node_ops.setattr)throw new z.ErrnoError(63);V.node_ops.setattr(V,{mode:D&4095|V.mode&-4096,timestamp:Date.now()})},lchmod(A,D){z.chmod(A,D,!0)},fchmod(A,D){var P=z.getStreamChecked(A);z.chmod(P.node,D)},chown(A,D,P,V){var Q;if(typeof A=="string"){var ae=z.lookupPath(A,{follow:!V});Q=ae.node}else Q=A;if(!Q.node_ops.setattr)throw new z.ErrnoError(63);Q.node_ops.setattr(Q,{timestamp:Date.now()})},lchown(A,D,P){z.chown(A,D,P,!0)},fchown(A,D,P){var V=z.getStreamChecked(A);z.chown(V.node,D,P)},truncate(A,D){if(D<0)throw new z.ErrnoError(28);var P;if(typeof A=="string"){var V=z.lookupPath(A,{follow:!0});P=V.node}else P=A;if(!P.node_ops.setattr)throw new z.ErrnoError(63);if(z.isDir(P.mode))throw new z.ErrnoError(31);if(!z.isFile(P.mode))throw new z.ErrnoError(28);var Q=z.nodePermissions(P,"w");if(Q)throw new z.ErrnoError(Q);P.node_ops.setattr(P,{size:D,timestamp:Date.now()})},ftruncate(A,D){var P=z.getStreamChecked(A);if(!(P.flags&2097155))throw new z.ErrnoError(28);z.truncate(P.node,D)},utime(A,D,P){var V=z.lookupPath(A,{follow:!0}),Q=V.node;Q.node_ops.setattr(Q,{timestamp:Math.max(D,P)})},open(A,D,P){if(A==="")throw new z.ErrnoError(44);D=typeof D=="string"?H(D):D,P=typeof P>"u"?438:P,D&64?P=P&4095|32768:P=0;var V;if(typeof A=="object")V=A;else{A=Ce.normalize(A);try{var Q=z.lookupPath(A,{follow:!(D&131072)});V=Q.node}catch{}}var ae=!1;if(D&64)if(V){if(D&128)throw new z.ErrnoError(20)}else V=z.mknod(A,P,0),ae=!0;if(!V)throw new z.ErrnoError(44);if(z.isChrdev(V.mode)&&(D&=-513),D&65536&&!z.isDir(V.mode))throw new z.ErrnoError(54);if(!ae){var ue=z.mayOpen(V,D);if(ue)throw new z.ErrnoError(ue)}D&512&&!ae&&z.truncate(V,0),D&=-131713;var ve=z.createStream({node:V,path:z.getPath(V),flags:D,seekable:!0,position:0,stream_ops:V.stream_ops,ungotten:[],error:!1});return ve.stream_ops.open&&ve.stream_ops.open(ve),w.logReadFiles&&!(D&1)&&(z.readFiles||(z.readFiles={}),A in z.readFiles||(z.readFiles[A]=1)),ve},close(A){if(z.isClosed(A))throw new z.ErrnoError(8);A.getdents&&(A.getdents=null);try{A.stream_ops.close&&A.stream_ops.close(A)}catch(D){throw D}finally{z.closeStream(A.fd)}A.fd=null},isClosed(A){return A.fd===null},llseek(A,D,P){if(z.isClosed(A))throw new z.ErrnoError(8);if(!A.seekable||!A.stream_ops.llseek)throw new z.ErrnoError(70);if(P!=0&&P!=1&&P!=2)throw new z.ErrnoError(28);return A.position=A.stream_ops.llseek(A,D,P),A.ungotten=[],A.position},read(A,D,P,V,Q){if(V<0||Q<0)throw new z.ErrnoError(28);if(z.isClosed(A))throw new z.ErrnoError(8);if((A.flags&2097155)===1)throw new z.ErrnoError(8);if(z.isDir(A.node.mode))throw new z.ErrnoError(31);if(!A.stream_ops.read)throw new z.ErrnoError(28);var ae=typeof Q<"u";if(!ae)Q=A.position;else if(!A.seekable)throw new z.ErrnoError(70);var ue=A.stream_ops.read(A,D,P,V,Q);return ae||(A.position+=ue),ue},write(A,D,P,V,Q,ae){if(V<0||Q<0)throw new z.ErrnoError(28);if(z.isClosed(A))throw new z.ErrnoError(8);if(!(A.flags&2097155))throw new z.ErrnoError(8);if(z.isDir(A.node.mode))throw new z.ErrnoError(31);if(!A.stream_ops.write)throw new z.ErrnoError(28);A.seekable&&A.flags&1024&&z.llseek(A,0,2);var ue=typeof Q<"u";if(!ue)Q=A.position;else if(!A.seekable)throw new z.ErrnoError(70);var ve=A.stream_ops.write(A,D,P,V,Q,ae);return ue||(A.position+=ve),ve},allocate(A,D,P){if(z.isClosed(A))throw new z.ErrnoError(8);if(D<0||P<=0)throw new z.ErrnoError(28);if(!(A.flags&2097155))throw new z.ErrnoError(8);if(!z.isFile(A.node.mode)&&!z.isDir(A.node.mode))throw new z.ErrnoError(43);if(!A.stream_ops.allocate)throw new z.ErrnoError(138);A.stream_ops.allocate(A,D,P)},mmap(A,D,P,V,Q){if(V&2&&!(Q&2)&&(A.flags&2097155)!==2)throw new z.ErrnoError(2);if((A.flags&2097155)===1)throw new z.ErrnoError(2);if(!A.stream_ops.mmap)throw new z.ErrnoError(43);return A.stream_ops.mmap(A,D,P,V,Q)},msync(A,D,P,V,Q){return A.stream_ops.msync?A.stream_ops.msync(A,D,P,V,Q):0},munmap:A=>0,ioctl(A,D,P){if(!A.stream_ops.ioctl)throw new z.ErrnoError(59);return A.stream_ops.ioctl(A,D,P)},readFile(A,D={}){if(D.flags=D.flags||0,D.encoding=D.encoding||"binary",D.encoding!=="utf8"&&D.encoding!=="binary")throw new Error(`Invalid encoding type "${D.encoding}"`);var P,V=z.open(A,D.flags),Q=z.stat(A),ae=Q.size,ue=new Uint8Array(ae);return z.read(V,ue,0,ae,0),D.encoding==="utf8"?P=xe(ue,0):D.encoding==="binary"&&(P=ue),z.close(V),P},writeFile(A,D,P={}){P.flags=P.flags||577;var V=z.open(A,P.flags,P.mode);if(typeof D=="string"){var Q=new Uint8Array(oe(D)+1),ae=_e(D,Q,0,Q.length);z.write(V,Q,0,ae,void 0,P.canOwn)}else if(ArrayBuffer.isView(D))z.write(V,D,0,D.byteLength,void 0,P.canOwn);else throw new Error("Unsupported data type");z.close(V)},cwd:()=>z.currentPath,chdir(A){var D=z.lookupPath(A,{follow:!0});if(D.node===null)throw new z.ErrnoError(44);if(!z.isDir(D.node.mode))throw new z.ErrnoError(54);var P=z.nodePermissions(D.node,"x");if(P)throw new z.ErrnoError(P);z.currentPath=D.path},createDefaultDirectories(){z.mkdir("/tmp"),z.mkdir("/home"),z.mkdir("/home/web_user")},createDefaultDevices(){z.mkdir("/dev"),z.registerDevice(z.makedev(1,3),{read:()=>0,write:(V,Q,ae,ue,ve)=>ue}),z.mkdev("/dev/null",z.makedev(1,3)),De.register(z.makedev(5,0),De.default_tty_ops),De.register(z.makedev(6,0),De.default_tty1_ops),z.mkdev("/dev/tty",z.makedev(5,0)),z.mkdev("/dev/tty1",z.makedev(6,0));var A=new Uint8Array(1024),D=0,P=()=>(D===0&&(D=Me(A).byteLength),A[--D]);z.createDevice("/dev","random",P),z.createDevice("/dev","urandom",P),z.mkdir("/dev/shm"),z.mkdir("/dev/shm/tmp")},createSpecialDirectories(){z.mkdir("/proc");var A=z.mkdir("/proc/self");z.mkdir("/proc/self/fd"),z.mount({mount(){var D=z.createNode(A,"fd",16895,73);return D.node_ops={lookup(P,V){var Q=+V,ae=z.getStreamChecked(Q),ue={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ae.path}};return ue.parent=ue,ue}},D}},{},"/proc/self/fd")},createStandardStreams(){w.stdin?z.createDevice("/dev","stdin",w.stdin):z.symlink("/dev/tty","/dev/stdin"),w.stdout?z.createDevice("/dev","stdout",null,w.stdout):z.symlink("/dev/tty","/dev/stdout"),w.stderr?z.createDevice("/dev","stderr",null,w.stderr):z.symlink("/dev/tty1","/dev/stderr"),z.open("/dev/stdin",0),z.open("/dev/stdout",1),z.open("/dev/stderr",1)},ensureErrnoError(){z.ErrnoError||(z.ErrnoError=function(D,P){this.name="ErrnoError",this.node=P,this.setErrno=function(V){this.errno=V},this.setErrno(D),this.message="FS error"},z.ErrnoError.prototype=new Error,z.ErrnoError.prototype.constructor=z.ErrnoError,[44].forEach(A=>{z.genericErrors[A]=new z.ErrnoError(A),z.genericErrors[A].stack="<generic error, no stack>"}))},staticInit(){z.ensureErrnoError(),z.nameTable=new Array(4096),z.mount(Ue,{},"/"),z.createDefaultDirectories(),z.createDefaultDevices(),z.createSpecialDirectories(),z.filesystems={MEMFS:Ue}},init(A,D,P){z.init.initialized=!0,z.ensureErrnoError(),w.stdin=A||w.stdin,w.stdout=D||w.stdout,w.stderr=P||w.stderr,z.createStandardStreams()},quit(){z.init.initialized=!1;for(var A=0;A<z.streams.length;A++){var D=z.streams[A];D&&z.close(D)}},findObject(A,D){var P=z.analyzePath(A,D);return P.exists?P.object:null},analyzePath(A,D){try{var P=z.lookupPath(A,{follow:!D});A=P.path}catch{}var V={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var P=z.lookupPath(A,{parent:!0});V.parentExists=!0,V.parentPath=P.path,V.parentObject=P.node,V.name=Ce.basename(A),P=z.lookupPath(A,{follow:!D}),V.exists=!0,V.path=P.path,V.object=P.node,V.name=P.node.name,V.isRoot=P.path==="/"}catch(Q){V.error=Q.errno}return V},createPath(A,D,P,V){A=typeof A=="string"?A:z.getPath(A);for(var Q=D.split("/").reverse();Q.length;){var ae=Q.pop();if(ae){var ue=Ce.join2(A,ae);try{z.mkdir(ue)}catch{}A=ue}}return ue},createFile(A,D,P,V,Q){var ae=Ce.join2(typeof A=="string"?A:z.getPath(A),D),ue=st(V,Q);return z.create(ae,ue)},createDataFile(A,D,P,V,Q,ae){var ue=D;A&&(A=typeof A=="string"?A:z.getPath(A),ue=D?Ce.join2(A,D):A);var ve=st(V,Q),Te=z.create(ue,ve);if(P){if(typeof P=="string"){for(var Ye=new Array(P.length),tt=0,it=P.length;tt<it;++tt)Ye[tt]=P.charCodeAt(tt);P=Ye}z.chmod(Te,ve|146);var je=z.open(Te,577);z.write(je,P,0,P.length,0,ae),z.close(je),z.chmod(Te,ve)}return Te},createDevice(A,D,P,V){var Q=Ce.join2(typeof A=="string"?A:z.getPath(A),D),ae=st(!!P,!!V);z.createDevice.major||(z.createDevice.major=64);var ue=z.makedev(z.createDevice.major++,0);return z.registerDevice(ue,{open(ve){ve.seekable=!1},close(ve){V&&V.buffer&&V.buffer.length&&V(10)},read(ve,Te,Ye,tt,it){for(var je=0,qe=0;qe<tt;qe++){var rt;try{rt=P()}catch{throw new z.ErrnoError(29)}if(rt===void 0&&je===0)throw new z.ErrnoError(6);if(rt==null)break;je++,Te[Ye+qe]=rt}return je&&(ve.node.timestamp=Date.now()),je},write(ve,Te,Ye,tt,it){for(var je=0;je<tt;je++)try{V(Te[Ye+je])}catch{throw new z.ErrnoError(29)}return tt&&(ve.node.timestamp=Date.now()),je}}),z.mkdev(Q,ae,ue)},forceLoadFile(A){if(A.isDevice||A.isFolder||A.link||A.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{A.contents=He(i(A.url),!0),A.usedBytes=A.contents.length}catch{throw new z.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(A,D,P,V,Q){function ae(){this.lengthKnown=!1,this.chunks=[]}if(ae.prototype.get=function(qe){if(!(qe>this.length-1||qe<0)){var rt=qe%this.chunkSize,yt=qe/this.chunkSize|0;return this.getter(yt)[rt]}},ae.prototype.setDataGetter=function(qe){this.getter=qe},ae.prototype.cacheLength=function(){var qe=new XMLHttpRequest;if(qe.open("HEAD",P,!1),qe.send(null),!(qe.status>=200&&qe.status<300||qe.status===304))throw new Error("Couldn't load "+P+". Status: "+qe.status);var rt=Number(qe.getResponseHeader("Content-length")),yt,$t=(yt=qe.getResponseHeader("Accept-Ranges"))&&yt==="bytes",kt=(yt=qe.getResponseHeader("Content-Encoding"))&&yt==="gzip",Ae=1024*1024;$t||(Ae=rt);var Ge=(ft,Lt)=>{if(ft>Lt)throw new Error("invalid range ("+ft+", "+Lt+") or no bytes requested!");if(Lt>rt-1)throw new Error("only "+rt+" bytes available! programmer error!");var wt=new XMLHttpRequest;if(wt.open("GET",P,!1),rt!==Ae&&wt.setRequestHeader("Range","bytes="+ft+"-"+Lt),wt.responseType="arraybuffer",wt.overrideMimeType&&wt.overrideMimeType("text/plain; charset=x-user-defined"),wt.send(null),!(wt.status>=200&&wt.status<300||wt.status===304))throw new Error("Couldn't load "+P+". Status: "+wt.status);return wt.response!==void 0?new Uint8Array(wt.response||[]):He(wt.responseText||"",!0)},bt=this;bt.setDataGetter(ft=>{var Lt=ft*Ae,wt=(ft+1)*Ae-1;if(wt=Math.min(wt,rt-1),typeof bt.chunks[ft]>"u"&&(bt.chunks[ft]=Ge(Lt,wt)),typeof bt.chunks[ft]>"u")throw new Error("doXHR failed!");return bt.chunks[ft]}),(kt||!rt)&&(Ae=rt=1,rt=this.getter(0).length,Ae=rt,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=rt,this._chunkSize=Ae,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ue,ve}else var ve={isDevice:!1,url:P};var Te=z.createFile(A,D,ve,V,Q);ve.contents?Te.contents=ve.contents:ve.url&&(Te.contents=null,Te.url=ve.url),Object.defineProperties(Te,{usedBytes:{get:function(){return this.contents.length}}});var Ye={},tt=Object.keys(Te.stream_ops);tt.forEach(je=>{var qe=Te.stream_ops[je];Ye[je]=function(){return z.forceLoadFile(Te),qe.apply(null,arguments)}});function it(je,qe,rt,yt,$t){var kt=je.node.contents;if($t>=kt.length)return 0;var Ae=Math.min(kt.length-$t,yt);if(kt.slice)for(var Ge=0;Ge<Ae;Ge++)qe[rt+Ge]=kt[$t+Ge];else for(var Ge=0;Ge<Ae;Ge++)qe[rt+Ge]=kt.get($t+Ge);return Ae}return Ye.read=(je,qe,rt,yt,$t)=>(z.forceLoadFile(Te),it(je,qe,rt,yt,$t)),Ye.mmap=(je,qe,rt,yt,$t)=>{z.forceLoadFile(Te);var kt=vt(qe);if(!kt)throw new z.ErrnoError(48);return it(je,g,kt,qe,rt),{ptr:kt,allocated:!0}},Te.stream_ops=Ye,Te}},nt={DEFAULT_POLLMASK:5,calculateAt(A,D,P){if(Ce.isAbs(D))return D;var V;if(A===-100)V=z.cwd();else{var Q=nt.getStreamFromFD(A);V=Q.path}if(D.length==0){if(!P)throw new z.ErrnoError(44);return V}return Ce.join2(V,D)},doStat(A,D,P){try{var V=A(D)}catch(ve){if(ve&&ve.node&&Ce.normalize(D)!==Ce.normalize(z.getPath(ve.node)))return-54;throw ve}b[P>>2]=V.dev,b[P+4>>2]=V.mode,k[P+8>>2]=V.nlink,b[P+12>>2]=V.uid,b[P+16>>2]=V.gid,b[P+20>>2]=V.rdev,re=[V.size>>>0,(Y=V.size,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[P+24>>2]=re[0],b[P+28>>2]=re[1],b[P+32>>2]=4096,b[P+36>>2]=V.blocks;var Q=V.atime.getTime(),ae=V.mtime.getTime(),ue=V.ctime.getTime();return re=[Math.floor(Q/1e3)>>>0,(Y=Math.floor(Q/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[P+40>>2]=re[0],b[P+44>>2]=re[1],k[P+48>>2]=Q%1e3*1e3,re=[Math.floor(ae/1e3)>>>0,(Y=Math.floor(ae/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[P+56>>2]=re[0],b[P+60>>2]=re[1],k[P+64>>2]=ae%1e3*1e3,re=[Math.floor(ue/1e3)>>>0,(Y=Math.floor(ue/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[P+72>>2]=re[0],b[P+76>>2]=re[1],k[P+80>>2]=ue%1e3*1e3,re=[V.ino>>>0,(Y=V.ino,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[P+88>>2]=re[0],b[P+92>>2]=re[1],0},doMsync(A,D,P,V,Q){if(!z.isFile(D.node.mode))throw new z.ErrnoError(43);if(V&2)return 0;var ae=v.slice(A,A+P);z.msync(D,ae,Q,P,V)},varargs:void 0,get(){var A=b[nt.varargs>>2];return nt.varargs+=4,A},getp(){return nt.get()},getStr(A){var D=Pe(A);return D},getStreamFromFD(A){var D=z.getStreamChecked(A);return D}};function tr(A,D,P){nt.varargs=P;try{var V=nt.getStreamFromFD(A);switch(D){case 0:{var Q=nt.get();if(Q<0)return-28;for(;z.streams[Q];)Q++;var ae;return ae=z.createStream(V,Q),ae.fd}case 1:case 2:return 0;case 3:return V.flags;case 4:{var Q=nt.get();return V.flags|=Q,0}case 5:{var Q=nt.getp(),ue=0;return c[Q+ue>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Xe(28),-1;default:return-28}}catch(ve){if(typeof z>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function rr(A,D,P){nt.varargs=P;try{var V=nt.getStreamFromFD(A);switch(D){case 21509:return V.tty?0:-59;case 21505:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcgets){var Q=V.tty.ops.ioctl_tcgets(V),ae=nt.getp();b[ae>>2]=Q.c_iflag||0,b[ae+4>>2]=Q.c_oflag||0,b[ae+8>>2]=Q.c_cflag||0,b[ae+12>>2]=Q.c_lflag||0;for(var ue=0;ue<32;ue++)g[ae+ue+17>>0]=Q.c_cc[ue]||0;return 0}return 0}case 21510:case 21511:case 21512:return V.tty?0:-59;case 21506:case 21507:case 21508:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcsets){for(var ae=nt.getp(),ve=b[ae>>2],Te=b[ae+4>>2],Ye=b[ae+8>>2],tt=b[ae+12>>2],it=[],ue=0;ue<32;ue++)it.push(g[ae+ue+17>>0]);return V.tty.ops.ioctl_tcsets(V.tty,D,{c_iflag:ve,c_oflag:Te,c_cflag:Ye,c_lflag:tt,c_cc:it})}return 0}case 21519:{if(!V.tty)return-59;var ae=nt.getp();return b[ae>>2]=0,0}case 21520:return V.tty?-28:-59;case 21531:{var ae=nt.getp();return z.ioctl(V,D,ae)}case 21523:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tiocgwinsz){var je=V.tty.ops.ioctl_tiocgwinsz(V.tty),ae=nt.getp();c[ae>>1]=je[0],c[ae+2>>1]=je[1]}return 0}case 21524:return V.tty?0:-59;case 21515:return V.tty?0:-59;default:return-28}}catch(qe){if(typeof z>"u"||qe.name!=="ErrnoError")throw qe;return-qe.errno}}function nr(A,D,P,V){nt.varargs=V;try{D=nt.getStr(D),D=nt.calculateAt(A,D);var Q=V?nt.get():0;return z.open(D,P,Q).fd}catch(ae){if(typeof z>"u"||ae.name!=="ErrnoError")throw ae;return-ae.errno}}function ir(A,D){try{return A=nt.getStr(A),nt.doStat(z.stat,A,D)}catch(P){if(typeof z>"u"||P.name!=="ErrnoError")throw P;return-P.errno}}var Ft=(A,D)=>D+2097152>>>0<4194305-!!A?(A>>>0)+D*4294967296:NaN;function Kt(A,D,P){var V=Ft(A,D),Q=new Date(V*1e3);b[P>>2]=Q.getUTCSeconds(),b[P+4>>2]=Q.getUTCMinutes(),b[P+8>>2]=Q.getUTCHours(),b[P+12>>2]=Q.getUTCDate(),b[P+16>>2]=Q.getUTCMonth(),b[P+20>>2]=Q.getUTCFullYear()-1900,b[P+24>>2]=Q.getUTCDay();var ae=Date.UTC(Q.getUTCFullYear(),0,1,0,0,0,0),ue=(Q.getTime()-ae)/(1e3*60*60*24)|0;b[P+28>>2]=ue}var Dt=A=>A%4===0&&(A%100!==0||A%400===0),or=[0,31,60,91,121,152,182,213,244,274,305,335],sr=[0,31,59,90,120,151,181,212,243,273,304,334],ar=A=>{var D=Dt(A.getFullYear()),P=D?or:sr,V=P[A.getMonth()]+A.getDate()-1;return V};function lr(A,D,P){var V=Ft(A,D),Q=new Date(V*1e3);b[P>>2]=Q.getSeconds(),b[P+4>>2]=Q.getMinutes(),b[P+8>>2]=Q.getHours(),b[P+12>>2]=Q.getDate(),b[P+16>>2]=Q.getMonth(),b[P+20>>2]=Q.getFullYear()-1900,b[P+24>>2]=Q.getDay();var ae=ar(Q)|0;b[P+28>>2]=ae,b[P+36>>2]=-(Q.getTimezoneOffset()*60);var ue=new Date(Q.getFullYear(),0,1),ve=new Date(Q.getFullYear(),6,1).getTimezoneOffset(),Te=ue.getTimezoneOffset(),Ye=(ve!=Te&&Q.getTimezoneOffset()==Math.min(Te,ve))|0;b[P+32>>2]=Ye}function cr(A,D,P,V,Q,ae,ue,ve){var Te=Ft(Q,ae);try{if(isNaN(Te))return 61;var Ye=nt.getStreamFromFD(V),tt=z.mmap(Ye,A,Te,D,P),it=tt.ptr;return b[ue>>2]=tt.allocated,k[ve>>2]=it,0}catch(je){if(typeof z>"u"||je.name!=="ErrnoError")throw je;return-je.errno}}function hr(A,D,P,V,Q,ae,ue){var ve=Ft(ae,ue);try{if(isNaN(ve))return 61;var Te=nt.getStreamFromFD(Q);P&2&&nt.doMsync(A,Te,D,V,ve),z.munmap(Te)}catch(Ye){if(typeof z>"u"||Ye.name!=="ErrnoError")throw Ye;return-Ye.errno}}var qt=(A,D,P)=>_e(A,v,D,P),Yt=A=>{var D=oe(A)+1,P=dt(D);return P&&qt(A,P,D),P},ur=(A,D,P)=>{var V=new Date().getFullYear(),Q=new Date(V,0,1),ae=new Date(V,6,1),ue=Q.getTimezoneOffset(),ve=ae.getTimezoneOffset(),Te=Math.max(ue,ve);k[A>>2]=Te*60,b[D>>2]=+(ue!=ve);function Ye(rt){var yt=rt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return yt?yt[1]:"GMT"}var tt=Ye(Q),it=Ye(ae),je=Yt(tt),qe=Yt(it);ve<ue?(k[P>>2]=je,k[P+4>>2]=qe):(k[P>>2]=qe,k[P+4>>2]=je)},Xt=()=>Date.now(),Ot=(A,D,P)=>v.copyWithin(A,D,D+P),Rt=A=>{Ve("OOM")},Ht=A=>{v.length,Rt()},Ct={},At=()=>a||"./this.program",xt=()=>{if(!xt.strings){var A=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:A,_:At()};for(var P in Ct)Ct[P]===void 0?delete D[P]:D[P]=Ct[P];var V=[];for(var P in D)V.push(`${P}=${D[P]}`);xt.strings=V}return xt.strings},Bt=(A,D)=>{for(var P=0;P<A.length;++P)g[D++>>0]=A.charCodeAt(P);g[D>>0]=0},Vt=(A,D)=>{var P=0;return xt().forEach((V,Q)=>{var ae=D+P;k[A+Q*4>>2]=ae,Bt(V,ae),P+=V.length+1}),0},It=(A,D)=>{var P=xt();k[A>>2]=P.length;var V=0;return P.forEach(Q=>V+=Q.length+1),k[D>>2]=V,0},Zt=A=>{f=A,Z()||(w.onExit&&w.onExit(A),s=!0),t(A,new we(A))},$=(A,D)=>{f=A,Zt(A)},O=$;function u(A){try{var D=nt.getStreamFromFD(A);return z.close(D),0}catch(P){if(typeof z>"u"||P.name!=="ErrnoError")throw P;return P.errno}}var S=(A,D,P,V)=>{for(var Q=0,ae=0;ae<P;ae++){var ue=k[D>>2],ve=k[D+4>>2];D+=8;var Te=z.read(A,g,ue,ve,V);if(Te<0)return-1;if(Q+=Te,Te<ve)break;typeof V<"u"&&(V+=Te)}return Q};function T(A,D,P,V){try{var Q=nt.getStreamFromFD(A),ae=S(Q,D,P);return k[V>>2]=ae,0}catch(ue){if(typeof z>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}function B(A,D,P,V,Q){var ae=Ft(D,P);try{if(isNaN(ae))return 61;var ue=nt.getStreamFromFD(A);return z.llseek(ue,ae,V),re=[ue.position>>>0,(Y=ue.position,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[Q>>2]=re[0],b[Q+4>>2]=re[1],ue.getdents&&ae===0&&V===0&&(ue.getdents=null),0}catch(ve){if(typeof z>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var U=(A,D,P,V)=>{for(var Q=0,ae=0;ae<P;ae++){var ue=k[D>>2],ve=k[D+4>>2];D+=8;var Te=z.write(A,g,ue,ve,V);if(Te<0)return-1;Q+=Te,typeof V<"u"&&(V+=Te)}return Q};function j(A,D,P,V){try{var Q=nt.getStreamFromFD(A),ae=U(Q,D,P);return k[V>>2]=ae,0}catch(ue){if(typeof z>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}var se=(A,D)=>{for(var P=0,V=0;V<=D;P+=A[V++]);return P},de=[31,29,31,30,31,30,31,31,30,31,30,31],$e=[31,28,31,30,31,30,31,31,30,31,30,31],We=(A,D)=>{for(var P=new Date(A.getTime());D>0;){var V=Dt(P.getFullYear()),Q=P.getMonth(),ae=(V?de:$e)[Q];if(D>ae-P.getDate())D-=ae-P.getDate()+1,P.setDate(1),Q<11?P.setMonth(Q+1):(P.setMonth(0),P.setFullYear(P.getFullYear()+1));else return P.setDate(P.getDate()+D),P}return P},Ne=(A,D)=>{g.set(A,D)},Oe=(A,D,P,V)=>{var Q=k[V+40>>2],ae={tm_sec:b[V>>2],tm_min:b[V+4>>2],tm_hour:b[V+8>>2],tm_mday:b[V+12>>2],tm_mon:b[V+16>>2],tm_year:b[V+20>>2],tm_wday:b[V+24>>2],tm_yday:b[V+28>>2],tm_isdst:b[V+32>>2],tm_gmtoff:b[V+36>>2],tm_zone:Q?Pe(Q):""},ue=Pe(P),ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Te in ve)ue=ue.replace(new RegExp(Te,"g"),ve[Te]);var Ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tt=["January","February","March","April","May","June","July","August","September","October","November","December"];function it(Ae,Ge,bt){for(var ft=typeof Ae=="number"?Ae.toString():Ae||"";ft.length<Ge;)ft=bt[0]+ft;return ft}function je(Ae,Ge){return it(Ae,Ge,"0")}function qe(Ae,Ge){function bt(Lt){return Lt<0?-1:Lt>0?1:0}var ft;return(ft=bt(Ae.getFullYear()-Ge.getFullYear()))===0&&(ft=bt(Ae.getMonth()-Ge.getMonth()))===0&&(ft=bt(Ae.getDate()-Ge.getDate())),ft}function rt(Ae){switch(Ae.getDay()){case 0:return new Date(Ae.getFullYear()-1,11,29);case 1:return Ae;case 2:return new Date(Ae.getFullYear(),0,3);case 3:return new Date(Ae.getFullYear(),0,2);case 4:return new Date(Ae.getFullYear(),0,1);case 5:return new Date(Ae.getFullYear()-1,11,31);case 6:return new Date(Ae.getFullYear()-1,11,30)}}function yt(Ae){var Ge=We(new Date(Ae.tm_year+1900,0,1),Ae.tm_yday),bt=new Date(Ge.getFullYear(),0,4),ft=new Date(Ge.getFullYear()+1,0,4),Lt=rt(bt),wt=rt(ft);return qe(Lt,Ge)<=0?qe(wt,Ge)<=0?Ge.getFullYear()+1:Ge.getFullYear():Ge.getFullYear()-1}var $t={"%a":Ae=>Ye[Ae.tm_wday].substring(0,3),"%A":Ae=>Ye[Ae.tm_wday],"%b":Ae=>tt[Ae.tm_mon].substring(0,3),"%B":Ae=>tt[Ae.tm_mon],"%C":Ae=>{var Ge=Ae.tm_year+1900;return je(Ge/100|0,2)},"%d":Ae=>je(Ae.tm_mday,2),"%e":Ae=>it(Ae.tm_mday,2," "),"%g":Ae=>yt(Ae).toString().substring(2),"%G":Ae=>yt(Ae),"%H":Ae=>je(Ae.tm_hour,2),"%I":Ae=>{var Ge=Ae.tm_hour;return Ge==0?Ge=12:Ge>12&&(Ge-=12),je(Ge,2)},"%j":Ae=>je(Ae.tm_mday+se(Dt(Ae.tm_year+1900)?de:$e,Ae.tm_mon-1),3),"%m":Ae=>je(Ae.tm_mon+1,2),"%M":Ae=>je(Ae.tm_min,2),"%n":()=>`
`,"%p":Ae=>Ae.tm_hour>=0&&Ae.tm_hour<12?"AM":"PM","%S":Ae=>je(Ae.tm_sec,2),"%t":()=>"	","%u":Ae=>Ae.tm_wday||7,"%U":Ae=>{var Ge=Ae.tm_yday+7-Ae.tm_wday;return je(Math.floor(Ge/7),2)},"%V":Ae=>{var Ge=Math.floor((Ae.tm_yday+7-(Ae.tm_wday+6)%7)/7);if((Ae.tm_wday+371-Ae.tm_yday-2)%7<=2&&Ge++,Ge){if(Ge==53){var ft=(Ae.tm_wday+371-Ae.tm_yday)%7;ft!=4&&(ft!=3||!Dt(Ae.tm_year))&&(Ge=1)}}else{Ge=52;var bt=(Ae.tm_wday+7-Ae.tm_yday-1)%7;(bt==4||bt==5&&Dt(Ae.tm_year%400-1))&&Ge++}return je(Ge,2)},"%w":Ae=>Ae.tm_wday,"%W":Ae=>{var Ge=Ae.tm_yday+7-(Ae.tm_wday+6)%7;return je(Math.floor(Ge/7),2)},"%y":Ae=>(Ae.tm_year+1900).toString().substring(2),"%Y":Ae=>Ae.tm_year+1900,"%z":Ae=>{var Ge=Ae.tm_gmtoff,bt=Ge>=0;return Ge=Math.abs(Ge)/60,Ge=Ge/60*100+Ge%60,(bt?"+":"-")+("0000"+Ge).slice(-4)},"%Z":Ae=>Ae.tm_zone,"%%":()=>"%"};ue=ue.replace(/%%/g,"\0\0");for(var Te in $t)ue.includes(Te)&&(ue=ue.replace(new RegExp(Te,"g"),$t[Te](ae)));ue=ue.replace(/\0\0/g,"%");var kt=He(ue,!1);return kt.length>D?0:(Ne(kt,A),kt.length-1)},Be=A=>{if(A instanceof we||A=="unwind")return f;t(1,A)},ze=A=>{var D=oe(A)+1,P=mt(D);return qt(A,P,D),P},Ze=function(A,D,P,V){A||(A=this),this.parent=A,this.mount=A.mount,this.mounted=null,this.id=z.nextInode++,this.name=D,this.mode=P,this.node_ops={},this.stream_ops={},this.rdev=V},at=365,ct=146;Object.defineProperties(Ze.prototype,{read:{get:function(){return(this.mode&at)===at},set:function(A){A?this.mode|=at:this.mode&=~at}},write:{get:function(){return(this.mode&ct)===ct},set:function(A){A?this.mode|=ct:this.mode&=~ct}},isFolder:{get:function(){return z.isDir(this.mode)}},isDevice:{get:function(){return z.isChrdev(this.mode)}}}),z.FSNode=Ze,z.createPreloadedFile=ht,z.staticInit();var ut={a:Re,g:tr,k:rr,h:nr,s:ir,n:Kt,o:lr,l:cr,m:hr,r:ur,i:Xt,j:Ot,q:Ht,t:Vt,u:It,b:O,d:u,f:T,p:B,e:j,c:Oe},lt=me(),dt=A=>(dt=lt.x)(A),St=()=>(St=lt.y)(),ot=w._main=(A,D)=>(ot=w._main=lt.A)(A,D),Pt=(A,D)=>(Pt=lt.B)(A,D),mt=A=>(mt=lt.C)(A);w.FS=z;var pr;Se=function A(){pr||Cr(),pr||(Se=A)};function Ir(A=[]){var D=ot;A.unshift(a);var P=A.length,V=mt((P+1)*4),Q=V;A.forEach(ue=>{k[Q>>2]=ze(ue),Q+=4}),k[Q>>2]=0;try{var ae=D(P,V);return $(ae,!0),ae}catch(ue){return Be(ue)}}function Cr(A=l){if(pe>0||(K(),pe>0))return;function D(){pr||(pr=!0,w.calledRun=!0,!s&&(X(),ee(),C(w),w.onRuntimeInitialized&&w.onRuntimeInitialized(),Ar&&Ir(A),ie()))}w.setStatus?(w.setStatus("Running..."),setTimeout(function(){setTimeout(function(){w.setStatus("")},1),D()},1)):D()}if(w.preInit)for(typeof w.preInit=="function"&&(w.preInit=[w.preInit]);w.preInit.length>0;)w.preInit.pop()();var Ar=!0;return w.noInitialRun&&(Ar=!1),Cr(),M.ready}})(),Ur=(()=>{var E=import.meta.url;return function(M={}){var w=M,C,R;w.ready=new Promise((u,S)=>{C=u,R=S});var d=Object.assign({},w),l=[],a="./this.program",t=(u,S)=>{throw S},e=!0,n="";function r(u){return w.locateFile?w.locateFile(u,n):n+u}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),E&&(n=E),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=u=>{var S=new XMLHttpRequest;return S.open("GET",u,!1),S.send(null),S.responseText},o=(u,S,T)=>{var B=new XMLHttpRequest;B.open("GET",u,!0),B.responseType="arraybuffer",B.onload=()=>{if(B.status==200||B.status==0&&B.response){S(B.response);return}T()},B.onerror=T,B.send(null)};var h=w.print||console.log.bind(console),p=w.printErr||console.error.bind(console);Object.assign(w,d),d=null,w.arguments&&(l=w.arguments),w.thisProgram&&(a=w.thisProgram),w.quit&&(t=w.quit);var y;w.wasmBinary&&(y=w.wasmBinary);var L=w.noExitRuntime||!0;typeof WebAssembly!="object"&&Ve("no native wasm support detected");var m,s=!1,f;function _(u,S){u||Ve(S)}var g,v,c,b,k;function F(){var u=m.buffer;w.HEAP8=g=new Int8Array(u),w.HEAP16=c=new Int16Array(u),w.HEAPU8=v=new Uint8Array(u),w.HEAPU16=new Uint16Array(u),w.HEAP32=b=new Int32Array(u),w.HEAPU32=k=new Uint32Array(u),w.HEAPF32=new Float32Array(u),w.HEAPF64=new Float64Array(u)}var x=[],N=[],G=[],q=[],ne=0;function Z(){return L||ne>0}function K(){if(w.preRun)for(typeof w.preRun=="function"&&(w.preRun=[w.preRun]);w.preRun.length;)le(w.preRun.shift());ke(x)}function X(){!w.noFSInit&&!H.init.initialized&&H.init(),H.ignorePermissions=!1,ke(N)}function ee(){ke(G)}function ie(){if(w.postRun)for(typeof w.postRun=="function"&&(w.postRun=[w.postRun]);w.postRun.length;)ye(w.postRun.shift());ke(q)}function le(u){x.unshift(u)}function ce(u){N.unshift(u)}function ye(u){q.unshift(u)}var pe=0,Se=null;function Le(u){return u}function Ee(u){pe++,w.monitorRunDependencies&&w.monitorRunDependencies(pe)}function Fe(u){if(pe--,w.monitorRunDependencies&&w.monitorRunDependencies(pe),pe==0&&Se){var S=Se;Se=null,S()}}function Ve(u){w.onAbort&&w.onAbort(u),u="Aborted("+u+")",p(u),s=!0,f=1,u+=". Build with -sASSERTIONS for more info.";var S=new WebAssembly.RuntimeError(u);throw R(S),S}var Je="data:application/octet-stream;base64,";function I(u){return u.startsWith(Je)}var ge;w.locateFile?(ge="rgblink.wasm",I(ge)||(ge=r(ge))):ge=new URL("/rgbds-live/assets/rgblink-72e120c5.wasm",self.location).href;function fe(u){if(u==ge&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function te(u){return!y&&e&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(S=>{if(!S.ok)throw"failed to load wasm binary file at '"+u+"'";return S.arrayBuffer()}).catch(()=>fe(u)):Promise.resolve().then(()=>fe(u))}function J(u,S,T){return te(u).then(B=>WebAssembly.instantiate(B,S)).then(B=>B).then(T,B=>{p(`failed to asynchronously prepare wasm: ${B}`),Ve(B)})}function he(u,S,T,B){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!I(S)&&typeof fetch=="function"?fetch(S,{credentials:"same-origin"}).then(U=>{var j=WebAssembly.instantiateStreaming(U,T);return j.then(B,function(se){return p(`wasm streaming compile failed: ${se}`),p("falling back to ArrayBuffer instantiation"),J(S,T,B)})}):J(S,T,B)}function me(){var u={a:Ct};function S(B,U){var j=B.exports;return At=j,m=At.l,F(),At.n,ce(At.m),Fe(),j}Ee();function T(B){S(B.instance)}if(w.instantiateWasm)try{return w.instantiateWasm(u,S)}catch(B){p(`Module.instantiateWasm callback failed with error: ${B}`),R(B)}return he(y,ge,u,T).catch(R),{}}var Y,re;function we(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}var ke=u=>{for(;u.length>0;)u.shift()(w)},be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(u,S,T)=>{for(var B=S+T,U=S;u[U]&&!(U>=B);)++U;if(U-S>16&&u.buffer&&be)return be.decode(u.subarray(S,U));for(var j="";S<U;){var se=u[S++];if(!(se&128)){j+=String.fromCharCode(se);continue}var de=u[S++]&63;if((se&224)==192){j+=String.fromCharCode((se&31)<<6|de);continue}var $e=u[S++]&63;if((se&240)==224?se=(se&15)<<12|de<<6|$e:se=(se&7)<<18|de<<12|$e<<6|u[S++]&63,se<65536)j+=String.fromCharCode(se);else{var We=se-65536;j+=String.fromCharCode(55296|We>>10,56320|We&1023)}}return j},Pe=(u,S)=>u?xe(v,u,S):"",Re=(u,S,T,B)=>{Ve(`Assertion failed: ${Pe(u)}, at: `+[S?Pe(S):"unknown filename",T,B?Pe(B):"unknown function"])},Xe=u=>(b[Bt()>>2]=u,u),Ce={isAbs:u=>u.charAt(0)==="/",splitPath:u=>{var S=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return S.exec(u).slice(1)},normalizeArray:(u,S)=>{for(var T=0,B=u.length-1;B>=0;B--){var U=u[B];U==="."?u.splice(B,1):U===".."?(u.splice(B,1),T++):T&&(u.splice(B,1),T--)}if(S)for(;T;T--)u.unshift("..");return u},normalize:u=>{var S=Ce.isAbs(u),T=u.substr(-1)==="/";return u=Ce.normalizeArray(u.split("/").filter(B=>!!B),!S).join("/"),!u&&!S&&(u="."),u&&T&&(u+="/"),(S?"/":"")+u},dirname:u=>{var S=Ce.splitPath(u),T=S[0],B=S[1];return!T&&!B?".":(B&&(B=B.substr(0,B.length-1)),T+B)},basename:u=>{if(u==="/")return"/";u=Ce.normalize(u),u=u.replace(/\/$/,"");var S=u.lastIndexOf("/");return S===-1?u:u.substr(S+1)},join:function(){var u=Array.prototype.slice.call(arguments);return Ce.normalize(u.join("/"))},join2:(u,S)=>Ce.normalize(u+"/"+S)},Qe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return u=>crypto.getRandomValues(u);Ve("initRandomDevice")},Me=u=>(Me=Qe())(u),Ke={resolve:function(){for(var u="",S=!1,T=arguments.length-1;T>=-1&&!S;T--){var B=T>=0?arguments[T]:H.cwd();if(typeof B!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!B)return"";u=B+"/"+u,S=Ce.isAbs(B)}return u=Ce.normalizeArray(u.split("/").filter(U=>!!U),!S).join("/"),(S?"/":"")+u||"."},relative:(u,S)=>{u=Ke.resolve(u).substr(1),S=Ke.resolve(S).substr(1);function T(We){for(var Ne=0;Ne<We.length&&We[Ne]==="";Ne++);for(var Oe=We.length-1;Oe>=0&&We[Oe]==="";Oe--);return Ne>Oe?[]:We.slice(Ne,Oe-Ne+1)}for(var B=T(u.split("/")),U=T(S.split("/")),j=Math.min(B.length,U.length),se=j,de=0;de<j;de++)if(B[de]!==U[de]){se=de;break}for(var $e=[],de=se;de<B.length;de++)$e.push("..");return $e=$e.concat(U.slice(se)),$e.join("/")}},pt=[],oe=u=>{for(var S=0,T=0;T<u.length;++T){var B=u.charCodeAt(T);B<=127?S++:B<=2047?S+=2:B>=55296&&B<=57343?(S+=4,++T):S+=3}return S},_e=(u,S,T,B)=>{if(!(B>0))return 0;for(var U=T,j=T+B-1,se=0;se<u.length;++se){var de=u.charCodeAt(se);if(de>=55296&&de<=57343){var $e=u.charCodeAt(++se);de=65536+((de&1023)<<10)|$e&1023}if(de<=127){if(T>=j)break;S[T++]=de}else if(de<=2047){if(T+1>=j)break;S[T++]=192|de>>6,S[T++]=128|de&63}else if(de<=65535){if(T+2>=j)break;S[T++]=224|de>>12,S[T++]=128|de>>6&63,S[T++]=128|de&63}else{if(T+3>=j)break;S[T++]=240|de>>18,S[T++]=128|de>>12&63,S[T++]=128|de>>6&63,S[T++]=128|de&63}}return S[T]=0,T-U};function He(u,S,T){var B=T>0?T:oe(u)+1,U=new Array(B),j=_e(u,U,0,U.length);return S&&(U.length=j),U}var et=()=>{if(!pt.length){var u=null;if(typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`)),!u)return null;pt=He(u,!0)}return pt.shift()},De={ttys:[],init(){},shutdown(){},register(u,S){De.ttys[u]={input:[],output:[],ops:S},H.registerDevice(u,De.stream_ops)},stream_ops:{open(u){var S=De.ttys[u.node.rdev];if(!S)throw new H.ErrnoError(43);u.tty=S,u.seekable=!1},close(u){u.tty.ops.fsync(u.tty)},fsync(u){u.tty.ops.fsync(u.tty)},read(u,S,T,B,U){if(!u.tty||!u.tty.ops.get_char)throw new H.ErrnoError(60);for(var j=0,se=0;se<B;se++){var de;try{de=u.tty.ops.get_char(u.tty)}catch{throw new H.ErrnoError(29)}if(de===void 0&&j===0)throw new H.ErrnoError(6);if(de==null)break;j++,S[T+se]=de}return j&&(u.node.timestamp=Date.now()),j},write(u,S,T,B,U){if(!u.tty||!u.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var j=0;j<B;j++)u.tty.ops.put_char(u.tty,S[T+j])}catch{throw new H.ErrnoError(29)}return B&&(u.node.timestamp=Date.now()),j}},default_tty_ops:{get_char(u){return et()},put_char(u,S){S===null||S===10?(h(xe(u.output,0)),u.output=[]):S!=0&&u.output.push(S)},fsync(u){u.output&&u.output.length>0&&(h(xe(u.output,0)),u.output=[])},ioctl_tcgets(u){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(u,S,T){return 0},ioctl_tiocgwinsz(u){return[24,80]}},default_tty1_ops:{put_char(u,S){S===null||S===10?(p(xe(u.output,0)),u.output=[]):S!=0&&u.output.push(S)},fsync(u){u.output&&u.output.length>0&&(p(xe(u.output,0)),u.output=[])}}},gt=u=>{Ve()},Ie={ops_table:null,mount(u){return Ie.createNode(null,"/",16895,0)},createNode(u,S,T,B){if(H.isBlkdev(T)||H.isFIFO(T))throw new H.ErrnoError(63);Ie.ops_table||(Ie.ops_table={dir:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,lookup:Ie.node_ops.lookup,mknod:Ie.node_ops.mknod,rename:Ie.node_ops.rename,unlink:Ie.node_ops.unlink,rmdir:Ie.node_ops.rmdir,readdir:Ie.node_ops.readdir,symlink:Ie.node_ops.symlink},stream:{llseek:Ie.stream_ops.llseek}},file:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:{llseek:Ie.stream_ops.llseek,read:Ie.stream_ops.read,write:Ie.stream_ops.write,allocate:Ie.stream_ops.allocate,mmap:Ie.stream_ops.mmap,msync:Ie.stream_ops.msync}},link:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,readlink:Ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:H.chrdev_stream_ops}});var U=H.createNode(u,S,T,B);return H.isDir(U.mode)?(U.node_ops=Ie.ops_table.dir.node,U.stream_ops=Ie.ops_table.dir.stream,U.contents={}):H.isFile(U.mode)?(U.node_ops=Ie.ops_table.file.node,U.stream_ops=Ie.ops_table.file.stream,U.usedBytes=0,U.contents=null):H.isLink(U.mode)?(U.node_ops=Ie.ops_table.link.node,U.stream_ops=Ie.ops_table.link.stream):H.isChrdev(U.mode)&&(U.node_ops=Ie.ops_table.chrdev.node,U.stream_ops=Ie.ops_table.chrdev.stream),U.timestamp=Date.now(),u&&(u.contents[S]=U,u.timestamp=U.timestamp),U},getFileDataAsTypedArray(u){return u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0)},expandFileStorage(u,S){var T=u.contents?u.contents.length:0;if(!(T>=S)){var B=1024*1024;S=Math.max(S,T*(T<B?2:1.125)>>>0),T!=0&&(S=Math.max(S,256));var U=u.contents;u.contents=new Uint8Array(S),u.usedBytes>0&&u.contents.set(U.subarray(0,u.usedBytes),0)}},resizeFileStorage(u,S){if(u.usedBytes!=S)if(S==0)u.contents=null,u.usedBytes=0;else{var T=u.contents;u.contents=new Uint8Array(S),T&&u.contents.set(T.subarray(0,Math.min(S,u.usedBytes))),u.usedBytes=S}},node_ops:{getattr(u){var S={};return S.dev=H.isChrdev(u.mode)?u.id:1,S.ino=u.id,S.mode=u.mode,S.nlink=1,S.uid=0,S.gid=0,S.rdev=u.rdev,H.isDir(u.mode)?S.size=4096:H.isFile(u.mode)?S.size=u.usedBytes:H.isLink(u.mode)?S.size=u.link.length:S.size=0,S.atime=new Date(u.timestamp),S.mtime=new Date(u.timestamp),S.ctime=new Date(u.timestamp),S.blksize=4096,S.blocks=Math.ceil(S.size/S.blksize),S},setattr(u,S){S.mode!==void 0&&(u.mode=S.mode),S.timestamp!==void 0&&(u.timestamp=S.timestamp),S.size!==void 0&&Ie.resizeFileStorage(u,S.size)},lookup(u,S){throw H.genericErrors[44]},mknod(u,S,T,B){return Ie.createNode(u,S,T,B)},rename(u,S,T){if(H.isDir(u.mode)){var B;try{B=H.lookupNode(S,T)}catch{}if(B)for(var U in B.contents)throw new H.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=T,S.contents[T]=u,S.timestamp=u.parent.timestamp,u.parent=S},unlink(u,S){delete u.contents[S],u.timestamp=Date.now()},rmdir(u,S){var T=H.lookupNode(u,S);for(var B in T.contents)throw new H.ErrnoError(55);delete u.contents[S],u.timestamp=Date.now()},readdir(u){var S=[".",".."];for(var T in u.contents)u.contents.hasOwnProperty(T)&&S.push(T);return S},symlink(u,S,T){var B=Ie.createNode(u,S,41471,0);return B.link=T,B},readlink(u){if(!H.isLink(u.mode))throw new H.ErrnoError(28);return u.link}},stream_ops:{read(u,S,T,B,U){var j=u.node.contents;if(U>=u.node.usedBytes)return 0;var se=Math.min(u.node.usedBytes-U,B);if(se>8&&j.subarray)S.set(j.subarray(U,U+se),T);else for(var de=0;de<se;de++)S[T+de]=j[U+de];return se},write(u,S,T,B,U,j){if(!B)return 0;var se=u.node;if(se.timestamp=Date.now(),S.subarray&&(!se.contents||se.contents.subarray)){if(j)return se.contents=S.subarray(T,T+B),se.usedBytes=B,B;if(se.usedBytes===0&&U===0)return se.contents=S.slice(T,T+B),se.usedBytes=B,B;if(U+B<=se.usedBytes)return se.contents.set(S.subarray(T,T+B),U),B}if(Ie.expandFileStorage(se,U+B),se.contents.subarray&&S.subarray)se.contents.set(S.subarray(T,T+B),U);else for(var de=0;de<B;de++)se.contents[U+de]=S[T+de];return se.usedBytes=Math.max(se.usedBytes,U+B),B},llseek(u,S,T){var B=S;if(T===1?B+=u.position:T===2&&H.isFile(u.node.mode)&&(B+=u.node.usedBytes),B<0)throw new H.ErrnoError(28);return B},allocate(u,S,T){Ie.expandFileStorage(u.node,S+T),u.node.usedBytes=Math.max(u.node.usedBytes,S+T)},mmap(u,S,T,B,U){if(!H.isFile(u.node.mode))throw new H.ErrnoError(43);var j,se,de=u.node.contents;if(!(U&2)&&de.buffer===g.buffer)se=!1,j=de.byteOffset;else{if((T>0||T+S<de.length)&&(de.subarray?de=de.subarray(T,T+S):de=Array.prototype.slice.call(de,T,T+S)),se=!0,j=gt(),!j)throw new H.ErrnoError(48);g.set(de,j)}return{ptr:j,allocated:se}},msync(u,S,T,B,U){return Ie.stream_ops.write(u,S,0,B,T,!1),0}}},vt=(u,S,T,B)=>{var U=B?"":`al ${u}`;o(u,j=>{_(j,`Loading data file "${u}" failed (no arrayBuffer).`),S(new Uint8Array(j)),U&&Fe()},j=>{if(T)T();else throw`Loading data file "${u}" failed.`}),U&&Ee()},Ue=w.preloadPlugins||[],Wt=(u,S,T,B)=>{typeof Browser<"u"&&Browser.init();var U=!1;return Ue.forEach(j=>{U||j.canHandle(S)&&(j.handle(u,S,T,B),U=!0)}),U},Ut=(u,S,T,B,U,j,se,de,$e,We)=>{var Ne=S?Ke.resolve(Ce.join2(u,S)):u;function Oe(Be){function ze(Ze){We&&We(),de||H.createDataFile(u,S,Ze,B,U,$e),j&&j(),Fe()}Wt(Be,Ne,ze,()=>{se&&se(),Fe()})||ze(Be)}Ee(),typeof T=="string"?vt(T,Be=>Oe(Be),se):Oe(T)},W=u=>{var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},T=S[u];if(typeof T>"u")throw new Error(`Unknown file open mode: ${u}`);return T},ht=(u,S)=>{var T=0;return u&&(T|=365),S&&(T|=146),T},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(u,S={}){if(u=Ke.resolve(u),!u)return{path:"",node:null};var T={follow_mount:!0,recurse_count:0};if(S=Object.assign(T,S),S.recurse_count>8)throw new H.ErrnoError(32);for(var B=u.split("/").filter(Oe=>!!Oe),U=H.root,j="/",se=0;se<B.length;se++){var de=se===B.length-1;if(de&&S.parent)break;if(U=H.lookupNode(U,B[se]),j=Ce.join2(j,B[se]),H.isMountpoint(U)&&(!de||de&&S.follow_mount)&&(U=U.mounted.root),!de||S.follow)for(var $e=0;H.isLink(U.mode);){var We=H.readlink(j);j=Ke.resolve(Ce.dirname(j),We);var Ne=H.lookupPath(j,{recurse_count:S.recurse_count+1});if(U=Ne.node,$e++>40)throw new H.ErrnoError(32)}}return{path:j,node:U}},getPath(u){for(var S;;){if(H.isRoot(u)){var T=u.mount.mountpoint;return S?T[T.length-1]!=="/"?`${T}/${S}`:T+S:T}S=S?`${u.name}/${S}`:u.name,u=u.parent}},hashName(u,S){for(var T=0,B=0;B<S.length;B++)T=(T<<5)-T+S.charCodeAt(B)|0;return(u+T>>>0)%H.nameTable.length},hashAddNode(u){var S=H.hashName(u.parent.id,u.name);u.name_next=H.nameTable[S],H.nameTable[S]=u},hashRemoveNode(u){var S=H.hashName(u.parent.id,u.name);if(H.nameTable[S]===u)H.nameTable[S]=u.name_next;else for(var T=H.nameTable[S];T;){if(T.name_next===u){T.name_next=u.name_next;break}T=T.name_next}},lookupNode(u,S){var T=H.mayLookup(u);if(T)throw new H.ErrnoError(T,u);for(var B=H.hashName(u.id,S),U=H.nameTable[B];U;U=U.name_next){var j=U.name;if(U.parent.id===u.id&&j===S)return U}return H.lookup(u,S)},createNode(u,S,T,B){var U=new H.FSNode(u,S,T,B);return H.hashAddNode(U),U},destroyNode(u){H.hashRemoveNode(u)},isRoot(u){return u===u.parent},isMountpoint(u){return!!u.mounted},isFile(u){return(u&61440)===32768},isDir(u){return(u&61440)===16384},isLink(u){return(u&61440)===40960},isChrdev(u){return(u&61440)===8192},isBlkdev(u){return(u&61440)===24576},isFIFO(u){return(u&61440)===4096},isSocket(u){return(u&49152)===49152},flagsToPermissionString(u){var S=["r","w","rw"][u&3];return u&512&&(S+="w"),S},nodePermissions(u,S){return H.ignorePermissions?0:S.includes("r")&&!(u.mode&292)||S.includes("w")&&!(u.mode&146)||S.includes("x")&&!(u.mode&73)?2:0},mayLookup(u){var S=H.nodePermissions(u,"x");return S||(u.node_ops.lookup?0:2)},mayCreate(u,S){try{var T=H.lookupNode(u,S);return 20}catch{}return H.nodePermissions(u,"wx")},mayDelete(u,S,T){var B;try{B=H.lookupNode(u,S)}catch(j){return j.errno}var U=H.nodePermissions(u,"wx");if(U)return U;if(T){if(!H.isDir(B.mode))return 54;if(H.isRoot(B)||H.getPath(B)===H.cwd())return 10}else if(H.isDir(B.mode))return 31;return 0},mayOpen(u,S){return u?H.isLink(u.mode)?32:H.isDir(u.mode)&&(H.flagsToPermissionString(S)!=="r"||S&512)?31:H.nodePermissions(u,H.flagsToPermissionString(S)):44},MAX_OPEN_FDS:4096,nextfd(){for(var u=0;u<=H.MAX_OPEN_FDS;u++)if(!H.streams[u])return u;throw new H.ErrnoError(33)},getStreamChecked(u){var S=H.getStream(u);if(!S)throw new H.ErrnoError(8);return S},getStream:u=>H.streams[u],createStream(u,S=-1){return H.FSStream||(H.FSStream=function(){this.shared={}},H.FSStream.prototype={},Object.defineProperties(H.FSStream.prototype,{object:{get(){return this.node},set(T){this.node=T}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(T){this.shared.flags=T}},position:{get(){return this.shared.position},set(T){this.shared.position=T}}})),u=Object.assign(new H.FSStream,u),S==-1&&(S=H.nextfd()),u.fd=S,H.streams[S]=u,u},closeStream(u){H.streams[u]=null},chrdev_stream_ops:{open(u){var S=H.getDevice(u.node.rdev);u.stream_ops=S.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek(){throw new H.ErrnoError(70)}},major:u=>u>>8,minor:u=>u&255,makedev:(u,S)=>u<<8|S,registerDevice(u,S){H.devices[u]={stream_ops:S}},getDevice:u=>H.devices[u],getMounts(u){for(var S=[],T=[u];T.length;){var B=T.pop();S.push(B),T.push.apply(T,B.mounts)}return S},syncfs(u,S){typeof u=="function"&&(S=u,u=!1),H.syncFSRequests++,H.syncFSRequests>1&&p(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var T=H.getMounts(H.root.mount),B=0;function U(se){return H.syncFSRequests--,S(se)}function j(se){if(se)return j.errored?void 0:(j.errored=!0,U(se));++B>=T.length&&U(null)}T.forEach(se=>{if(!se.type.syncfs)return j(null);se.type.syncfs(se,u,j)})},mount(u,S,T){var B=T==="/",U=!T,j;if(B&&H.root)throw new H.ErrnoError(10);if(!B&&!U){var se=H.lookupPath(T,{follow_mount:!1});if(T=se.path,j=se.node,H.isMountpoint(j))throw new H.ErrnoError(10);if(!H.isDir(j.mode))throw new H.ErrnoError(54)}var de={type:u,opts:S,mountpoint:T,mounts:[]},$e=u.mount(de);return $e.mount=de,de.root=$e,B?H.root=$e:j&&(j.mounted=de,j.mount&&j.mount.mounts.push(de)),$e},unmount(u){var S=H.lookupPath(u,{follow_mount:!1});if(!H.isMountpoint(S.node))throw new H.ErrnoError(28);var T=S.node,B=T.mounted,U=H.getMounts(B);Object.keys(H.nameTable).forEach(se=>{for(var de=H.nameTable[se];de;){var $e=de.name_next;U.includes(de.mount)&&H.destroyNode(de),de=$e}}),T.mounted=null;var j=T.mount.mounts.indexOf(B);T.mount.mounts.splice(j,1)},lookup(u,S){return u.node_ops.lookup(u,S)},mknod(u,S,T){var B=H.lookupPath(u,{parent:!0}),U=B.node,j=Ce.basename(u);if(!j||j==="."||j==="..")throw new H.ErrnoError(28);var se=H.mayCreate(U,j);if(se)throw new H.ErrnoError(se);if(!U.node_ops.mknod)throw new H.ErrnoError(63);return U.node_ops.mknod(U,j,S,T)},create(u,S){return S=S!==void 0?S:438,S&=4095,S|=32768,H.mknod(u,S,0)},mkdir(u,S){return S=S!==void 0?S:511,S&=1023,S|=16384,H.mknod(u,S,0)},mkdirTree(u,S){for(var T=u.split("/"),B="",U=0;U<T.length;++U)if(T[U]){B+="/"+T[U];try{H.mkdir(B,S)}catch(j){if(j.errno!=20)throw j}}},mkdev(u,S,T){return typeof T>"u"&&(T=S,S=438),S|=8192,H.mknod(u,S,T)},symlink(u,S){if(!Ke.resolve(u))throw new H.ErrnoError(44);var T=H.lookupPath(S,{parent:!0}),B=T.node;if(!B)throw new H.ErrnoError(44);var U=Ce.basename(S),j=H.mayCreate(B,U);if(j)throw new H.ErrnoError(j);if(!B.node_ops.symlink)throw new H.ErrnoError(63);return B.node_ops.symlink(B,U,u)},rename(u,S){var T=Ce.dirname(u),B=Ce.dirname(S),U=Ce.basename(u),j=Ce.basename(S),se,de,$e;if(se=H.lookupPath(u,{parent:!0}),de=se.node,se=H.lookupPath(S,{parent:!0}),$e=se.node,!de||!$e)throw new H.ErrnoError(44);if(de.mount!==$e.mount)throw new H.ErrnoError(75);var We=H.lookupNode(de,U),Ne=Ke.relative(u,B);if(Ne.charAt(0)!==".")throw new H.ErrnoError(28);if(Ne=Ke.relative(S,T),Ne.charAt(0)!==".")throw new H.ErrnoError(55);var Oe;try{Oe=H.lookupNode($e,j)}catch{}if(We!==Oe){var Be=H.isDir(We.mode),ze=H.mayDelete(de,U,Be);if(ze)throw new H.ErrnoError(ze);if(ze=Oe?H.mayDelete($e,j,Be):H.mayCreate($e,j),ze)throw new H.ErrnoError(ze);if(!de.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(We)||Oe&&H.isMountpoint(Oe))throw new H.ErrnoError(10);if($e!==de&&(ze=H.nodePermissions(de,"w"),ze))throw new H.ErrnoError(ze);H.hashRemoveNode(We);try{de.node_ops.rename(We,$e,j)}catch(Ze){throw Ze}finally{H.hashAddNode(We)}}},rmdir(u){var S=H.lookupPath(u,{parent:!0}),T=S.node,B=Ce.basename(u),U=H.lookupNode(T,B),j=H.mayDelete(T,B,!0);if(j)throw new H.ErrnoError(j);if(!T.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(U))throw new H.ErrnoError(10);T.node_ops.rmdir(T,B),H.destroyNode(U)},readdir(u){var S=H.lookupPath(u,{follow:!0}),T=S.node;if(!T.node_ops.readdir)throw new H.ErrnoError(54);return T.node_ops.readdir(T)},unlink(u){var S=H.lookupPath(u,{parent:!0}),T=S.node;if(!T)throw new H.ErrnoError(44);var B=Ce.basename(u),U=H.lookupNode(T,B),j=H.mayDelete(T,B,!1);if(j)throw new H.ErrnoError(j);if(!T.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(U))throw new H.ErrnoError(10);T.node_ops.unlink(T,B),H.destroyNode(U)},readlink(u){var S=H.lookupPath(u),T=S.node;if(!T)throw new H.ErrnoError(44);if(!T.node_ops.readlink)throw new H.ErrnoError(28);return Ke.resolve(H.getPath(T.parent),T.node_ops.readlink(T))},stat(u,S){var T=H.lookupPath(u,{follow:!S}),B=T.node;if(!B)throw new H.ErrnoError(44);if(!B.node_ops.getattr)throw new H.ErrnoError(63);return B.node_ops.getattr(B)},lstat(u){return H.stat(u,!0)},chmod(u,S,T){var B;if(typeof u=="string"){var U=H.lookupPath(u,{follow:!T});B=U.node}else B=u;if(!B.node_ops.setattr)throw new H.ErrnoError(63);B.node_ops.setattr(B,{mode:S&4095|B.mode&-4096,timestamp:Date.now()})},lchmod(u,S){H.chmod(u,S,!0)},fchmod(u,S){var T=H.getStreamChecked(u);H.chmod(T.node,S)},chown(u,S,T,B){var U;if(typeof u=="string"){var j=H.lookupPath(u,{follow:!B});U=j.node}else U=u;if(!U.node_ops.setattr)throw new H.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown(u,S,T){H.chown(u,S,T,!0)},fchown(u,S,T){var B=H.getStreamChecked(u);H.chown(B.node,S,T)},truncate(u,S){if(S<0)throw new H.ErrnoError(28);var T;if(typeof u=="string"){var B=H.lookupPath(u,{follow:!0});T=B.node}else T=u;if(!T.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(T.mode))throw new H.ErrnoError(31);if(!H.isFile(T.mode))throw new H.ErrnoError(28);var U=H.nodePermissions(T,"w");if(U)throw new H.ErrnoError(U);T.node_ops.setattr(T,{size:S,timestamp:Date.now()})},ftruncate(u,S){var T=H.getStreamChecked(u);if(!(T.flags&2097155))throw new H.ErrnoError(28);H.truncate(T.node,S)},utime(u,S,T){var B=H.lookupPath(u,{follow:!0}),U=B.node;U.node_ops.setattr(U,{timestamp:Math.max(S,T)})},open(u,S,T){if(u==="")throw new H.ErrnoError(44);S=typeof S=="string"?W(S):S,T=typeof T>"u"?438:T,S&64?T=T&4095|32768:T=0;var B;if(typeof u=="object")B=u;else{u=Ce.normalize(u);try{var U=H.lookupPath(u,{follow:!(S&131072)});B=U.node}catch{}}var j=!1;if(S&64)if(B){if(S&128)throw new H.ErrnoError(20)}else B=H.mknod(u,T,0),j=!0;if(!B)throw new H.ErrnoError(44);if(H.isChrdev(B.mode)&&(S&=-513),S&65536&&!H.isDir(B.mode))throw new H.ErrnoError(54);if(!j){var se=H.mayOpen(B,S);if(se)throw new H.ErrnoError(se)}S&512&&!j&&H.truncate(B,0),S&=-131713;var de=H.createStream({node:B,path:H.getPath(B),flags:S,seekable:!0,position:0,stream_ops:B.stream_ops,ungotten:[],error:!1});return de.stream_ops.open&&de.stream_ops.open(de),w.logReadFiles&&!(S&1)&&(H.readFiles||(H.readFiles={}),u in H.readFiles||(H.readFiles[u]=1)),de},close(u){if(H.isClosed(u))throw new H.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(S){throw S}finally{H.closeStream(u.fd)}u.fd=null},isClosed(u){return u.fd===null},llseek(u,S,T){if(H.isClosed(u))throw new H.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new H.ErrnoError(70);if(T!=0&&T!=1&&T!=2)throw new H.ErrnoError(28);return u.position=u.stream_ops.llseek(u,S,T),u.ungotten=[],u.position},read(u,S,T,B,U){if(B<0||U<0)throw new H.ErrnoError(28);if(H.isClosed(u))throw new H.ErrnoError(8);if((u.flags&2097155)===1)throw new H.ErrnoError(8);if(H.isDir(u.node.mode))throw new H.ErrnoError(31);if(!u.stream_ops.read)throw new H.ErrnoError(28);var j=typeof U<"u";if(!j)U=u.position;else if(!u.seekable)throw new H.ErrnoError(70);var se=u.stream_ops.read(u,S,T,B,U);return j||(u.position+=se),se},write(u,S,T,B,U,j){if(B<0||U<0)throw new H.ErrnoError(28);if(H.isClosed(u))throw new H.ErrnoError(8);if(!(u.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(u.node.mode))throw new H.ErrnoError(31);if(!u.stream_ops.write)throw new H.ErrnoError(28);u.seekable&&u.flags&1024&&H.llseek(u,0,2);var se=typeof U<"u";if(!se)U=u.position;else if(!u.seekable)throw new H.ErrnoError(70);var de=u.stream_ops.write(u,S,T,B,U,j);return se||(u.position+=de),de},allocate(u,S,T){if(H.isClosed(u))throw new H.ErrnoError(8);if(S<0||T<=0)throw new H.ErrnoError(28);if(!(u.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(u.node.mode)&&!H.isDir(u.node.mode))throw new H.ErrnoError(43);if(!u.stream_ops.allocate)throw new H.ErrnoError(138);u.stream_ops.allocate(u,S,T)},mmap(u,S,T,B,U){if(B&2&&!(U&2)&&(u.flags&2097155)!==2)throw new H.ErrnoError(2);if((u.flags&2097155)===1)throw new H.ErrnoError(2);if(!u.stream_ops.mmap)throw new H.ErrnoError(43);return u.stream_ops.mmap(u,S,T,B,U)},msync(u,S,T,B,U){return u.stream_ops.msync?u.stream_ops.msync(u,S,T,B,U):0},munmap:u=>0,ioctl(u,S,T){if(!u.stream_ops.ioctl)throw new H.ErrnoError(59);return u.stream_ops.ioctl(u,S,T)},readFile(u,S={}){if(S.flags=S.flags||0,S.encoding=S.encoding||"binary",S.encoding!=="utf8"&&S.encoding!=="binary")throw new Error(`Invalid encoding type "${S.encoding}"`);var T,B=H.open(u,S.flags),U=H.stat(u),j=U.size,se=new Uint8Array(j);return H.read(B,se,0,j,0),S.encoding==="utf8"?T=xe(se,0):S.encoding==="binary"&&(T=se),H.close(B),T},writeFile(u,S,T={}){T.flags=T.flags||577;var B=H.open(u,T.flags,T.mode);if(typeof S=="string"){var U=new Uint8Array(oe(S)+1),j=_e(S,U,0,U.length);H.write(B,U,0,j,void 0,T.canOwn)}else if(ArrayBuffer.isView(S))H.write(B,S,0,S.byteLength,void 0,T.canOwn);else throw new Error("Unsupported data type");H.close(B)},cwd:()=>H.currentPath,chdir(u){var S=H.lookupPath(u,{follow:!0});if(S.node===null)throw new H.ErrnoError(44);if(!H.isDir(S.node.mode))throw new H.ErrnoError(54);var T=H.nodePermissions(S.node,"x");if(T)throw new H.ErrnoError(T);H.currentPath=S.path},createDefaultDirectories(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices(){H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(B,U,j,se,de)=>se}),H.mkdev("/dev/null",H.makedev(1,3)),De.register(H.makedev(5,0),De.default_tty_ops),De.register(H.makedev(6,0),De.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0));var u=new Uint8Array(1024),S=0,T=()=>(S===0&&(S=Me(u).byteLength),u[--S]);H.createDevice("/dev","random",T),H.createDevice("/dev","urandom",T),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories(){H.mkdir("/proc");var u=H.mkdir("/proc/self");H.mkdir("/proc/self/fd"),H.mount({mount(){var S=H.createNode(u,"fd",16895,73);return S.node_ops={lookup(T,B){var U=+B,j=H.getStreamChecked(U),se={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>j.path}};return se.parent=se,se}},S}},{},"/proc/self/fd")},createStandardStreams(){w.stdin?H.createDevice("/dev","stdin",w.stdin):H.symlink("/dev/tty","/dev/stdin"),w.stdout?H.createDevice("/dev","stdout",null,w.stdout):H.symlink("/dev/tty","/dev/stdout"),w.stderr?H.createDevice("/dev","stderr",null,w.stderr):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin",0),H.open("/dev/stdout",1),H.open("/dev/stderr",1)},ensureErrnoError(){H.ErrnoError||(H.ErrnoError=function(S,T){this.name="ErrnoError",this.node=T,this.setErrno=function(B){this.errno=B},this.setErrno(S),this.message="FS error"},H.ErrnoError.prototype=new Error,H.ErrnoError.prototype.constructor=H.ErrnoError,[44].forEach(u=>{H.genericErrors[u]=new H.ErrnoError(u),H.genericErrors[u].stack="<generic error, no stack>"}))},staticInit(){H.ensureErrnoError(),H.nameTable=new Array(4096),H.mount(Ie,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:Ie}},init(u,S,T){H.init.initialized=!0,H.ensureErrnoError(),w.stdin=u||w.stdin,w.stdout=S||w.stdout,w.stderr=T||w.stderr,H.createStandardStreams()},quit(){H.init.initialized=!1;for(var u=0;u<H.streams.length;u++){var S=H.streams[u];S&&H.close(S)}},findObject(u,S){var T=H.analyzePath(u,S);return T.exists?T.object:null},analyzePath(u,S){try{var T=H.lookupPath(u,{follow:!S});u=T.path}catch{}var B={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var T=H.lookupPath(u,{parent:!0});B.parentExists=!0,B.parentPath=T.path,B.parentObject=T.node,B.name=Ce.basename(u),T=H.lookupPath(u,{follow:!S}),B.exists=!0,B.path=T.path,B.object=T.node,B.name=T.node.name,B.isRoot=T.path==="/"}catch(U){B.error=U.errno}return B},createPath(u,S,T,B){u=typeof u=="string"?u:H.getPath(u);for(var U=S.split("/").reverse();U.length;){var j=U.pop();if(j){var se=Ce.join2(u,j);try{H.mkdir(se)}catch{}u=se}}return se},createFile(u,S,T,B,U){var j=Ce.join2(typeof u=="string"?u:H.getPath(u),S),se=ht(B,U);return H.create(j,se)},createDataFile(u,S,T,B,U,j){var se=S;u&&(u=typeof u=="string"?u:H.getPath(u),se=S?Ce.join2(u,S):u);var de=ht(B,U),$e=H.create(se,de);if(T){if(typeof T=="string"){for(var We=new Array(T.length),Ne=0,Oe=T.length;Ne<Oe;++Ne)We[Ne]=T.charCodeAt(Ne);T=We}H.chmod($e,de|146);var Be=H.open($e,577);H.write(Be,T,0,T.length,0,j),H.close(Be),H.chmod($e,de)}return $e},createDevice(u,S,T,B){var U=Ce.join2(typeof u=="string"?u:H.getPath(u),S),j=ht(!!T,!!B);H.createDevice.major||(H.createDevice.major=64);var se=H.makedev(H.createDevice.major++,0);return H.registerDevice(se,{open(de){de.seekable=!1},close(de){B&&B.buffer&&B.buffer.length&&B(10)},read(de,$e,We,Ne,Oe){for(var Be=0,ze=0;ze<Ne;ze++){var Ze;try{Ze=T()}catch{throw new H.ErrnoError(29)}if(Ze===void 0&&Be===0)throw new H.ErrnoError(6);if(Ze==null)break;Be++,$e[We+ze]=Ze}return Be&&(de.node.timestamp=Date.now()),Be},write(de,$e,We,Ne,Oe){for(var Be=0;Be<Ne;Be++)try{B($e[We+Be])}catch{throw new H.ErrnoError(29)}return Ne&&(de.node.timestamp=Date.now()),Be}}),H.mkdev(U,j,se)},forceLoadFile(u){if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{u.contents=He(i(u.url),!0),u.usedBytes=u.contents.length}catch{throw new H.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(u,S,T,B,U){function j(){this.lengthKnown=!1,this.chunks=[]}if(j.prototype.get=function(ze){if(!(ze>this.length-1||ze<0)){var Ze=ze%this.chunkSize,at=ze/this.chunkSize|0;return this.getter(at)[Ze]}},j.prototype.setDataGetter=function(ze){this.getter=ze},j.prototype.cacheLength=function(){var ze=new XMLHttpRequest;if(ze.open("HEAD",T,!1),ze.send(null),!(ze.status>=200&&ze.status<300||ze.status===304))throw new Error("Couldn't load "+T+". Status: "+ze.status);var Ze=Number(ze.getResponseHeader("Content-length")),at,ct=(at=ze.getResponseHeader("Accept-Ranges"))&&at==="bytes",ut=(at=ze.getResponseHeader("Content-Encoding"))&&at==="gzip",lt=1024*1024;ct||(lt=Ze);var dt=(ot,Pt)=>{if(ot>Pt)throw new Error("invalid range ("+ot+", "+Pt+") or no bytes requested!");if(Pt>Ze-1)throw new Error("only "+Ze+" bytes available! programmer error!");var mt=new XMLHttpRequest;if(mt.open("GET",T,!1),Ze!==lt&&mt.setRequestHeader("Range","bytes="+ot+"-"+Pt),mt.responseType="arraybuffer",mt.overrideMimeType&&mt.overrideMimeType("text/plain; charset=x-user-defined"),mt.send(null),!(mt.status>=200&&mt.status<300||mt.status===304))throw new Error("Couldn't load "+T+". Status: "+mt.status);return mt.response!==void 0?new Uint8Array(mt.response||[]):He(mt.responseText||"",!0)},St=this;St.setDataGetter(ot=>{var Pt=ot*lt,mt=(ot+1)*lt-1;if(mt=Math.min(mt,Ze-1),typeof St.chunks[ot]>"u"&&(St.chunks[ot]=dt(Pt,mt)),typeof St.chunks[ot]>"u")throw new Error("doXHR failed!");return St.chunks[ot]}),(ut||!Ze)&&(lt=Ze=1,Ze=this.getter(0).length,lt=Ze,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ze,this._chunkSize=lt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var se,de}else var de={isDevice:!1,url:T};var $e=H.createFile(u,S,de,B,U);de.contents?$e.contents=de.contents:de.url&&($e.contents=null,$e.url=de.url),Object.defineProperties($e,{usedBytes:{get:function(){return this.contents.length}}});var We={},Ne=Object.keys($e.stream_ops);Ne.forEach(Be=>{var ze=$e.stream_ops[Be];We[Be]=function(){return H.forceLoadFile($e),ze.apply(null,arguments)}});function Oe(Be,ze,Ze,at,ct){var ut=Be.node.contents;if(ct>=ut.length)return 0;var lt=Math.min(ut.length-ct,at);if(ut.slice)for(var dt=0;dt<lt;dt++)ze[Ze+dt]=ut[ct+dt];else for(var dt=0;dt<lt;dt++)ze[Ze+dt]=ut.get(ct+dt);return lt}return We.read=(Be,ze,Ze,at,ct)=>(H.forceLoadFile($e),Oe(Be,ze,Ze,at,ct)),We.mmap=(Be,ze,Ze,at,ct)=>{H.forceLoadFile($e);var ut=gt();if(!ut)throw new H.ErrnoError(48);return Oe(Be,g,ut,ze,Ze),{ptr:ut,allocated:!0}},$e.stream_ops=We,$e}},st={DEFAULT_POLLMASK:5,calculateAt(u,S,T){if(Ce.isAbs(S))return S;var B;if(u===-100)B=H.cwd();else{var U=st.getStreamFromFD(u);B=U.path}if(S.length==0){if(!T)throw new H.ErrnoError(44);return B}return Ce.join2(B,S)},doStat(u,S,T){try{var B=u(S)}catch(de){if(de&&de.node&&Ce.normalize(S)!==Ce.normalize(H.getPath(de.node)))return-54;throw de}b[T>>2]=B.dev,b[T+4>>2]=B.mode,k[T+8>>2]=B.nlink,b[T+12>>2]=B.uid,b[T+16>>2]=B.gid,b[T+20>>2]=B.rdev,re=[B.size>>>0,(Y=B.size,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[T+24>>2]=re[0],b[T+28>>2]=re[1],b[T+32>>2]=4096,b[T+36>>2]=B.blocks;var U=B.atime.getTime(),j=B.mtime.getTime(),se=B.ctime.getTime();return re=[Math.floor(U/1e3)>>>0,(Y=Math.floor(U/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[T+40>>2]=re[0],b[T+44>>2]=re[1],k[T+48>>2]=U%1e3*1e3,re=[Math.floor(j/1e3)>>>0,(Y=Math.floor(j/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[T+56>>2]=re[0],b[T+60>>2]=re[1],k[T+64>>2]=j%1e3*1e3,re=[Math.floor(se/1e3)>>>0,(Y=Math.floor(se/1e3),+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[T+72>>2]=re[0],b[T+76>>2]=re[1],k[T+80>>2]=se%1e3*1e3,re=[B.ino>>>0,(Y=B.ino,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[T+88>>2]=re[0],b[T+92>>2]=re[1],0},doMsync(u,S,T,B,U){if(!H.isFile(S.node.mode))throw new H.ErrnoError(43);if(B&2)return 0;var j=v.slice(u,u+T);H.msync(S,j,U,T,B)},varargs:void 0,get(){var u=b[st.varargs>>2];return st.varargs+=4,u},getp(){return st.get()},getStr(u){var S=Pe(u);return S},getStreamFromFD(u){var S=H.getStreamChecked(u);return S}};function z(u,S,T){st.varargs=T;try{var B=st.getStreamFromFD(u);switch(S){case 0:{var U=st.get();if(U<0)return-28;for(;H.streams[U];)U++;var j;return j=H.createStream(B,U),j.fd}case 1:case 2:return 0;case 3:return B.flags;case 4:{var U=st.get();return B.flags|=U,0}case 5:{var U=st.getp(),se=0;return c[U+se>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Xe(28),-1;default:return-28}}catch(de){if(typeof H>"u"||de.name!=="ErrnoError")throw de;return-de.errno}}function nt(u,S,T){st.varargs=T;try{var B=st.getStreamFromFD(u);switch(S){case 21509:return B.tty?0:-59;case 21505:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tcgets){var U=B.tty.ops.ioctl_tcgets(B),j=st.getp();b[j>>2]=U.c_iflag||0,b[j+4>>2]=U.c_oflag||0,b[j+8>>2]=U.c_cflag||0,b[j+12>>2]=U.c_lflag||0;for(var se=0;se<32;se++)g[j+se+17>>0]=U.c_cc[se]||0;return 0}return 0}case 21510:case 21511:case 21512:return B.tty?0:-59;case 21506:case 21507:case 21508:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tcsets){for(var j=st.getp(),de=b[j>>2],$e=b[j+4>>2],We=b[j+8>>2],Ne=b[j+12>>2],Oe=[],se=0;se<32;se++)Oe.push(g[j+se+17>>0]);return B.tty.ops.ioctl_tcsets(B.tty,S,{c_iflag:de,c_oflag:$e,c_cflag:We,c_lflag:Ne,c_cc:Oe})}return 0}case 21519:{if(!B.tty)return-59;var j=st.getp();return b[j>>2]=0,0}case 21520:return B.tty?-28:-59;case 21531:{var j=st.getp();return H.ioctl(B,S,j)}case 21523:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tiocgwinsz){var Be=B.tty.ops.ioctl_tiocgwinsz(B.tty),j=st.getp();c[j>>1]=Be[0],c[j+2>>1]=Be[1]}return 0}case 21524:return B.tty?0:-59;case 21515:return B.tty?0:-59;default:return-28}}catch(ze){if(typeof H>"u"||ze.name!=="ErrnoError")throw ze;return-ze.errno}}function tr(u,S,T,B){st.varargs=B;try{S=st.getStr(S),S=st.calculateAt(u,S);var U=B?st.get():0;return H.open(S,T,U).fd}catch(j){if(typeof H>"u"||j.name!=="ErrnoError")throw j;return-j.errno}}var rr=(u,S,T)=>v.copyWithin(u,S,S+T),nr=u=>{Ve("OOM")},ir=u=>{v.length,nr()},Ft=u=>{f=u,Z()||(w.onExit&&w.onExit(u),s=!0),t(u,new we(u))},Kt=(u,S)=>{f=u,Ft(u)},Dt=Kt;function or(u){try{var S=st.getStreamFromFD(u);return H.close(S),0}catch(T){if(typeof H>"u"||T.name!=="ErrnoError")throw T;return T.errno}}var sr=(u,S,T,B)=>{for(var U=0,j=0;j<T;j++){var se=k[S>>2],de=k[S+4>>2];S+=8;var $e=H.read(u,g,se,de,B);if($e<0)return-1;if(U+=$e,$e<de)break;typeof B<"u"&&(B+=$e)}return U};function ar(u,S,T,B){try{var U=st.getStreamFromFD(u),j=sr(U,S,T);return k[B>>2]=j,0}catch(se){if(typeof H>"u"||se.name!=="ErrnoError")throw se;return se.errno}}var lr=(u,S)=>S+2097152>>>0<4194305-!!u?(u>>>0)+S*4294967296:NaN;function cr(u,S,T,B,U){var j=lr(S,T);try{if(isNaN(j))return 61;var se=st.getStreamFromFD(u);return H.llseek(se,j,B),re=[se.position>>>0,(Y=se.position,+Math.abs(Y)>=1?Y>0?+Math.floor(Y/4294967296)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],b[U>>2]=re[0],b[U+4>>2]=re[1],se.getdents&&j===0&&B===0&&(se.getdents=null),0}catch(de){if(typeof H>"u"||de.name!=="ErrnoError")throw de;return de.errno}}var hr=(u,S,T,B)=>{for(var U=0,j=0;j<T;j++){var se=k[S>>2],de=k[S+4>>2];S+=8;var $e=H.write(u,g,se,de,B);if($e<0)return-1;U+=$e,typeof B<"u"&&(B+=$e)}return U};function qt(u,S,T,B){try{var U=st.getStreamFromFD(u),j=hr(U,S,T);return k[B>>2]=j,0}catch(se){if(typeof H>"u"||se.name!=="ErrnoError")throw se;return se.errno}}var Yt=u=>{if(u instanceof we||u=="unwind")return f;t(1,u)},ur=(u,S,T)=>_e(u,v,S,T),Xt=u=>{var S=oe(u)+1,T=Vt(S);return ur(u,T,S),T},Ot=function(u,S,T,B){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=H.nextInode++,this.name=S,this.mode=T,this.node_ops={},this.stream_ops={},this.rdev=B},Rt=365,Ht=146;Object.defineProperties(Ot.prototype,{read:{get:function(){return(this.mode&Rt)===Rt},set:function(u){u?this.mode|=Rt:this.mode&=~Rt}},write:{get:function(){return(this.mode&Ht)===Ht},set:function(u){u?this.mode|=Ht:this.mode&=~Ht}},isFolder:{get:function(){return H.isDir(this.mode)}},isDevice:{get:function(){return H.isChrdev(this.mode)}}}),H.FSNode=Ot,H.createPreloadedFile=Ut,H.staticInit();var Ct={a:Re,e:z,j:nt,g:tr,h:rr,f:ir,b:Dt,d:or,i:ar,k:cr,c:qt},At=me(),xt=w._main=(u,S)=>(xt=w._main=At.o)(u,S),Bt=()=>(Bt=At.p)(),Vt=u=>(Vt=At.q)(u);w.FS=H;var It;Se=function u(){It||$(),It||(Se=u)};function Zt(u=[]){var S=xt;u.unshift(a);var T=u.length,B=Vt((T+1)*4),U=B;u.forEach(se=>{k[U>>2]=Xt(se),U+=4}),k[U>>2]=0;try{var j=S(T,B);return Kt(j,!0),j}catch(se){return Yt(se)}}function $(u=l){if(pe>0||(K(),pe>0))return;function S(){It||(It=!0,w.calledRun=!0,!s&&(X(),ee(),C(w),w.onRuntimeInitialized&&w.onRuntimeInitialized(),O&&Zt(u),ie()))}w.setStatus?(w.setStatus("Running..."),setTimeout(function(){setTimeout(function(){w.setStatus("")},1),S()},1)):S()}if(w.preInit)for(typeof w.preInit=="function"&&(w.preInit=[w.preInit]);w.preInit.length>0;)w.preInit.pop()();var O=!0;return w.noInitialRun&&(O=!1),$(),M.ready}})(),Vr=(()=>{var E=import.meta.url;return function(M={}){var w=M,C,R;w.ready=new Promise(($,O)=>{C=$,R=O});var d=Object.assign({},w),l=[],a="./this.program",t=($,O)=>{throw O},e=!0,n="";function r($){return w.locateFile?w.locateFile($,n):n+$}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),E&&(n=E),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=$=>{var O=new XMLHttpRequest;return O.open("GET",$,!1),O.send(null),O.responseText},o=($,O,u)=>{var S=new XMLHttpRequest;S.open("GET",$,!0),S.responseType="arraybuffer",S.onload=()=>{if(S.status==200||S.status==0&&S.response){O(S.response);return}u()},S.onerror=u,S.send(null)};var h=w.print||console.log.bind(console),p=w.printErr||console.error.bind(console);Object.assign(w,d),d=null,w.arguments&&(l=w.arguments),w.thisProgram&&(a=w.thisProgram),w.quit&&(t=w.quit);var y;w.wasmBinary&&(y=w.wasmBinary);var L=w.noExitRuntime||!0;typeof WebAssembly!="object"&&Fe("no native wasm support detected");var m,s=!1,f;function _($,O){$||Fe(O)}var g,v,c,b;function k(){var $=m.buffer;w.HEAP8=g=new Int8Array($),w.HEAP16=new Int16Array($),w.HEAPU8=v=new Uint8Array($),w.HEAPU16=new Uint16Array($),w.HEAP32=c=new Int32Array($),w.HEAPU32=b=new Uint32Array($),w.HEAPF32=new Float32Array($),w.HEAPF64=new Float64Array($)}var F=[],x=[],N=[],G=[],q=0;function ne(){return L||q>0}function Z(){if(w.preRun)for(typeof w.preRun=="function"&&(w.preRun=[w.preRun]);w.preRun.length;)ie(w.preRun.shift());we(F)}function K(){!w.noFSInit&&!W.init.initialized&&W.init(),W.ignorePermissions=!1,we(x)}function X(){we(N)}function ee(){if(w.postRun)for(typeof w.postRun=="function"&&(w.postRun=[w.postRun]);w.postRun.length;)ce(w.postRun.shift());we(G)}function ie($){F.unshift($)}function le($){x.unshift($)}function ce($){G.unshift($)}var ye=0,pe=null;function Se($){return $}function Le($){ye++,w.monitorRunDependencies&&w.monitorRunDependencies(ye)}function Ee($){if(ye--,w.monitorRunDependencies&&w.monitorRunDependencies(ye),ye==0&&pe){var O=pe;pe=null,O()}}function Fe($){w.onAbort&&w.onAbort($),$="Aborted("+$+")",p($),s=!0,f=1,$+=". Build with -sASSERTIONS for more info.";var O=new WebAssembly.RuntimeError($);throw R(O),O}var Ve="data:application/octet-stream;base64,";function Je($){return $.startsWith(Ve)}var I;w.locateFile?(I="rgbfix.wasm",Je(I)||(I=r(I))):I=new URL("/rgbds-live/assets/rgbfix-e7c7aa35.wasm",self.location).href;function ge($){if($==I&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function fe($){return!y&&e&&typeof fetch=="function"?fetch($,{credentials:"same-origin"}).then(O=>{if(!O.ok)throw"failed to load wasm binary file at '"+$+"'";return O.arrayBuffer()}).catch(()=>ge($)):Promise.resolve().then(()=>ge($))}function te($,O,u){return fe($).then(S=>WebAssembly.instantiate(S,O)).then(S=>S).then(u,S=>{p(`failed to asynchronously prepare wasm: ${S}`),Fe(S)})}function J($,O,u,S){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!Je(O)&&typeof fetch=="function"?fetch(O,{credentials:"same-origin"}).then(T=>{var B=WebAssembly.instantiateStreaming(T,u);return B.then(S,function(U){return p(`wasm streaming compile failed: ${U}`),p("falling back to ArrayBuffer instantiation"),te(O,u,S)})}):te(O,u,S)}function he(){var $={a:Ht};function O(S,T){var B=S.exports;return Ct=B,m=Ct.m,k(),Ct.p,le(Ct.n),Ee(),B}Le();function u(S){O(S.instance)}if(w.instantiateWasm)try{return w.instantiateWasm($,O)}catch(S){p(`Module.instantiateWasm callback failed with error: ${S}`),R(S)}return J(y,I,$,u).catch(R),{}}var me,Y;function re($){this.name="ExitStatus",this.message=`Program terminated with exit(${$})`,this.status=$}var we=$=>{for(;$.length>0;)$.shift()(w)},ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,be=($,O,u)=>{for(var S=O+u,T=O;$[T]&&!(T>=S);)++T;if(T-O>16&&$.buffer&&ke)return ke.decode($.subarray(O,T));for(var B="";O<T;){var U=$[O++];if(!(U&128)){B+=String.fromCharCode(U);continue}var j=$[O++]&63;if((U&224)==192){B+=String.fromCharCode((U&31)<<6|j);continue}var se=$[O++]&63;if((U&240)==224?U=(U&15)<<12|j<<6|se:U=(U&7)<<18|j<<12|se<<6|$[O++]&63,U<65536)B+=String.fromCharCode(U);else{var de=U-65536;B+=String.fromCharCode(55296|de>>10,56320|de&1023)}}return B},xe=($,O)=>$?be(v,$,O):"",Pe=($,O,u,S)=>{Fe(`Assertion failed: ${xe($)}, at: `+[O?xe(O):"unknown filename",u,S?xe(S):"unknown function"])},Re={isAbs:$=>$.charAt(0)==="/",splitPath:$=>{var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return O.exec($).slice(1)},normalizeArray:($,O)=>{for(var u=0,S=$.length-1;S>=0;S--){var T=$[S];T==="."?$.splice(S,1):T===".."?($.splice(S,1),u++):u&&($.splice(S,1),u--)}if(O)for(;u;u--)$.unshift("..");return $},normalize:$=>{var O=Re.isAbs($),u=$.substr(-1)==="/";return $=Re.normalizeArray($.split("/").filter(S=>!!S),!O).join("/"),!$&&!O&&($="."),$&&u&&($+="/"),(O?"/":"")+$},dirname:$=>{var O=Re.splitPath($),u=O[0],S=O[1];return!u&&!S?".":(S&&(S=S.substr(0,S.length-1)),u+S)},basename:$=>{if($==="/")return"/";$=Re.normalize($),$=$.replace(/\/$/,"");var O=$.lastIndexOf("/");return O===-1?$:$.substr(O+1)},join:function(){var $=Array.prototype.slice.call(arguments);return Re.normalize($.join("/"))},join2:($,O)=>Re.normalize($+"/"+O)},Xe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return $=>crypto.getRandomValues($);Fe("initRandomDevice")},Ce=$=>(Ce=Xe())($),Qe={resolve:function(){for(var $="",O=!1,u=arguments.length-1;u>=-1&&!O;u--){var S=u>=0?arguments[u]:W.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";$=S+"/"+$,O=Re.isAbs(S)}return $=Re.normalizeArray($.split("/").filter(T=>!!T),!O).join("/"),(O?"/":"")+$||"."},relative:($,O)=>{$=Qe.resolve($).substr(1),O=Qe.resolve(O).substr(1);function u(de){for(var $e=0;$e<de.length&&de[$e]==="";$e++);for(var We=de.length-1;We>=0&&de[We]==="";We--);return $e>We?[]:de.slice($e,We-$e+1)}for(var S=u($.split("/")),T=u(O.split("/")),B=Math.min(S.length,T.length),U=B,j=0;j<B;j++)if(S[j]!==T[j]){U=j;break}for(var se=[],j=U;j<S.length;j++)se.push("..");return se=se.concat(T.slice(U)),se.join("/")}},Me=[],Ke=$=>{for(var O=0,u=0;u<$.length;++u){var S=$.charCodeAt(u);S<=127?O++:S<=2047?O+=2:S>=55296&&S<=57343?(O+=4,++u):O+=3}return O},pt=($,O,u,S)=>{if(!(S>0))return 0;for(var T=u,B=u+S-1,U=0;U<$.length;++U){var j=$.charCodeAt(U);if(j>=55296&&j<=57343){var se=$.charCodeAt(++U);j=65536+((j&1023)<<10)|se&1023}if(j<=127){if(u>=B)break;O[u++]=j}else if(j<=2047){if(u+1>=B)break;O[u++]=192|j>>6,O[u++]=128|j&63}else if(j<=65535){if(u+2>=B)break;O[u++]=224|j>>12,O[u++]=128|j>>6&63,O[u++]=128|j&63}else{if(u+3>=B)break;O[u++]=240|j>>18,O[u++]=128|j>>12&63,O[u++]=128|j>>6&63,O[u++]=128|j&63}}return O[u]=0,u-T};function oe($,O,u){var S=u>0?u:Ke($)+1,T=new Array(S),B=pt($,T,0,T.length);return O&&(T.length=B),T}var _e=()=>{if(!Me.length){var $=null;if(typeof window<"u"&&typeof window.prompt=="function"?($=window.prompt("Input: "),$!==null&&($+=`
`)):typeof readline=="function"&&($=readline(),$!==null&&($+=`
`)),!$)return null;Me=oe($,!0)}return Me.shift()},He={ttys:[],init(){},shutdown(){},register($,O){He.ttys[$]={input:[],output:[],ops:O},W.registerDevice($,He.stream_ops)},stream_ops:{open($){var O=He.ttys[$.node.rdev];if(!O)throw new W.ErrnoError(43);$.tty=O,$.seekable=!1},close($){$.tty.ops.fsync($.tty)},fsync($){$.tty.ops.fsync($.tty)},read($,O,u,S,T){if(!$.tty||!$.tty.ops.get_char)throw new W.ErrnoError(60);for(var B=0,U=0;U<S;U++){var j;try{j=$.tty.ops.get_char($.tty)}catch{throw new W.ErrnoError(29)}if(j===void 0&&B===0)throw new W.ErrnoError(6);if(j==null)break;B++,O[u+U]=j}return B&&($.node.timestamp=Date.now()),B},write($,O,u,S,T){if(!$.tty||!$.tty.ops.put_char)throw new W.ErrnoError(60);try{for(var B=0;B<S;B++)$.tty.ops.put_char($.tty,O[u+B])}catch{throw new W.ErrnoError(29)}return S&&($.node.timestamp=Date.now()),B}},default_tty_ops:{get_char($){return _e()},put_char($,O){O===null||O===10?(h(be($.output,0)),$.output=[]):O!=0&&$.output.push(O)},fsync($){$.output&&$.output.length>0&&(h(be($.output,0)),$.output=[])},ioctl_tcgets($){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets($,O,u){return 0},ioctl_tiocgwinsz($){return[24,80]}},default_tty1_ops:{put_char($,O){O===null||O===10?(p(be($.output,0)),$.output=[]):O!=0&&$.output.push(O)},fsync($){$.output&&$.output.length>0&&(p(be($.output,0)),$.output=[])}}},et=$=>{Fe()},De={ops_table:null,mount($){return De.createNode(null,"/",16895,0)},createNode($,O,u,S){if(W.isBlkdev(u)||W.isFIFO(u))throw new W.ErrnoError(63);De.ops_table||(De.ops_table={dir:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,lookup:De.node_ops.lookup,mknod:De.node_ops.mknod,rename:De.node_ops.rename,unlink:De.node_ops.unlink,rmdir:De.node_ops.rmdir,readdir:De.node_ops.readdir,symlink:De.node_ops.symlink},stream:{llseek:De.stream_ops.llseek}},file:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:{llseek:De.stream_ops.llseek,read:De.stream_ops.read,write:De.stream_ops.write,allocate:De.stream_ops.allocate,mmap:De.stream_ops.mmap,msync:De.stream_ops.msync}},link:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,readlink:De.node_ops.readlink},stream:{}},chrdev:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:W.chrdev_stream_ops}});var T=W.createNode($,O,u,S);return W.isDir(T.mode)?(T.node_ops=De.ops_table.dir.node,T.stream_ops=De.ops_table.dir.stream,T.contents={}):W.isFile(T.mode)?(T.node_ops=De.ops_table.file.node,T.stream_ops=De.ops_table.file.stream,T.usedBytes=0,T.contents=null):W.isLink(T.mode)?(T.node_ops=De.ops_table.link.node,T.stream_ops=De.ops_table.link.stream):W.isChrdev(T.mode)&&(T.node_ops=De.ops_table.chrdev.node,T.stream_ops=De.ops_table.chrdev.stream),T.timestamp=Date.now(),$&&($.contents[O]=T,$.timestamp=T.timestamp),T},getFileDataAsTypedArray($){return $.contents?$.contents.subarray?$.contents.subarray(0,$.usedBytes):new Uint8Array($.contents):new Uint8Array(0)},expandFileStorage($,O){var u=$.contents?$.contents.length:0;if(!(u>=O)){var S=1024*1024;O=Math.max(O,u*(u<S?2:1.125)>>>0),u!=0&&(O=Math.max(O,256));var T=$.contents;$.contents=new Uint8Array(O),$.usedBytes>0&&$.contents.set(T.subarray(0,$.usedBytes),0)}},resizeFileStorage($,O){if($.usedBytes!=O)if(O==0)$.contents=null,$.usedBytes=0;else{var u=$.contents;$.contents=new Uint8Array(O),u&&$.contents.set(u.subarray(0,Math.min(O,$.usedBytes))),$.usedBytes=O}},node_ops:{getattr($){var O={};return O.dev=W.isChrdev($.mode)?$.id:1,O.ino=$.id,O.mode=$.mode,O.nlink=1,O.uid=0,O.gid=0,O.rdev=$.rdev,W.isDir($.mode)?O.size=4096:W.isFile($.mode)?O.size=$.usedBytes:W.isLink($.mode)?O.size=$.link.length:O.size=0,O.atime=new Date($.timestamp),O.mtime=new Date($.timestamp),O.ctime=new Date($.timestamp),O.blksize=4096,O.blocks=Math.ceil(O.size/O.blksize),O},setattr($,O){O.mode!==void 0&&($.mode=O.mode),O.timestamp!==void 0&&($.timestamp=O.timestamp),O.size!==void 0&&De.resizeFileStorage($,O.size)},lookup($,O){throw W.genericErrors[44]},mknod($,O,u,S){return De.createNode($,O,u,S)},rename($,O,u){if(W.isDir($.mode)){var S;try{S=W.lookupNode(O,u)}catch{}if(S)for(var T in S.contents)throw new W.ErrnoError(55)}delete $.parent.contents[$.name],$.parent.timestamp=Date.now(),$.name=u,O.contents[u]=$,O.timestamp=$.parent.timestamp,$.parent=O},unlink($,O){delete $.contents[O],$.timestamp=Date.now()},rmdir($,O){var u=W.lookupNode($,O);for(var S in u.contents)throw new W.ErrnoError(55);delete $.contents[O],$.timestamp=Date.now()},readdir($){var O=[".",".."];for(var u in $.contents)$.contents.hasOwnProperty(u)&&O.push(u);return O},symlink($,O,u){var S=De.createNode($,O,41471,0);return S.link=u,S},readlink($){if(!W.isLink($.mode))throw new W.ErrnoError(28);return $.link}},stream_ops:{read($,O,u,S,T){var B=$.node.contents;if(T>=$.node.usedBytes)return 0;var U=Math.min($.node.usedBytes-T,S);if(U>8&&B.subarray)O.set(B.subarray(T,T+U),u);else for(var j=0;j<U;j++)O[u+j]=B[T+j];return U},write($,O,u,S,T,B){if(!S)return 0;var U=$.node;if(U.timestamp=Date.now(),O.subarray&&(!U.contents||U.contents.subarray)){if(B)return U.contents=O.subarray(u,u+S),U.usedBytes=S,S;if(U.usedBytes===0&&T===0)return U.contents=O.slice(u,u+S),U.usedBytes=S,S;if(T+S<=U.usedBytes)return U.contents.set(O.subarray(u,u+S),T),S}if(De.expandFileStorage(U,T+S),U.contents.subarray&&O.subarray)U.contents.set(O.subarray(u,u+S),T);else for(var j=0;j<S;j++)U.contents[T+j]=O[u+j];return U.usedBytes=Math.max(U.usedBytes,T+S),S},llseek($,O,u){var S=O;if(u===1?S+=$.position:u===2&&W.isFile($.node.mode)&&(S+=$.node.usedBytes),S<0)throw new W.ErrnoError(28);return S},allocate($,O,u){De.expandFileStorage($.node,O+u),$.node.usedBytes=Math.max($.node.usedBytes,O+u)},mmap($,O,u,S,T){if(!W.isFile($.node.mode))throw new W.ErrnoError(43);var B,U,j=$.node.contents;if(!(T&2)&&j.buffer===g.buffer)U=!1,B=j.byteOffset;else{if((u>0||u+O<j.length)&&(j.subarray?j=j.subarray(u,u+O):j=Array.prototype.slice.call(j,u,u+O)),U=!0,B=et(),!B)throw new W.ErrnoError(48);g.set(j,B)}return{ptr:B,allocated:U}},msync($,O,u,S,T){return De.stream_ops.write($,O,0,S,u,!1),0}}},gt=($,O,u,S)=>{var T=S?"":`al ${$}`;o($,B=>{_(B,`Loading data file "${$}" failed (no arrayBuffer).`),O(new Uint8Array(B)),T&&Ee()},B=>{if(u)u();else throw`Loading data file "${$}" failed.`}),T&&Le()},Ie=w.preloadPlugins||[],vt=($,O,u,S)=>{typeof Browser<"u"&&Browser.init();var T=!1;return Ie.forEach(B=>{T||B.canHandle(O)&&(B.handle($,O,u,S),T=!0)}),T},Ue=($,O,u,S,T,B,U,j,se,de)=>{var $e=O?Qe.resolve(Re.join2($,O)):$;function We(Ne){function Oe(Be){de&&de(),j||W.createDataFile($,O,Be,S,T,se),B&&B(),Ee()}vt(Ne,$e,Oe,()=>{U&&U(),Ee()})||Oe(Ne)}Le(),typeof u=="string"?gt(u,Ne=>We(Ne),U):We(u)},Wt=$=>{var O={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},u=O[$];if(typeof u>"u")throw new Error(`Unknown file open mode: ${$}`);return u},Ut=($,O)=>{var u=0;return $&&(u|=365),O&&(u|=146),u},W={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath($,O={}){if($=Qe.resolve($),!$)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(O=Object.assign(u,O),O.recurse_count>8)throw new W.ErrnoError(32);for(var S=$.split("/").filter(We=>!!We),T=W.root,B="/",U=0;U<S.length;U++){var j=U===S.length-1;if(j&&O.parent)break;if(T=W.lookupNode(T,S[U]),B=Re.join2(B,S[U]),W.isMountpoint(T)&&(!j||j&&O.follow_mount)&&(T=T.mounted.root),!j||O.follow)for(var se=0;W.isLink(T.mode);){var de=W.readlink(B);B=Qe.resolve(Re.dirname(B),de);var $e=W.lookupPath(B,{recurse_count:O.recurse_count+1});if(T=$e.node,se++>40)throw new W.ErrnoError(32)}}return{path:B,node:T}},getPath($){for(var O;;){if(W.isRoot($)){var u=$.mount.mountpoint;return O?u[u.length-1]!=="/"?`${u}/${O}`:u+O:u}O=O?`${$.name}/${O}`:$.name,$=$.parent}},hashName($,O){for(var u=0,S=0;S<O.length;S++)u=(u<<5)-u+O.charCodeAt(S)|0;return($+u>>>0)%W.nameTable.length},hashAddNode($){var O=W.hashName($.parent.id,$.name);$.name_next=W.nameTable[O],W.nameTable[O]=$},hashRemoveNode($){var O=W.hashName($.parent.id,$.name);if(W.nameTable[O]===$)W.nameTable[O]=$.name_next;else for(var u=W.nameTable[O];u;){if(u.name_next===$){u.name_next=$.name_next;break}u=u.name_next}},lookupNode($,O){var u=W.mayLookup($);if(u)throw new W.ErrnoError(u,$);for(var S=W.hashName($.id,O),T=W.nameTable[S];T;T=T.name_next){var B=T.name;if(T.parent.id===$.id&&B===O)return T}return W.lookup($,O)},createNode($,O,u,S){var T=new W.FSNode($,O,u,S);return W.hashAddNode(T),T},destroyNode($){W.hashRemoveNode($)},isRoot($){return $===$.parent},isMountpoint($){return!!$.mounted},isFile($){return($&61440)===32768},isDir($){return($&61440)===16384},isLink($){return($&61440)===40960},isChrdev($){return($&61440)===8192},isBlkdev($){return($&61440)===24576},isFIFO($){return($&61440)===4096},isSocket($){return($&49152)===49152},flagsToPermissionString($){var O=["r","w","rw"][$&3];return $&512&&(O+="w"),O},nodePermissions($,O){return W.ignorePermissions?0:O.includes("r")&&!($.mode&292)||O.includes("w")&&!($.mode&146)||O.includes("x")&&!($.mode&73)?2:0},mayLookup($){var O=W.nodePermissions($,"x");return O||($.node_ops.lookup?0:2)},mayCreate($,O){try{var u=W.lookupNode($,O);return 20}catch{}return W.nodePermissions($,"wx")},mayDelete($,O,u){var S;try{S=W.lookupNode($,O)}catch(B){return B.errno}var T=W.nodePermissions($,"wx");if(T)return T;if(u){if(!W.isDir(S.mode))return 54;if(W.isRoot(S)||W.getPath(S)===W.cwd())return 10}else if(W.isDir(S.mode))return 31;return 0},mayOpen($,O){return $?W.isLink($.mode)?32:W.isDir($.mode)&&(W.flagsToPermissionString(O)!=="r"||O&512)?31:W.nodePermissions($,W.flagsToPermissionString(O)):44},MAX_OPEN_FDS:4096,nextfd(){for(var $=0;$<=W.MAX_OPEN_FDS;$++)if(!W.streams[$])return $;throw new W.ErrnoError(33)},getStreamChecked($){var O=W.getStream($);if(!O)throw new W.ErrnoError(8);return O},getStream:$=>W.streams[$],createStream($,O=-1){return W.FSStream||(W.FSStream=function(){this.shared={}},W.FSStream.prototype={},Object.defineProperties(W.FSStream.prototype,{object:{get(){return this.node},set(u){this.node=u}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(u){this.shared.flags=u}},position:{get(){return this.shared.position},set(u){this.shared.position=u}}})),$=Object.assign(new W.FSStream,$),O==-1&&(O=W.nextfd()),$.fd=O,W.streams[O]=$,$},closeStream($){W.streams[$]=null},chrdev_stream_ops:{open($){var O=W.getDevice($.node.rdev);$.stream_ops=O.stream_ops,$.stream_ops.open&&$.stream_ops.open($)},llseek(){throw new W.ErrnoError(70)}},major:$=>$>>8,minor:$=>$&255,makedev:($,O)=>$<<8|O,registerDevice($,O){W.devices[$]={stream_ops:O}},getDevice:$=>W.devices[$],getMounts($){for(var O=[],u=[$];u.length;){var S=u.pop();O.push(S),u.push.apply(u,S.mounts)}return O},syncfs($,O){typeof $=="function"&&(O=$,$=!1),W.syncFSRequests++,W.syncFSRequests>1&&p(`warning: ${W.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var u=W.getMounts(W.root.mount),S=0;function T(U){return W.syncFSRequests--,O(U)}function B(U){if(U)return B.errored?void 0:(B.errored=!0,T(U));++S>=u.length&&T(null)}u.forEach(U=>{if(!U.type.syncfs)return B(null);U.type.syncfs(U,$,B)})},mount($,O,u){var S=u==="/",T=!u,B;if(S&&W.root)throw new W.ErrnoError(10);if(!S&&!T){var U=W.lookupPath(u,{follow_mount:!1});if(u=U.path,B=U.node,W.isMountpoint(B))throw new W.ErrnoError(10);if(!W.isDir(B.mode))throw new W.ErrnoError(54)}var j={type:$,opts:O,mountpoint:u,mounts:[]},se=$.mount(j);return se.mount=j,j.root=se,S?W.root=se:B&&(B.mounted=j,B.mount&&B.mount.mounts.push(j)),se},unmount($){var O=W.lookupPath($,{follow_mount:!1});if(!W.isMountpoint(O.node))throw new W.ErrnoError(28);var u=O.node,S=u.mounted,T=W.getMounts(S);Object.keys(W.nameTable).forEach(U=>{for(var j=W.nameTable[U];j;){var se=j.name_next;T.includes(j.mount)&&W.destroyNode(j),j=se}}),u.mounted=null;var B=u.mount.mounts.indexOf(S);u.mount.mounts.splice(B,1)},lookup($,O){return $.node_ops.lookup($,O)},mknod($,O,u){var S=W.lookupPath($,{parent:!0}),T=S.node,B=Re.basename($);if(!B||B==="."||B==="..")throw new W.ErrnoError(28);var U=W.mayCreate(T,B);if(U)throw new W.ErrnoError(U);if(!T.node_ops.mknod)throw new W.ErrnoError(63);return T.node_ops.mknod(T,B,O,u)},create($,O){return O=O!==void 0?O:438,O&=4095,O|=32768,W.mknod($,O,0)},mkdir($,O){return O=O!==void 0?O:511,O&=1023,O|=16384,W.mknod($,O,0)},mkdirTree($,O){for(var u=$.split("/"),S="",T=0;T<u.length;++T)if(u[T]){S+="/"+u[T];try{W.mkdir(S,O)}catch(B){if(B.errno!=20)throw B}}},mkdev($,O,u){return typeof u>"u"&&(u=O,O=438),O|=8192,W.mknod($,O,u)},symlink($,O){if(!Qe.resolve($))throw new W.ErrnoError(44);var u=W.lookupPath(O,{parent:!0}),S=u.node;if(!S)throw new W.ErrnoError(44);var T=Re.basename(O),B=W.mayCreate(S,T);if(B)throw new W.ErrnoError(B);if(!S.node_ops.symlink)throw new W.ErrnoError(63);return S.node_ops.symlink(S,T,$)},rename($,O){var u=Re.dirname($),S=Re.dirname(O),T=Re.basename($),B=Re.basename(O),U,j,se;if(U=W.lookupPath($,{parent:!0}),j=U.node,U=W.lookupPath(O,{parent:!0}),se=U.node,!j||!se)throw new W.ErrnoError(44);if(j.mount!==se.mount)throw new W.ErrnoError(75);var de=W.lookupNode(j,T),$e=Qe.relative($,S);if($e.charAt(0)!==".")throw new W.ErrnoError(28);if($e=Qe.relative(O,u),$e.charAt(0)!==".")throw new W.ErrnoError(55);var We;try{We=W.lookupNode(se,B)}catch{}if(de!==We){var Ne=W.isDir(de.mode),Oe=W.mayDelete(j,T,Ne);if(Oe)throw new W.ErrnoError(Oe);if(Oe=We?W.mayDelete(se,B,Ne):W.mayCreate(se,B),Oe)throw new W.ErrnoError(Oe);if(!j.node_ops.rename)throw new W.ErrnoError(63);if(W.isMountpoint(de)||We&&W.isMountpoint(We))throw new W.ErrnoError(10);if(se!==j&&(Oe=W.nodePermissions(j,"w"),Oe))throw new W.ErrnoError(Oe);W.hashRemoveNode(de);try{j.node_ops.rename(de,se,B)}catch(Be){throw Be}finally{W.hashAddNode(de)}}},rmdir($){var O=W.lookupPath($,{parent:!0}),u=O.node,S=Re.basename($),T=W.lookupNode(u,S),B=W.mayDelete(u,S,!0);if(B)throw new W.ErrnoError(B);if(!u.node_ops.rmdir)throw new W.ErrnoError(63);if(W.isMountpoint(T))throw new W.ErrnoError(10);u.node_ops.rmdir(u,S),W.destroyNode(T)},readdir($){var O=W.lookupPath($,{follow:!0}),u=O.node;if(!u.node_ops.readdir)throw new W.ErrnoError(54);return u.node_ops.readdir(u)},unlink($){var O=W.lookupPath($,{parent:!0}),u=O.node;if(!u)throw new W.ErrnoError(44);var S=Re.basename($),T=W.lookupNode(u,S),B=W.mayDelete(u,S,!1);if(B)throw new W.ErrnoError(B);if(!u.node_ops.unlink)throw new W.ErrnoError(63);if(W.isMountpoint(T))throw new W.ErrnoError(10);u.node_ops.unlink(u,S),W.destroyNode(T)},readlink($){var O=W.lookupPath($),u=O.node;if(!u)throw new W.ErrnoError(44);if(!u.node_ops.readlink)throw new W.ErrnoError(28);return Qe.resolve(W.getPath(u.parent),u.node_ops.readlink(u))},stat($,O){var u=W.lookupPath($,{follow:!O}),S=u.node;if(!S)throw new W.ErrnoError(44);if(!S.node_ops.getattr)throw new W.ErrnoError(63);return S.node_ops.getattr(S)},lstat($){return W.stat($,!0)},chmod($,O,u){var S;if(typeof $=="string"){var T=W.lookupPath($,{follow:!u});S=T.node}else S=$;if(!S.node_ops.setattr)throw new W.ErrnoError(63);S.node_ops.setattr(S,{mode:O&4095|S.mode&-4096,timestamp:Date.now()})},lchmod($,O){W.chmod($,O,!0)},fchmod($,O){var u=W.getStreamChecked($);W.chmod(u.node,O)},chown($,O,u,S){var T;if(typeof $=="string"){var B=W.lookupPath($,{follow:!S});T=B.node}else T=$;if(!T.node_ops.setattr)throw new W.ErrnoError(63);T.node_ops.setattr(T,{timestamp:Date.now()})},lchown($,O,u){W.chown($,O,u,!0)},fchown($,O,u){var S=W.getStreamChecked($);W.chown(S.node,O,u)},truncate($,O){if(O<0)throw new W.ErrnoError(28);var u;if(typeof $=="string"){var S=W.lookupPath($,{follow:!0});u=S.node}else u=$;if(!u.node_ops.setattr)throw new W.ErrnoError(63);if(W.isDir(u.mode))throw new W.ErrnoError(31);if(!W.isFile(u.mode))throw new W.ErrnoError(28);var T=W.nodePermissions(u,"w");if(T)throw new W.ErrnoError(T);u.node_ops.setattr(u,{size:O,timestamp:Date.now()})},ftruncate($,O){var u=W.getStreamChecked($);if(!(u.flags&2097155))throw new W.ErrnoError(28);W.truncate(u.node,O)},utime($,O,u){var S=W.lookupPath($,{follow:!0}),T=S.node;T.node_ops.setattr(T,{timestamp:Math.max(O,u)})},open($,O,u){if($==="")throw new W.ErrnoError(44);O=typeof O=="string"?Wt(O):O,u=typeof u>"u"?438:u,O&64?u=u&4095|32768:u=0;var S;if(typeof $=="object")S=$;else{$=Re.normalize($);try{var T=W.lookupPath($,{follow:!(O&131072)});S=T.node}catch{}}var B=!1;if(O&64)if(S){if(O&128)throw new W.ErrnoError(20)}else S=W.mknod($,u,0),B=!0;if(!S)throw new W.ErrnoError(44);if(W.isChrdev(S.mode)&&(O&=-513),O&65536&&!W.isDir(S.mode))throw new W.ErrnoError(54);if(!B){var U=W.mayOpen(S,O);if(U)throw new W.ErrnoError(U)}O&512&&!B&&W.truncate(S,0),O&=-131713;var j=W.createStream({node:S,path:W.getPath(S),flags:O,seekable:!0,position:0,stream_ops:S.stream_ops,ungotten:[],error:!1});return j.stream_ops.open&&j.stream_ops.open(j),w.logReadFiles&&!(O&1)&&(W.readFiles||(W.readFiles={}),$ in W.readFiles||(W.readFiles[$]=1)),j},close($){if(W.isClosed($))throw new W.ErrnoError(8);$.getdents&&($.getdents=null);try{$.stream_ops.close&&$.stream_ops.close($)}catch(O){throw O}finally{W.closeStream($.fd)}$.fd=null},isClosed($){return $.fd===null},llseek($,O,u){if(W.isClosed($))throw new W.ErrnoError(8);if(!$.seekable||!$.stream_ops.llseek)throw new W.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new W.ErrnoError(28);return $.position=$.stream_ops.llseek($,O,u),$.ungotten=[],$.position},read($,O,u,S,T){if(S<0||T<0)throw new W.ErrnoError(28);if(W.isClosed($))throw new W.ErrnoError(8);if(($.flags&2097155)===1)throw new W.ErrnoError(8);if(W.isDir($.node.mode))throw new W.ErrnoError(31);if(!$.stream_ops.read)throw new W.ErrnoError(28);var B=typeof T<"u";if(!B)T=$.position;else if(!$.seekable)throw new W.ErrnoError(70);var U=$.stream_ops.read($,O,u,S,T);return B||($.position+=U),U},write($,O,u,S,T,B){if(S<0||T<0)throw new W.ErrnoError(28);if(W.isClosed($))throw new W.ErrnoError(8);if(!($.flags&2097155))throw new W.ErrnoError(8);if(W.isDir($.node.mode))throw new W.ErrnoError(31);if(!$.stream_ops.write)throw new W.ErrnoError(28);$.seekable&&$.flags&1024&&W.llseek($,0,2);var U=typeof T<"u";if(!U)T=$.position;else if(!$.seekable)throw new W.ErrnoError(70);var j=$.stream_ops.write($,O,u,S,T,B);return U||($.position+=j),j},allocate($,O,u){if(W.isClosed($))throw new W.ErrnoError(8);if(O<0||u<=0)throw new W.ErrnoError(28);if(!($.flags&2097155))throw new W.ErrnoError(8);if(!W.isFile($.node.mode)&&!W.isDir($.node.mode))throw new W.ErrnoError(43);if(!$.stream_ops.allocate)throw new W.ErrnoError(138);$.stream_ops.allocate($,O,u)},mmap($,O,u,S,T){if(S&2&&!(T&2)&&($.flags&2097155)!==2)throw new W.ErrnoError(2);if(($.flags&2097155)===1)throw new W.ErrnoError(2);if(!$.stream_ops.mmap)throw new W.ErrnoError(43);return $.stream_ops.mmap($,O,u,S,T)},msync($,O,u,S,T){return $.stream_ops.msync?$.stream_ops.msync($,O,u,S,T):0},munmap:$=>0,ioctl($,O,u){if(!$.stream_ops.ioctl)throw new W.ErrnoError(59);return $.stream_ops.ioctl($,O,u)},readFile($,O={}){if(O.flags=O.flags||0,O.encoding=O.encoding||"binary",O.encoding!=="utf8"&&O.encoding!=="binary")throw new Error(`Invalid encoding type "${O.encoding}"`);var u,S=W.open($,O.flags),T=W.stat($),B=T.size,U=new Uint8Array(B);return W.read(S,U,0,B,0),O.encoding==="utf8"?u=be(U,0):O.encoding==="binary"&&(u=U),W.close(S),u},writeFile($,O,u={}){u.flags=u.flags||577;var S=W.open($,u.flags,u.mode);if(typeof O=="string"){var T=new Uint8Array(Ke(O)+1),B=pt(O,T,0,T.length);W.write(S,T,0,B,void 0,u.canOwn)}else if(ArrayBuffer.isView(O))W.write(S,O,0,O.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");W.close(S)},cwd:()=>W.currentPath,chdir($){var O=W.lookupPath($,{follow:!0});if(O.node===null)throw new W.ErrnoError(44);if(!W.isDir(O.node.mode))throw new W.ErrnoError(54);var u=W.nodePermissions(O.node,"x");if(u)throw new W.ErrnoError(u);W.currentPath=O.path},createDefaultDirectories(){W.mkdir("/tmp"),W.mkdir("/home"),W.mkdir("/home/web_user")},createDefaultDevices(){W.mkdir("/dev"),W.registerDevice(W.makedev(1,3),{read:()=>0,write:(S,T,B,U,j)=>U}),W.mkdev("/dev/null",W.makedev(1,3)),He.register(W.makedev(5,0),He.default_tty_ops),He.register(W.makedev(6,0),He.default_tty1_ops),W.mkdev("/dev/tty",W.makedev(5,0)),W.mkdev("/dev/tty1",W.makedev(6,0));var $=new Uint8Array(1024),O=0,u=()=>(O===0&&(O=Ce($).byteLength),$[--O]);W.createDevice("/dev","random",u),W.createDevice("/dev","urandom",u),W.mkdir("/dev/shm"),W.mkdir("/dev/shm/tmp")},createSpecialDirectories(){W.mkdir("/proc");var $=W.mkdir("/proc/self");W.mkdir("/proc/self/fd"),W.mount({mount(){var O=W.createNode($,"fd",16895,73);return O.node_ops={lookup(u,S){var T=+S,B=W.getStreamChecked(T),U={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>B.path}};return U.parent=U,U}},O}},{},"/proc/self/fd")},createStandardStreams(){w.stdin?W.createDevice("/dev","stdin",w.stdin):W.symlink("/dev/tty","/dev/stdin"),w.stdout?W.createDevice("/dev","stdout",null,w.stdout):W.symlink("/dev/tty","/dev/stdout"),w.stderr?W.createDevice("/dev","stderr",null,w.stderr):W.symlink("/dev/tty1","/dev/stderr"),W.open("/dev/stdin",0),W.open("/dev/stdout",1),W.open("/dev/stderr",1)},ensureErrnoError(){W.ErrnoError||(W.ErrnoError=function(O,u){this.name="ErrnoError",this.node=u,this.setErrno=function(S){this.errno=S},this.setErrno(O),this.message="FS error"},W.ErrnoError.prototype=new Error,W.ErrnoError.prototype.constructor=W.ErrnoError,[44].forEach($=>{W.genericErrors[$]=new W.ErrnoError($),W.genericErrors[$].stack="<generic error, no stack>"}))},staticInit(){W.ensureErrnoError(),W.nameTable=new Array(4096),W.mount(De,{},"/"),W.createDefaultDirectories(),W.createDefaultDevices(),W.createSpecialDirectories(),W.filesystems={MEMFS:De}},init($,O,u){W.init.initialized=!0,W.ensureErrnoError(),w.stdin=$||w.stdin,w.stdout=O||w.stdout,w.stderr=u||w.stderr,W.createStandardStreams()},quit(){W.init.initialized=!1;for(var $=0;$<W.streams.length;$++){var O=W.streams[$];O&&W.close(O)}},findObject($,O){var u=W.analyzePath($,O);return u.exists?u.object:null},analyzePath($,O){try{var u=W.lookupPath($,{follow:!O});$=u.path}catch{}var S={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=W.lookupPath($,{parent:!0});S.parentExists=!0,S.parentPath=u.path,S.parentObject=u.node,S.name=Re.basename($),u=W.lookupPath($,{follow:!O}),S.exists=!0,S.path=u.path,S.object=u.node,S.name=u.node.name,S.isRoot=u.path==="/"}catch(T){S.error=T.errno}return S},createPath($,O,u,S){$=typeof $=="string"?$:W.getPath($);for(var T=O.split("/").reverse();T.length;){var B=T.pop();if(B){var U=Re.join2($,B);try{W.mkdir(U)}catch{}$=U}}return U},createFile($,O,u,S,T){var B=Re.join2(typeof $=="string"?$:W.getPath($),O),U=Ut(S,T);return W.create(B,U)},createDataFile($,O,u,S,T,B){var U=O;$&&($=typeof $=="string"?$:W.getPath($),U=O?Re.join2($,O):$);var j=Ut(S,T),se=W.create(U,j);if(u){if(typeof u=="string"){for(var de=new Array(u.length),$e=0,We=u.length;$e<We;++$e)de[$e]=u.charCodeAt($e);u=de}W.chmod(se,j|146);var Ne=W.open(se,577);W.write(Ne,u,0,u.length,0,B),W.close(Ne),W.chmod(se,j)}return se},createDevice($,O,u,S){var T=Re.join2(typeof $=="string"?$:W.getPath($),O),B=Ut(!!u,!!S);W.createDevice.major||(W.createDevice.major=64);var U=W.makedev(W.createDevice.major++,0);return W.registerDevice(U,{open(j){j.seekable=!1},close(j){S&&S.buffer&&S.buffer.length&&S(10)},read(j,se,de,$e,We){for(var Ne=0,Oe=0;Oe<$e;Oe++){var Be;try{Be=u()}catch{throw new W.ErrnoError(29)}if(Be===void 0&&Ne===0)throw new W.ErrnoError(6);if(Be==null)break;Ne++,se[de+Oe]=Be}return Ne&&(j.node.timestamp=Date.now()),Ne},write(j,se,de,$e,We){for(var Ne=0;Ne<$e;Ne++)try{S(se[de+Ne])}catch{throw new W.ErrnoError(29)}return $e&&(j.node.timestamp=Date.now()),Ne}}),W.mkdev(T,B,U)},forceLoadFile($){if($.isDevice||$.isFolder||$.link||$.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{$.contents=oe(i($.url),!0),$.usedBytes=$.contents.length}catch{throw new W.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile($,O,u,S,T){function B(){this.lengthKnown=!1,this.chunks=[]}if(B.prototype.get=function(Oe){if(!(Oe>this.length-1||Oe<0)){var Be=Oe%this.chunkSize,ze=Oe/this.chunkSize|0;return this.getter(ze)[Be]}},B.prototype.setDataGetter=function(Oe){this.getter=Oe},B.prototype.cacheLength=function(){var Oe=new XMLHttpRequest;if(Oe.open("HEAD",u,!1),Oe.send(null),!(Oe.status>=200&&Oe.status<300||Oe.status===304))throw new Error("Couldn't load "+u+". Status: "+Oe.status);var Be=Number(Oe.getResponseHeader("Content-length")),ze,Ze=(ze=Oe.getResponseHeader("Accept-Ranges"))&&ze==="bytes",at=(ze=Oe.getResponseHeader("Content-Encoding"))&&ze==="gzip",ct=1024*1024;Ze||(ct=Be);var ut=(dt,St)=>{if(dt>St)throw new Error("invalid range ("+dt+", "+St+") or no bytes requested!");if(St>Be-1)throw new Error("only "+Be+" bytes available! programmer error!");var ot=new XMLHttpRequest;if(ot.open("GET",u,!1),Be!==ct&&ot.setRequestHeader("Range","bytes="+dt+"-"+St),ot.responseType="arraybuffer",ot.overrideMimeType&&ot.overrideMimeType("text/plain; charset=x-user-defined"),ot.send(null),!(ot.status>=200&&ot.status<300||ot.status===304))throw new Error("Couldn't load "+u+". Status: "+ot.status);return ot.response!==void 0?new Uint8Array(ot.response||[]):oe(ot.responseText||"",!0)},lt=this;lt.setDataGetter(dt=>{var St=dt*ct,ot=(dt+1)*ct-1;if(ot=Math.min(ot,Be-1),typeof lt.chunks[dt]>"u"&&(lt.chunks[dt]=ut(St,ot)),typeof lt.chunks[dt]>"u")throw new Error("doXHR failed!");return lt.chunks[dt]}),(at||!Be)&&(ct=Be=1,Be=this.getter(0).length,ct=Be,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Be,this._chunkSize=ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var U,j}else var j={isDevice:!1,url:u};var se=W.createFile($,O,j,S,T);j.contents?se.contents=j.contents:j.url&&(se.contents=null,se.url=j.url),Object.defineProperties(se,{usedBytes:{get:function(){return this.contents.length}}});var de={},$e=Object.keys(se.stream_ops);$e.forEach(Ne=>{var Oe=se.stream_ops[Ne];de[Ne]=function(){return W.forceLoadFile(se),Oe.apply(null,arguments)}});function We(Ne,Oe,Be,ze,Ze){var at=Ne.node.contents;if(Ze>=at.length)return 0;var ct=Math.min(at.length-Ze,ze);if(at.slice)for(var ut=0;ut<ct;ut++)Oe[Be+ut]=at[Ze+ut];else for(var ut=0;ut<ct;ut++)Oe[Be+ut]=at.get(Ze+ut);return ct}return de.read=(Ne,Oe,Be,ze,Ze)=>(W.forceLoadFile(se),We(Ne,Oe,Be,ze,Ze)),de.mmap=(Ne,Oe,Be,ze,Ze)=>{W.forceLoadFile(se);var at=et();if(!at)throw new W.ErrnoError(48);return We(Ne,g,at,Oe,Be),{ptr:at,allocated:!0}},se.stream_ops=de,se}},ht={DEFAULT_POLLMASK:5,calculateAt($,O,u){if(Re.isAbs(O))return O;var S;if($===-100)S=W.cwd();else{var T=ht.getStreamFromFD($);S=T.path}if(O.length==0){if(!u)throw new W.ErrnoError(44);return S}return Re.join2(S,O)},doStat($,O,u){try{var S=$(O)}catch(j){if(j&&j.node&&Re.normalize(O)!==Re.normalize(W.getPath(j.node)))return-54;throw j}c[u>>2]=S.dev,c[u+4>>2]=S.mode,b[u+8>>2]=S.nlink,c[u+12>>2]=S.uid,c[u+16>>2]=S.gid,c[u+20>>2]=S.rdev,Y=[S.size>>>0,(me=S.size,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[u+24>>2]=Y[0],c[u+28>>2]=Y[1],c[u+32>>2]=4096,c[u+36>>2]=S.blocks;var T=S.atime.getTime(),B=S.mtime.getTime(),U=S.ctime.getTime();return Y=[Math.floor(T/1e3)>>>0,(me=Math.floor(T/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[u+40>>2]=Y[0],c[u+44>>2]=Y[1],b[u+48>>2]=T%1e3*1e3,Y=[Math.floor(B/1e3)>>>0,(me=Math.floor(B/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[u+56>>2]=Y[0],c[u+60>>2]=Y[1],b[u+64>>2]=B%1e3*1e3,Y=[Math.floor(U/1e3)>>>0,(me=Math.floor(U/1e3),+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[u+72>>2]=Y[0],c[u+76>>2]=Y[1],b[u+80>>2]=U%1e3*1e3,Y=[S.ino>>>0,(me=S.ino,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[u+88>>2]=Y[0],c[u+92>>2]=Y[1],0},doMsync($,O,u,S,T){if(!W.isFile(O.node.mode))throw new W.ErrnoError(43);if(S&2)return 0;var B=v.slice($,$+u);W.msync(O,B,T,u,S)},varargs:void 0,get(){var $=c[ht.varargs>>2];return ht.varargs+=4,$},getp(){return ht.get()},getStr($){var O=xe($);return O},getStreamFromFD($){var O=W.getStreamChecked($);return O}};function H($,O){try{var u=ht.getStreamFromFD($);return ht.doStat(W.stat,u.path,O)}catch(S){if(typeof W>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function st($,O,u,S){try{O=ht.getStr(O);var T=S&256,B=S&4096;return S=S&-6401,O=ht.calculateAt($,O,B),ht.doStat(T?W.lstat:W.stat,O,u)}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return-U.errno}}function z($,O,u,S){ht.varargs=S;try{O=ht.getStr(O),O=ht.calculateAt($,O);var T=S?ht.get():0;return W.open(O,u,T).fd}catch(B){if(typeof W>"u"||B.name!=="ErrnoError")throw B;return-B.errno}}function nt($,O){try{return $=ht.getStr($),ht.doStat(W.stat,$,O)}catch(u){if(typeof W>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var tr=($,O,u)=>v.copyWithin($,O,O+u),rr=$=>{Fe("OOM")},nr=$=>{v.length,rr()},ir=$=>{f=$,ne()||(w.onExit&&w.onExit($),s=!0),t($,new re($))},Ft=($,O)=>{f=$,ir($)},Kt=Ft;function Dt($){try{var O=ht.getStreamFromFD($);return W.close(O),0}catch(u){if(typeof W>"u"||u.name!=="ErrnoError")throw u;return u.errno}}var or=($,O,u,S)=>{for(var T=0,B=0;B<u;B++){var U=b[O>>2],j=b[O+4>>2];O+=8;var se=W.read($,g,U,j,S);if(se<0)return-1;if(T+=se,se<j)break;typeof S<"u"&&(S+=se)}return T};function sr($,O,u,S){try{var T=ht.getStreamFromFD($),B=or(T,O,u);return b[S>>2]=B,0}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return U.errno}}var ar=($,O)=>O+2097152>>>0<4194305-!!$?($>>>0)+O*4294967296:NaN;function lr($,O,u,S,T){var B=ar(O,u);try{if(isNaN(B))return 61;var U=ht.getStreamFromFD($);return W.llseek(U,B,S),Y=[U.position>>>0,(me=U.position,+Math.abs(me)>=1?me>0?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],c[T>>2]=Y[0],c[T+4>>2]=Y[1],U.getdents&&B===0&&S===0&&(U.getdents=null),0}catch(j){if(typeof W>"u"||j.name!=="ErrnoError")throw j;return j.errno}}var cr=($,O,u,S)=>{for(var T=0,B=0;B<u;B++){var U=b[O>>2],j=b[O+4>>2];O+=8;var se=W.write($,g,U,j,S);if(se<0)return-1;T+=se,typeof S<"u"&&(S+=se)}return T};function hr($,O,u,S){try{var T=ht.getStreamFromFD($),B=cr(T,O,u);return b[S>>2]=B,0}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return U.errno}}var qt=$=>{if($ instanceof re||$=="unwind")return f;t(1,$)},Yt=($,O,u)=>pt($,v,O,u),ur=$=>{var O=Ke($)+1,u=xt(O);return Yt($,u,O),u},Xt=function($,O,u,S){$||($=this),this.parent=$,this.mount=$.mount,this.mounted=null,this.id=W.nextInode++,this.name=O,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=S},Ot=365,Rt=146;Object.defineProperties(Xt.prototype,{read:{get:function(){return(this.mode&Ot)===Ot},set:function($){$?this.mode|=Ot:this.mode&=~Ot}},write:{get:function(){return(this.mode&Rt)===Rt},set:function($){$?this.mode|=Rt:this.mode&=~Rt}},isFolder:{get:function(){return W.isDir(this.mode)}},isDevice:{get:function(){return W.isChrdev(this.mode)}}}),W.FSNode=Xt,W.createPreloadedFile=Ue,W.staticInit();var Ht={a:Pe,i:H,g:st,f:z,h:nt,j:tr,l:nr,c:Kt,d:Dt,e:sr,k:lr,b:hr},Ct=he(),At=w._main=($,O)=>(At=w._main=Ct.o)($,O),xt=$=>(xt=Ct.q)($);w.FS=W;var Bt;pe=function $(){Bt||It(),Bt||(pe=$)};function Vt($=[]){var O=At;$.unshift(a);var u=$.length,S=xt((u+1)*4),T=S;$.forEach(U=>{b[T>>2]=ur(U),T+=4}),b[T>>2]=0;try{var B=O(u,S);return Ft(B,!0),B}catch(U){return qt(U)}}function It($=l){if(ye>0||(Z(),ye>0))return;function O(){Bt||(Bt=!0,w.calledRun=!0,!s&&(K(),X(),C(w),w.onRuntimeInitialized&&w.onRuntimeInitialized(),Zt&&Vt($),ee()))}w.setStatus?(w.setStatus("Running..."),setTimeout(function(){setTimeout(function(){w.setStatus("")},1),O()},1)):O()}if(w.preInit)for(typeof w.preInit=="function"&&(w.preInit=[w.preInit]);w.preInit.length>0;)w.preInit.pop()();var Zt=!0;return w.noInitialRun&&(Zt=!1),It(),M.ready}})(),_r,Sr=[],gr=[],mr=[],Gr=[],jr=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi,yr="";function Tt(E){/^[^:\s]+:/.test(E)?(kr(),yr=E.trim()):yr+=" "+E.trim()}function kr(){Kr(yr),yr=""}function Kr(E){if(_r&&_r(E),E.startsWith("error: ")||E.startsWith("ERROR: ")||E.startsWith("warning: ")){var M="error";E.startsWith("warning: ")&&(M="warning");var w=E.matchAll(jr);for(var C of w){var R=parseInt(C[2]);Sr.push([M,C[1],R,E])}}}function qr(E){_r=E}async function Yr(){return Zr()}function Dr(){return Sr}function Xr(){return gr}function Lr(){return mr}async function Zr(){Sr=[],gr=[],mr=[];const E=Object.keys(storage.getFiles()).filter(a=>a.endsWith(".asm")),M=await Promise.all(E.map(a=>Jr(a))),{rom:w,map:C}=await Qr(M),R=await en(w),{start_address:d,addr_to_line:l}=tn(C);return Tt("Build done"),kr(),{rom:R,start_address:d,addr_to_line:l}}async function Jr(E){Tt("Running: rgbasm "+E+" -o "+E+".o -Wall");const{FS:M}=await Hr({arguments:[E,"-o","output.o","-Wall"],preRun:function(w){var C=w.FS;for(const[R,d]of Object.entries(storage.getFiles()))C.writeFile(R,d)},print:Tt,printErr:Tt});return{name:E,data:M.readFile("output.o")}}async function Qr(E){const M=["-o","output.gb","--map","output.map",...Gr,...E.map(d=>`${d.name}.o`)];Tt("Running: rgblink "+M.join(" "));const{FS:w}=await Ur({arguments:M,preRun:({FS:d})=>E.forEach(l=>d.writeFile(l.name+".o",l.data)),print:Tt,printErr:Tt}),C=w.readFile("output.gb"),R=w.readFile("output.map",{encoding:"utf8"});return{rom:C,map:R}}async function en(E){Tt("Running: rgbfix -v output.gb -p 0xff");const{FS:M}=await Vr({arguments:["-v","output.gb","-p","0xff"],preRun:({FS:w})=>w.writeFile("output.gb",E),print:Tt,printErr:Tt});return kr(),M.readFile("output.gb")}function tn(E){var M=256,w={},C=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,R=/^\s*(\w+) bank #(\d+)/,d=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,l=/^\s*SLACK: \$([0-9a-f]+) bytes/,a="",t=0;for(var e of E.split(`
`)){var n;if(n=C.exec(e)){var r=parseInt(n[1],16),i=n[2];if(i.startsWith("__SEC_")){i=i.substr(6);var o=i.substr(i.indexOf("_")+1);o=o.substr(o.indexOf("_")+1);var h=parseInt(i.split("_")[1],16);r=r&16383|t<<14,w[r]=[o,h]}else i=="emustart"||i=="emuStart"||i=="emu_start"?M=r:r<32768?(r=r&16383|t<<14,gr[r]=i):mr[r]=i}else if(n=d.exec(e)){var p=parseInt(n[1],16),y=parseInt(n[2],16)+1;p<32768?(p=p&16383|t<<14,y=y&16383|t<<14,gr[p]=null,gr[y]=null):(mr[p]=null,mr[y]=null)}else if(n=R.exec(e))a=n[1],t=parseInt(n[2]);else if(n=l.exec(e)){var L=parseInt(n[1],16),m=16384;a.startsWith("WRAM")?m=4096:a.startsWith("HRAM")&&(m=127),Tt("Space left: "+a+"["+t+"]: "+L+"  ("+(L/m*100).toFixed(1)+"%)")}}return{start_address:M,addr_to_line:w}}globalThis.textEditor=new Object;(function(E){var M=[],w=null,C=null,R=null,d=null,l=[],a={};E.register=function(o){var h=ace.edit(o);new TokenTooltip(h),h.setTheme("ace/theme/tomorrow"),h.session.setMode("ace/mode/gbz80"),h.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),h.completers=[zr],h.session.on("change",function(p){h.curOp&&h.curOp.command.name&&(storage.update(w,h.getValue()),compileCode())}),h.on("guttermousedown",function(p){var y=p.domEvent.target;if(y.className.indexOf("ace_gutter-cell")!=-1){var L=p.getDocumentPosition().row;n(w,L+1),p.stop()}}),M.push(h)},E.setCurrentFile=function(o){w!=null&&(a[w]=M[0].selection.getCursor()),w=o,M[0].setValue(storage.getFiles()[o]),M[0].selection.clearSelection(),M[0].session.getUndoManager().reset(),w in a?M[0].selection.moveCursorToPosition(a[w]):M[0].selection.moveCursorTo(0,0),M[0].scrollToLine(M[0].selection.getCursor().row,!0),M[0].focus(),E.updateErrors(),i()},E.updateErrors=function(){var o=[];for(var[h,p,y,L]of Dr())p==w&&o.push({row:y-1,column:0,type:h,text:L});M[0].session.setAnnotations(o)},E.setCpuLine=function(o,h,p){C=o,R=h,i(p)};function t(o,h){l.push([o,h]),window.updateBreakpoints(),r()}function e(o,h){l=l.filter(p=>p[0]!=o||p[1]!=h),window.updateBreakpoints(),r()}function n(o,h){var p=l.findIndex(y=>y[0]==o&&y[1]==h);p>-1?e(o,h):t(o,h)}function r(){M[0].session.clearBreakpoints();for(var[o,h,p]of l)o==w&&M[0].session.setBreakpoint(h-1,p?"ace_breakpoint":"ace_invalid_breakpoint")}function i(o){o&&w!=null&&w!=C&&E.setCurrentFile(C),d!=null&&(M[0].session.removeMarker(d),d=null),C==w&&(d=M[0].session.addMarker(new ace.Range(R-1,0,R-1,1),"cpuLineMarker","fullLine"),o&&M[0].scrollToLine(R-1,!0,!1,function(){}))}E.getCurrentFilename=function(){return w},E.getBreakpoints=function(){return l},E.hide=function(){M[0].renderer.getContainerElement().style.display="none"},E.show=function(){M[0].renderer.getContainerElement().style.display="",M[0].resize(),M[0].renderer.updateFull()}})(globalThis.textEditor);globalThis.gfxEditor=new Object;(function(E){var M=[4290965700,4289247578,4285423646,4278197037],w,C,R,d,l,a,t=0;E.register=function(i){R=document.getElementById(i),d=document.getElementById("gfxEditorTilesCanvas"),l=document.getElementById("gfxEditorDrawCanvas"),a=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){d.parentElement.style.maxWidth=R.clientWidth,d.parentElement.style.maxHeight=R.clientHeight-300,d.parentElement.style.display=""}).observe(R),l.onmousemove=function(o){var h=o.target.getBoundingClientRect(),p=~~((o.clientX-h.left)/h.width*o.target.width),y=~~((o.clientY-h.top)/h.height*o.target.height);o.preventDefault(),o.buttons!=0&&n(p,y,t)},l.onmousedown=l.onmousemove,l.oncontextmenu=function(){return!1},a.onmousedown=function(o){var h=o.target.getBoundingClientRect();~~((o.clientX-h.left)/h.width*o.target.width/16);var p=~~((o.clientY-h.top)/h.height*o.target.height/16);o.preventDefault(),t=p,r()},r(),d.onmousedown=function(o){var h=o.target.getBoundingClientRect(),p=~~((o.clientX-h.left)/h.width*o.target.width/8),y=~~((o.clientY-h.top)/h.height*o.target.height/8);o.preventDefault(),E.setTileIndex(p+y*16)}},E.setCurrentFile=function(i){w=i,this.setTileIndex(0);var o=storage.getFiles()[i],h=~~(o.length/16),p=~~((h+15)/16);d.width=16*8,d.height=p*8,d.style.width=d.width*4;for(var y=d.getContext("2d"),L=y.getImageData(0,0,d.width,d.height),m=new Uint32Array(L.data.buffer),s=d.width,f=0;f<h;f++){var _=f%16,g=~~(f/16),v=_*8+g*8*s;e(new Uint8Array(o.buffer,f*16,16),m,v,s)}y.putImageData(L,0,0)},E.hide=function(){R.style.display="none"},E.show=function(){R.style.display=""},E.setTileIndex=function(i){var o=storage.getFiles()[w];i>=o.length/16&&(i=o.length/16-1),C=i;var h=l.getContext("2d"),p=h.getImageData(0,0,l.width,l.height),y=new Uint32Array(p.data.buffer);e(new Uint8Array(o.buffer,i*16,16),y,0,8),h.putImageData(p,0,0)};function e(i,o,h,p){for(var y=0;y<8;y++)for(var L=i[y*2],m=i[y*2+1],s=0;s<8;s++){var f=0;L&128>>s&&(f|=1),m&128>>s&&(f|=2),o[h+s+y*p]=M[f]}}function n(i,o,h){var p=storage.getFiles()[w];h&1?p[C*16+o*2+0]|=128>>i:p[C*16+o*2+0]&=~(128>>i),h&2?p[C*16+o*2+1]|=128>>i:p[C*16+o*2+1]&=~(128>>i),E.setTileIndex(C),storage.update(w,p);var y=d.getContext("2d"),L=y.getImageData(0,0,d.width,d.height),m=new Uint32Array(L.data.buffer),s=d.width,f=C%16,_=~~(C/16),g=f*8+_*8*s;e(new Uint8Array(p.buffer,C*16,16),m,g,s),y.putImageData(L,0,0)}function r(){for(var i=a.getContext("2d"),o=0;o<4;o++)i.fillStyle="rgb("+(M[o]&255)+", "+(M[o]>>8&255)+", "+(M[o]>>16&255)+")",i.fillRect(0,o*16,16,16);i.strokeStyle="#FFF",i.beginPath(),i.rect(2.5,t*16+2.5,11,11),i.stroke(),i.strokeStyle="#000",i.beginPath(),i.rect(1.5,t*16+1.5,13,13),i.stroke()}})(globalThis.gfxEditor);var Or,jt,er={},zt={},Et="";qr(function(E){var M=document.getElementById("output");if(E===null){M.value="";return}M.value+=E+`
`,M.scrollTop=M.clientHeight});emulator.setSerialCallback(function(E){var M=document.getElementById("output");E>=32&&E<128||E==13?M.value+=String.fromCharCode(E):M.value+="["+("00"+E.toString(16)).slice(-2)+"]",M.scrollTop=M.clientHeight});async function rn(){const E=await Yr();if(textEditor.updateErrors(),Gt(),nn(),!(typeof E.rom>"u")){jt=E.rom,Or=E.start_address,er=E.addr_to_line;for(var M in er){var[w,C]=er[M];typeof zt[w]>"u"&&(zt[w]={}),typeof zt[w][C]>"u"&&(zt[w][C]=[]),zt[w][C].push(M)}Qt()}}function nn(){emulator.destroy(),er={},zt={},jt=void 0,textEditor.setCpuLine(null,null)}function Br(E){typeof jt>"u"||(emulator.init(document.getElementById("emulator_screen_canvas"),jt),emulator.setPC(Or),Er(E),on())}function fr(E){if(!emulator.isAvailable())return Br(E=="single"||E=="frame"),!1;var M=emulator.step(E);return Er(E=="single"||E=="frame"),M}function on(){emulator.clearBreakpoints();var E=textEditor.getBreakpoints();for(var M of E){var[w,C,R]=M;if(M[2]=!1,!(typeof zt[w]>"u"||typeof zt[w][C]>"u")){M[2]=!0;for(var d of zt[w][C])emulator.setBreakpoint(d)}}}function Mr(E,M){E==39&&emulator.setKeyPad("right",M),E==37&&emulator.setKeyPad("left",M),E==38&&emulator.setKeyPad("up",M),E==40&&emulator.setKeyPad("down",M),E==83&&emulator.setKeyPad("a",M),E==65&&emulator.setKeyPad("b",M),E==16&&emulator.setKeyPad("select",M),E==13&&emulator.setKeyPad("start",M),E==27&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function Jt(E,M){return"$"+("0000"+E.toString(16)).slice(-M)}function Er(E){emulator.renderScreen();var M=emulator.getPC();document.getElementById("cpu_pc").innerHTML=Jt(M,4),document.getElementById("cpu_sp").innerHTML=Jt(emulator.getSP(),4),document.getElementById("cpu_a").innerHTML=Jt(emulator.getA(),2),document.getElementById("cpu_bc").innerHTML=Jt(emulator.getBC(),4),document.getElementById("cpu_de").innerHTML=Jt(emulator.getDE(),4),document.getElementById("cpu_hl").innerHTML=Jt(emulator.getHL(),4),document.getElementById("cpu_flags").innerHTML=emulator.getFlags();var w=er[M];typeof w>"u"&&(w=er[M-1]),typeof w<"u"?textEditor.setCpuLine(w[0],w[1],E):textEditor.setCpuLine(null,null),vr(),Qt()}function vr(){var E=document.getElementById("emulator_vram_canvas");E.style.display==""&&(Et=="vram"&&emulator.renderVRam(E),Et=="bg0"&&emulator.renderBackground(E,0),Et=="bg1"&&emulator.renderBackground(E,1))}function Qt(){var E=document.getElementById("emulator_display_text");if(E.style.display==""){var M=jt,w=16384,C=0,R=Xr();if(Et=="wram"&&(M=emulator.getWRam(),w=4096,C=49152,R=Lr()),Et=="hram"&&(M=emulator.getHRam(),w=4096,C=65408,R=Lr()),Et=="io"){var a="",d=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var l of d)a+="<span style='float: left; width: 50px'>"+l.name+":</span>"+("00"+emulator.readMem(l.value).toString(16)).slice(-2)+"<br/>";E.innerHTML=a;return}if(!(typeof M>"u")){for(var a="<div style='position: fixed; background-color: #fff'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div><br/>",t=null,e=!1,n=0,r=0;r<M.length;r+=16){var i=Array.prototype.map.call(M.slice(r,r+16),L=>("00"+L.toString(16)).slice(-2)),o=~~(r/w),h=r&w-1;o>0&&(h+=w),a+=("00"+o.toString(16)).slice(-2)+":"+("0000"+(h+C).toString(16)).slice(-4);for(var p=0;p<i.length;p++){a+=" ";var y=R[r+p+C];y?(t=y,e&&(a+="</span>"),e=!1,n=(n+71)%360):y===null&&(t=null,e&&(a+="</span>"),e=!1),t&&!e&&(a+="<span title='"+t+"' style='background-color: hsl("+n+", 50%, 50%)'>",e=!0),a+=i[p]}e&&(a+="</span>"),e=!1,a+="<br/>"}E.innerHTML=a}}}function Gt(){var E=document.getElementById("filelist");E.textContent="";for(const l of Object.keys(storage.getFiles()).sort()){var M=document.createElement("li");M.textContent=l,E.appendChild(M),l==editors.getCurrentFilename()&&M.classList.add("active");for(var[w,C,R,d]of Dr())if(C==l&&(M.classList.add(w),w=="error")){M.classList.remove("warning");break}}}function sn(E){Object.keys(storage.getFiles()).length<2||(storage.update(E,null),editors.getCurrentFilename()==E&&editors.setCurrentFile(Object.keys(storage.getFiles()).sort()[0]),Gt())}window.addEventListener("DOMContentLoaded",E=>{textEditor.register("textEditorDiv"),gfxEditor.register("gfxEditorDiv"),storage.autoLoad(),editors.setCurrentFile(Object.keys(storage.getFiles()).pop()),Gt(),document.getElementById("filelist").onclick=function(w){w.target.childNodes[0].wholeText&&(editors.setCurrentFile(w.target.childNodes[0].wholeText),Gt(),Er())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function(w){w.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var w=document.getElementById("newfile_name").value;w&&(w.indexOf(".")<0&&(w+=".asm"),!(w in storage.getFiles())&&(editors.getFileType(w)==="text"?storage.update(w,""):storage.update(w,new Uint8Array(16)),editors.setCurrentFile(w),Gt(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function(w){if(w.target.files.length>0){var C=w.target.files[0].name,R=editors.getFileType(C)=="text"?w.target.files[0].text():w.target.files[0].arrayBuffer();R.then(function(d){storage.update(C,d),editors.setCurrentFile(C),Gt()}),w.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+editors.getCurrentFilename()+"?")&&sn(editors.getCurrentFilename())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(storage.reset(),editors.setCurrentFile("main.asm"),Gt())},rn(),document.getElementById("cpu_single_step").onclick=function(){fr("single")},document.getElementById("cpu_frame_step").onclick=function(){fr("frame")},document.getElementById("cpu_reset").onclick=function(){Br(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let w=function(){document.hidden||fr("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame(w)};requestAnimationFrame(w)}};var M=document.getElementById("emulator_screen_canvas");M.tabIndex=-1,M.onkeydown=function(w){Mr(w.keyCode,!0),w.preventDefault()},M.onkeyup=function(w){Mr(w.keyCode,!1),w.preventDefault()},document.onkeydown=function(w){w.code=="F8"&&(fr("single"),w.preventDefault()),w.code=="F9"&&(fr("frame"),w.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="none",Et="display"},document.getElementById("emulator_display_vram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="vram",vr()},document.getElementById("emulator_display_bg0").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="bg0",vr()},document.getElementById("emulator_display_bg1").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="bg1",vr()},document.getElementById("emulator_display_rom").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="rom",Qt()},document.getElementById("emulator_display_wram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="wram",Qt()},document.getElementById("emulator_display_hram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="hram",Qt()},document.getElementById("emulator_display_io").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="io",Qt()},document.getElementById("download_rom").onclick=function(){if(!(typeof jt>"u")){var w=document.createElement("a"),C=window.URL.createObjectURL(new Blob([jt.buffer],{type:"application/octet-stream"}));w.setAttribute("href",C),w.setAttribute("download","rom.gb"),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(C)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function(w){w.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){storage.loadGithubGist(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function(w){w.target.files.length>0&&(storage.loadZip(w.target.files[0]),w.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=storage.getHashUrl()},document.getElementById("exportdialog").onclick=function(w){w.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var w=document.getElementById("export_gist_url").value,C=document.getElementById("export_gist_username").value,R=document.getElementById("export_gist_token").value;if(w=storage.saveGithubGist(C,R,w),w==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=w;var d=new URL(document.location);d.hash=w,document.getElementById("export_gist_import_url").value=d.toString()}},document.getElementById("export_zip").onclick=function(){storage.downloadZip()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function(w){w.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=storage.autoUrl,document.getElementById("auto_url_update").onclick=function(){storage.autoUrl=document.getElementById("auto_url_update").checked,storage.autoUrl?storage.update():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=storage.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){storage.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,storage.update()}});
